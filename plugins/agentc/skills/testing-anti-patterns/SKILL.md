---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
82 1 2 1158 2 7575 4 13 2 6087 4 338 2 1269 2 3137 2 1916 2 3894 2 183 2 10771 2 10790 2 6569 2 186 2 1080 2 5400 2 25 2 11028 2 183 2 9 2 2501 2 1844 2 11029 4 771 2 6179 2 876 2 110 2 9 2 287 2 11030 2 183 2 110 2 9 2 1968 2 196 4 11031 2 827 2 277 2 2072 2 3082 2 11032 4 13 2 14 2 10085 2 11033 4 221 82 71 2 7796 2 292 2 10771 2 1426 82 83 2 7796 2 2417 2 11034 2 5105 2 25 2 151 2 7688 82 93 2 7796 2 10771 2 1735 2 1377 2 4318 82 221 4 13 2 7583 2 1721 2 1158 2 7723 2 3729 4 132 2 2957 2 4017 4 4470 2 11035 82 6217 82 3280 2 6218 2 4426 2 1158 2 139 2 9 2 10771 2 2217 82 7708 2 11036 2 6252 2 6223 2 407 506 11037 2 11038 506 11039 82 6382 82 221 4 4470 2 10111 82 6217 82 3280 2 6229 2 4429 2 876 2 1916 2 3346 2 43 2 125 2 10771 2 96 82 7708 2 11036 2 6252 2 6223 2 407 506 11037 2 11038 2684 3280 2 1787 2 10771 2 11040 506 11041 82 6382 82 221 4 132 2 10984 2 4017 4 4470 2 11035 82 8098 82 1 2 6218 2 4426 2 1158 2 139 2 9 2 11042 2 2217 82 8100 2 7457 2 109 506 96 2 11043 2 11044 2 109 453 11040 2 1100 2 11045 453 11046 2 11047 17 8085 2 1100 2 11048 453 11049 2 11050 2684 1 2 1158 2 11051 2 183 2 11052 506 1034 82 1034 82 221 4 4470 2 10111 82 8098 82 1 2 6229 2 4429 2 876 2 1916 2 3346 2 43 2 125 2 10771 2 96 82 8100 2 7457 2 109 506 96 2 11043 2 11040 2 37 2 11053 2 109 453 8085 2 1100 2 11048 2684 1 2 1764 2 1916 2 11054 453 11055 2 11056 506 1034 82 1034 82 221 4 1643 2 177 2 58 2 9215 82 51 2 9607 2 7055 2 9 2 10771 2 11057 2 183 2 139 2 9 2 3346 2 1046 82 51 2 876 2 383 2 658 2 10771 2 58 2 11058 2 6782 2 658 2 2055 2 183 82 51 2 11059 2 112 2 9121 2 126 2 1916 2 1426 4 8998 2 57 2 8994 2 11060 2 6587 2 5217 2 155 2 9 2 1426 2 115 2 1080 2 11061 4 132 2 3268 2 1420 4 221 82 6426 2 11062 2 120 2 31 2 10771 2 11063 506 4024 2 11064 2 49 2 155 2 1916 2 3346 2 1426 2 43 2 3168 2 10771 2 11065 5491 8958 2 155 2 10771 2 11066 453 8960 2 51 2 2688 2 9 2 11012 2 43 2 11067 2 9 2 3346 5491 876 2 1916 2 1426 2 5055 82 221 4 13 2 7583 2 1753 2 11068 2 11069 2 65 2 10386 4 132 2 2957 2 4017 4 4470 2 11035 82 6217 82 3280 2 6218 2 4426 2 11070 2 106 2 1797 2 65 2 386 82 8252 2 6540 2 407 506 6213 2 11070 2 407 2684 3280 2 11071 2 62 2 151 2 11072 453 6221 2 11073 453 3280 2 22 2 2699 506 450 82 450 4 3280 2 6503 2 386 82 11074 2 6223 2 11075 82 221 4 4470 2 10111 82 6217 82 3280 2 6229 2 4429 2 876 2 560 2 4591 2 292 2 2699 82 3280 2 6540 2 2242 2 352 2 11070 2 51 2 2055 2 11076 2 65 2 151 4 3280 2 6503 2 11077 82 6358 2 6213 2 1154 2 11078 2 11079 2 407 506 6226 2 6152 2 1100 2 11080 506 372 2 11081 2 407 453 6221 2 11082 506 450 82 450 4 3280 2 6503 2 386 82 11074 2 6223 2 11083 82 221 4 132 2 10984 2 4017 4 4470 2 11035 82 8098 82 1 2 6218 2 4426 2 11084 2 106 2 1797 2 65 2 386 82 8252 2 6540 2 4168 2 8253 506 4958 2 11084 2684 1 2 11071 2 62 2 151 2 11072 453 11085 453 11086 506 1034 82 1034 4 1 2 6503 2 6093 82 302 2 407 2 11087 2 450 82 221 4 4470 2 10111 82 8098 82 1 2 6229 2 4429 2 876 2 560 2 4591 2 292 2 2699 82 1 2 6540 2 2242 2 352 2 11084 2 51 2 2055 2 5271 4 1 2 6503 2 11088 82 1281 2 11089 506 4958 2 11090 453 6152 2 1100 2 11091 453 11092 2 372 2 6152 453 11093 506 1034 82 1034 4 8414 2 109 2 8415 506 8416 2 11089 82 1034 4 1 2 6503 2 6093 82 302 2 407 2 11090 2 450 82 221 4 1643 2 177 2 58 2 9215 82 51 2 10386 2 8252 2 11094 2 37 2 11034 2 287 82 51 2 1692 2 372 2 2017 2 9397 2 65 2 151 82 51 2 9030 2 9002 2 130 2 9237 2 115 2 1339 82 51 2 11095 2 11096 2 11097 2 37 2 11098 2 11097 4 132 2 3268 2 1420 4 221 82 6426 2 2195 2 31 2 11099 2 25 2 151 2 11100 506 4024 2 9485 2 177 2 106 2 1797 2 188 2 11101 5491 8958 2 7028 453 8960 2 51 2 1787 2 2417 2 96 453 11102 2 96 2 65 2 292 2 560 2 5055 5491 4024 2 176 2 177 2 8252 2 7785 2 177 2 11103 2 11104 5491 8958 2 11105 453 8960 2 51 2 1707 2 8252 2 207 2 177 2 11099 82 221 4 13 2 7583 2 2261 2 11106 2 11107 2 6686 4 132 2 2957 2 4017 4 4470 2 11035 82 6217 82 3280 2 6218 2 4426 2 7723 2 1001 2 292 2 1307 82 11108 2 11109 2 11110 2 6252 2 6223 2 407 506 3280 2 7723 2 2072 2 4410 2 6804 2 139 2 292 2 11111 2 11112 506 11113 2 6252 2 6223 2 11114 453 11115 2 11116 506 11117 5491 6221 2 11118 506 6221 2 11118 2684 3280 2 1239 2 6267 2 51 2 67 2 11119 82 6382 82 221 4 4470 2 10111 82 6217 82 3280 2 6229 2 4429 2 7723 2 30 2 3985 2 4493 82 11108 2 11109 2 11110 2 6252 2 6223 2 407 506 3280 2 7723 2 9 2 10942 2 11120 2 11121 2 1426 2 292 2 1946 506 11122 2 3280 2 11 2 10771 2 10942 2 4329 2 11123 5491 6221 2 11118 2684 3280 2 11124 2 381 506 6221 2 11118 2684 3280 2 11125 2 3318 2 1003 82 6382 82 221 4 132 2 10984 2 4017 4 4470 2 11035 82 8098 82 1 2 6218 2 4426 2 7723 2 1001 2 292 2 1307 82 8100 2 11126 2 109 506 96 2 11127 2 11109 2 11128 2 109 453 1 2 7723 2 2072 2 4410 2 6804 2 139 2 292 2 11111 2 11112 453 11129 2 11130 17 11131 453 8151 2 407 2 11131 2 8152 2 11132 453 1 2 11133 2 11134 2 51 2 4410 2 45 2 11135 506 1034 82 1034 82 221 4 4470 2 10111 82 8098 82 1 2 6229 2 4429 2 7723 2 30 2 3985 2 4493 82 8100 2 11126 2 109 506 96 2 11127 2 11109 2 11128 2 109 453 1 2 7723 2 9 2 10942 2 11120 2 11121 2 1426 2 292 2 1946 453 11136 2 11137 2684 1 2 11 2 10771 2 10942 2 11123 17 11131 2684 1 2 11124 2 381 453 8151 2 407 2 11131 2 8152 2 11132 2684 1 2 11138 506 1034 82 1034 82 221 4 1643 2 177 2 58 2 9215 82 51 2 11139 2 11099 2 4325 2 1447 2 3793 2 292 2 11140 2 120 2 11141 2 11142 82 51 2 11143 2 25 2 11144 2 11145 2 1001 2 322 2 1426 82 51 2 876 2 383 2 207 2 1952 2 1647 2 43 2 6782 2 11146 4 132 2 3268 2 1420 4 221 82 6426 2 11147 2 31 2 8355 506 8960 2 51 2 1787 2 10771 2 6690 5491 71 2 4024 2 426 2 1447 2 1448 2 194 2 9 2 1916 2 11099 2 11148 506 83 2 4024 2 176 2 177 2 292 2 4488 2 120 2 31 2 115 2 1472 2 1447 2 11149 506 93 2 4024 2 4439 2 49 2 6091 2 1335 2 110 2 177 2 292 2 11150 5491 8958 2 11111 2 120 2 1447 2 11151 453 7723 2 30 2 11152 2 4493 2 7355 2 322 2 11153 2 11154 453 11155 2 1586 2 292 2 11156 2 139 2 11121 2 11157 2 1426 453 1790 2 9 2 11158 2 11099 2 9 2 292 2 11111 2 120 5491 8958 2 11159 2 110 2 292 2 11111 2 2307 453 1006 2 292 2 37 2 1916 2 790 2 382 453 9388 2 110 2 1435 2 1946 2 25 2 1796 453 10148 2 2417 2 295 2 11147 2 30 2 9 2 2480 2 4493 5491 7052 2 11160 453 51 2 10053 2 10771 2 177 2 25 2 1485 2 11145 453 51 2 6978 2 1988 2 1485 2 11161 2 1323 2 10771 2 6680 453 51 2 11106 2 1735 2 1377 2 9 2 1685 2 9369 82 221 4 13 2 7583 2 2283 2 4270 2 6569 4 4470 2 11035 82 6217 82 3280 2 6218 2 4426 2 8084 2 10771 2 51 2 106 2 2103 2 112 2 46 2 112 2 488 82 6226 2 11162 2 1100 2 407 506 2701 2 11163 506 8198 2 407 2 11164 2 11165 2 3923 2 11166 2 450 506 3280 2 3493 2 11167 2 139 2 11168 2 287 2 6189 82 6380 4 3280 2 11169 2 1001 2 658 2 287 2 11170 2 11171 82 221 4 1643 2 177 2 58 2 9215 82 51 2 11172 2 1968 2 1989 2 6572 2 11173 2 51 2 44 2 106 2 11174 2 2103 2 112 2 2497 2 126 82 51 2 11175 2 287 2 1135 2 4488 2 120 2 2103 2 112 2 1600 2 11176 2 51 2 5883 2 1889 82 51 2 11177 2 345 2 67 2 530 2 11178 2 51 2 7723 2 11179 2 1916 2 4367 2 1389 82 51 2 11180 2 11181 2 51 2 876 2 10319 2 9121 2 126 2 1916 2 1426 4 4470 2 10085 2 1741 2 7723 2 9 2 2812 2 490 2 264 2 134 2 96 2 2217 2 65 2 11182 2 183 2 3168 2 2103 2 1086 2 9480 2 292 2 11183 4 4470 2 10111 82 6217 82 3280 2 6229 2 4429 2 8888 2 1916 2 4367 2 878 82 6226 2 11162 2 1100 2 407 506 2701 2 11163 506 8198 2 407 2 11164 2 11165 2 3923 2 11166 2 428 506 11184 2 407 2 11185 2 11186 2 3056 2 11187 2 450 506 3280 2 387 2 2103 2 1916 2 4367 2 3231 82 6380 82 221 4 132 2 3268 2 1420 4 221 82 6426 2 1777 2 10771 2 11188 506 3332 2 426 2 2103 2 194 2 9 2 1916 2 4367 2 4357 2 11189 5491 11190 453 71 2 2096 2 322 2 4367 2 4357 2 77 2 11191 453 83 2 1783 2 2806 2 2103 2 52 2 1988 2 11192 2 11168 453 93 2 1013 2 10771 2 5222 2 1916 2 4357 2 652 2 4683 5491 11193 453 192 2 1218 2 1777 2 1080 2 11051 2 112 2 1269 2 1335 2 9 2 11194 2 264 453 8084 2 1968 2 3140 2 2039 2 658 2 287 2 11111 2 120 2 11195 2 2103 5491 192 2 11196 2 1783 2 86 2 1423 2 2103 82 221 4 13 2 7583 2 2311 2 4795 2 338 2 134 2 11197 4 4470 2 11035 82 221 82 6229 2 3172 2 1389 82 6218 2 150 2 386 2 381 82 6148 2 207 2 11198 82 221 4 1643 2 177 2 58 2 9215 82 51 2 1158 2 58 2 2514 2 115 2 10853 2 183 2 1899 2 2863 82 51 2 277 2 1795 2 640 2 2059 2 177 82 51 2 146 2 1418 2 1389 2 1735 2 386 4 4470 2 10111 82 221 82 277 2 11199 82 71 2 290 2 291 2 292 82 83 2 3366 2 25 2 345 82 93 2 297 82 104 2 10148 2 1418 2 1389 82 221 4 13 2 2093 2 6569 2 11200 2 6665 2 1451 4 11201 2 11202 82 51 2 7723 2 4294 2 1494 2 1324 2 292 2 1307 82 51 2 11106 2 95 2 25 2 2134 2 292 2 345 82 51 2 6569 2 1658 2 5105 2 1916 2 2974 2 640 82 51 2 876 2 1001 2 658 2 10771 2 1132 4 8998 2 57 2 8994 2 11203 2 4439 2 5217 2 488 2 25 2 1485 2 2762 2 1080 2 10771 2 11204 4 11205 2 4795 2 386 2 37 2 1916 2 2974 2 1322 2 1372 2 1324 2 3938 2 1968 4 13 2 277 2 5354 2 3390 2 7575 4 1643 2 277 2 11206 82 71 2 3133 2 292 2 3134 2 193 2 9993 2 112 2 25 2 46 2 126 2 110 2 1218 2 1435 2 155 82 83 2 10288 2 96 2 11207 2 193 2 11208 2 292 2 386 2 1916 2 3894 2 183 2 1968 82 93 2 11209 2 11210 2 193 2 150 2 11034 2 5105 2 11211 2 65 82 104 2 11212 2 11213 2 193 2 44 2 321 2 110 2 9 2 292 2 1435 2 1946 2 312 2 11147 4 2409 2 1218 2 155 2 10771 2 3894 2 112 2 2114 2 11214 2 51 2 112 2 397 2 1968 2 1735 2 11215 2 292 2 3140 2 1122 2 1916 2 287 2 3266 4 13 2 686 2 3993 4 143 2 7583 2 143 2 3234 2 143 82 8362 82 143 2 7719 2 120 2 10771 2 2979 2 143 2 876 2 1916 2 3346 2 43 2 11067 2 96 2 143 82 143 2 11216 2 5105 2 65 2 151 2 143 2 2805 2 25 2 292 2 560 2 143 82 143 2 7723 2 1735 2 1377 2 143 2 2252 2 4318 2 8034 2 10771 2 10342 2 143 82 143 2 4270 2 1968 2 143 2 8888 2 1916 2 4367 2 4683 2 143 82 143 2 338 2 134 2 11217 2 143 2 277 2 51 2 386 2 2367 2 143 82 143 2 11218 2 1968 2 143 2 1460 2 530 2 386 2 143 4 13 2 7052 2 7053 4 51 2 11219 2 1056 2 207 2 11220 2 292 2 8375 82 51 2 11069 2 106 2 9397 2 65 2 292 2 1138 82 51 2 7723 2 4294 2 58 2 11221 2 115 2 292 82 51 2 876 2 6782 2 658 2 112 2 2669 2 10771 82 51 2 146 2 1950 2 1386 2 10771 2 58 2 2066 82 51 2 11106 2 10955 2 25 2 1485 2 11145 4 13 2 14 2 9128 2 9129 4 11222 2 186 2 2748 2 25 2 11028 2 183 2 9046 2 25 2 11223 4 192 2 277 2 7460 2 1218 2 155 2 10771 2 3894 2 4697 2 11224 2 11225 4 9333 2 876 2 1916 2 1426 2 43 2 2266 2 1386 2 1218 2 11147 2 30 2 11226