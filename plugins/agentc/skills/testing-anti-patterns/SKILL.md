---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
82 1 2 1410 2 10010 4 13 2 8597 4 503 2 1516 2 355 2 2147 2 4433 2 183 2 14786 2 14805 2 9048 2 186 2 1006 2 6494 2 25 2 15033 2 183 2 9 2 2724 2 2076 2 15034 4 1037 2 8681 2 1139 2 110 2 9 2 458 2 15035 2 183 2 110 2 9 2 2198 2 196 4 15036 2 1091 2 448 2 2302 2 3523 2 15037 4 13 2 14 2 14113 2 15038 4 223 82 71 2 10224 2 463 2 14786 2 1670 82 83 2 10224 2 2644 2 15039 2 6223 2 25 2 151 2 3564 82 93 2 10224 2 14786 2 966 2 579 2 4972 82 223 4 13 2 10018 2 1956 2 1410 2 10154 2 4274 4 132 2 3400 2 2856 4 5110 2 15040 82 8716 82 3776 2 2897 2 5069 2 1410 2 139 2 9 2 14786 2 588 82 10139 2 15041 2 8748 2 5958 2 663 387 15042 2 15043 387 15044 82 8872 82 223 4 5110 2 14158 82 8716 82 3776 2 341 2 5071 2 1139 2 2147 2 3840 2 43 2 125 2 14786 2 96 82 10139 2 15041 2 8748 2 5958 2 663 387 15042 2 15043 247 3776 2 2019 2 14786 2 15045 387 15046 82 8872 82 223 4 132 2 14992 2 2856 4 5110 2 15040 82 10999 82 1 2 2897 2 5069 2 1410 2 139 2 9 2 15047 2 588 82 12287 2 9893 2 109 387 96 2 15048 2 15049 2 109 709 15045 2 292 2 15050 709 15051 2 15052 17 10379 2 292 2 15053 709 15054 2 15055 247 1 2 1410 2 15056 2 183 2 15057 387 1293 82 1293 82 223 4 5110 2 14158 82 10999 82 1 2 341 2 5071 2 1139 2 2147 2 3840 2 43 2 125 2 14786 2 96 82 12287 2 9893 2 109 387 96 2 15048 2 15045 2 37 2 15058 2 109 709 10379 2 292 2 15053 247 1 2 1996 2 2147 2 15059 709 15060 2 15061 387 1293 82 1293 82 223 4 1878 2 177 2 58 2 13303 82 51 2 13667 2 9505 2 9 2 14786 2 15062 2 183 2 139 2 9 2 3840 2 1303 82 51 2 1139 2 547 2 920 2 14786 2 58 2 15063 2 8458 2 920 2 2286 2 183 82 51 2 15064 2 112 2 13215 2 126 2 2147 2 1670 4 13098 2 57 2 13094 2 15065 2 9065 2 5504 2 155 2 9 2 1670 2 115 2 1006 2 15066 4 132 2 3764 2 1664 4 223 82 7872 2 15067 2 120 2 31 2 14786 2 15068 387 3037 2 15069 2 49 2 155 2 2147 2 3840 2 1670 2 43 2 3663 2 14786 2 15070 3014 13059 2 155 2 14786 2 15071 709 8556 2 51 2 3136 2 9 2 15018 2 43 2 15072 2 9 2 3840 3014 1139 2 2147 2 1670 2 6179 82 223 4 13 2 10018 2 1986 2 15073 2 15074 2 65 2 14420 4 132 2 3400 2 2856 4 5110 2 15040 82 8716 82 3776 2 2897 2 5069 2 15075 2 106 2 2029 2 65 2 550 82 6659 2 5490 2 663 387 8712 2 15075 2 663 247 3776 2 15076 2 62 2 151 2 15077 709 8719 2 15078 709 3776 2 22 2 3148 387 706 82 706 4 3776 2 4784 2 550 82 15079 2 5958 2 15080 82 223 4 5110 2 14158 82 8716 82 3776 2 341 2 5071 2 1139 2 825 2 5227 2 463 2 3148 82 3776 2 5490 2 2471 2 516 2 15075 2 51 2 2286 2 15081 2 65 2 151 4 3776 2 4784 2 15082 82 8849 2 8712 2 1406 2 15083 2 15084 2 663 387 8723 2 8656 2 292 2 15085 387 536 2 15086 2 663 709 8719 2 15087 387 706 82 706 4 3776 2 4784 2 550 82 15079 2 5958 2 15088 82 223 4 132 2 14992 2 2856 4 5110 2 15040 82 10999 82 1 2 2897 2 5069 2 15089 2 106 2 2029 2 65 2 550 82 6659 2 5490 2 357 2 7153 387 5907 2 15089 247 1 2 15076 2 62 2 151 2 15077 709 15090 709 15091 387 1293 82 1293 4 1 2 4784 2 8602 82 471 2 663 2 15092 2 706 82 223 4 5110 2 14158 82 10999 82 1 2 341 2 5071 2 1139 2 825 2 5227 2 463 2 3148 82 1 2 5490 2 2471 2 516 2 15089 2 51 2 2286 2 6379 4 1 2 4784 2 15093 82 1528 2 15094 387 5907 2 15095 709 8656 2 292 2 15096 709 15097 2 536 2 8656 709 15098 387 1293 82 1293 4 12555 2 109 2 12556 387 12557 2 15094 82 1293 4 1 2 4784 2 8602 82 471 2 663 2 15095 2 706 82 223 4 1878 2 177 2 58 2 13303 82 51 2 14420 2 6659 2 15099 2 37 2 15039 2 458 82 51 2 1927 2 536 2 2248 2 13468 2 65 2 151 82 51 2 13126 2 13102 2 130 2 13322 2 115 2 1586 82 51 2 15100 2 15101 2 15102 2 37 2 7271 2 15102 4 132 2 3764 2 1664 4 223 82 7872 2 2422 2 31 2 6886 2 25 2 151 2 7179 387 3037 2 13553 2 177 2 106 2 2029 2 188 2 15103 3014 13059 2 8527 709 8556 2 51 2 2019 2 2644 2 96 709 15104 2 96 2 65 2 463 2 825 2 6179 3014 3037 2 176 2 177 2 6659 2 5487 2 177 2 15105 2 15106 3014 13059 2 15107 709 8556 2 51 2 1942 2 6659 2 207 2 177 2 6886 82 223 4 13 2 10018 2 2489 2 15108 2 10398 2 9160 4 132 2 3400 2 2856 4 5110 2 15040 82 8716 82 3776 2 2897 2 5069 2 10154 2 1257 2 463 2 1554 82 15109 2 15110 2 15111 2 8748 2 5958 2 663 387 3776 2 10154 2 2302 2 5054 2 9270 2 139 2 463 2 15112 2 15113 387 15114 2 8748 2 5958 2 15115 709 15116 2 15117 387 15118 3014 8719 2 15119 387 8719 2 15119 247 3776 2 1487 2 8763 2 51 2 67 2 15120 82 8872 82 223 4 5110 2 14158 82 8716 82 3776 2 341 2 5071 2 10154 2 30 2 4522 2 5133 82 15109 2 15110 2 15111 2 8748 2 5958 2 663 387 3776 2 10154 2 9 2 14950 2 15121 2 11165 2 1670 2 463 2 2176 387 15122 2 3776 2 11 2 14786 2 14950 2 4983 2 15123 3014 8719 2 15119 247 3776 2 15124 2 545 387 8719 2 15119 247 3776 2 15125 2 3813 2 1259 82 8872 82 223 4 132 2 14992 2 2856 4 5110 2 15040 82 10999 82 1 2 2897 2 5069 2 10154 2 1257 2 463 2 1554 82 12287 2 15126 2 109 387 96 2 15127 2 15110 2 15128 2 109 709 1 2 10154 2 2302 2 5054 2 9270 2 139 2 463 2 15112 2 15113 709 15129 2 15130 17 15131 709 12335 2 663 2 15131 2 12336 2 15132 709 1 2 15133 2 6746 2 51 2 5054 2 45 2 15134 387 1293 82 1293 82 223 4 5110 2 14158 82 10999 82 1 2 341 2 5071 2 10154 2 30 2 4522 2 5133 82 12287 2 15126 2 109 387 96 2 15127 2 15110 2 15128 2 109 709 1 2 10154 2 9 2 14950 2 15121 2 11165 2 1670 2 463 2 2176 709 15135 2 15136 247 1 2 11 2 14786 2 14950 2 15123 17 15131 247 1 2 15124 2 545 709 12335 2 663 2 15131 2 12336 2 15132 247 1 2 15137 387 1293 82 1293 82 223 4 1878 2 177 2 58 2 13303 82 51 2 15138 2 6886 2 4979 2 1691 2 4334 2 463 2 15139 2 120 2 15140 2 15141 82 51 2 15142 2 25 2 15143 2 15144 2 1257 2 489 2 1670 82 51 2 1139 2 547 2 207 2 2182 2 1882 2 43 2 8458 2 15145 4 132 2 3764 2 1664 4 223 82 7872 2 15146 2 31 2 7254 387 8556 2 51 2 2019 2 14786 2 9164 3014 71 2 3037 2 682 2 1691 2 1692 2 194 2 9 2 2147 2 6886 2 15147 387 83 2 3037 2 176 2 177 2 463 2 5128 2 120 2 31 2 115 2 1715 2 1691 2 15148 387 93 2 3037 2 5079 2 49 2 8600 2 1582 2 110 2 177 2 463 2 15149 3014 13059 2 15112 2 120 2 1691 2 10659 709 10154 2 30 2 15150 2 5133 2 7892 2 489 2 15151 2 11079 709 15152 2 929 2 463 2 15153 2 139 2 11165 2 15154 2 1670 709 2022 2 9 2 15155 2 6886 2 9 2 463 2 15112 2 120 3014 13059 2 15156 2 110 2 463 2 15112 2 2535 709 1262 2 463 2 37 2 2147 2 1056 2 546 709 13459 2 110 2 1679 2 2176 2 25 2 2028 709 14194 2 2644 2 283 2 15146 2 30 2 9 2 2704 2 5133 3014 9502 2 15157 709 51 2 14082 2 14786 2 177 2 25 2 344 2 15144 709 51 2 9433 2 2218 2 344 2 15158 2 1570 2 14786 2 2936 709 51 2 15108 2 966 2 579 2 9 2 1920 2 13441 82 223 4 13 2 10018 2 2511 2 4925 2 9048 4 5110 2 15040 82 8716 82 3776 2 2897 2 5069 2 12273 2 14786 2 51 2 106 2 2331 2 112 2 46 2 112 2 754 82 8723 2 15159 2 292 2 663 387 3150 2 15160 387 12375 2 663 2 15161 2 15162 2 4461 2 15163 2 706 387 3776 2 3981 2 992 2 139 2 15164 2 458 2 8689 82 8870 4 3776 2 15165 2 1257 2 920 2 458 2 15166 2 15167 82 223 4 1878 2 177 2 58 2 13303 82 51 2 15168 2 2198 2 2219 2 9051 2 15169 2 51 2 44 2 106 2 15170 2 2331 2 112 2 2720 2 126 82 51 2 15171 2 458 2 1388 2 5128 2 120 2 2331 2 112 2 1835 2 15172 2 51 2 5917 2 2119 82 51 2 15173 2 510 2 67 2 795 2 15174 2 51 2 10154 2 15175 2 2147 2 5017 2 725 82 51 2 15176 2 15177 2 51 2 1139 2 14357 2 13215 2 126 2 2147 2 1670 4 5110 2 14113 2 1974 2 10154 2 9 2 3262 2 756 2 436 2 134 2 96 2 588 2 65 2 15178 2 183 2 3663 2 2331 2 228 2 13548 2 463 2 15179 4 5110 2 14158 82 8716 82 3776 2 341 2 5071 2 12994 2 2147 2 5017 2 1141 82 8723 2 15159 2 292 2 663 387 3150 2 15160 387 12375 2 663 2 15161 2 15162 2 4461 2 15163 2 684 387 15180 2 663 2 15181 2 15182 2 3499 2 15183 2 706 387 3776 2 287 2 2331 2 2147 2 5017 2 2895 82 8870 82 223 4 132 2 3764 2 1664 4 223 82 7872 2 2009 2 14786 2 15184 387 3826 2 682 2 2331 2 194 2 9 2 2147 2 5017 2 5008 2 15185 3014 15186 709 71 2 2325 2 489 2 5017 2 5008 2 77 2 15187 709 83 2 2015 2 3256 2 2331 2 52 2 2218 2 15188 2 15164 709 93 2 1269 2 14786 2 5510 2 2147 2 5008 2 916 2 5313 3014 15189 709 192 2 1469 2 2009 2 1006 2 15056 2 112 2 1516 2 1582 2 9 2 15190 2 436 709 12273 2 2198 2 3635 2 2270 2 920 2 458 2 15112 2 120 2 15191 2 2331 3014 192 2 15192 2 2015 2 86 2 1667 2 2331 82 223 4 13 2 10018 2 2539 2 5423 2 503 2 134 2 15193 4 5110 2 15040 82 223 82 341 2 3667 2 725 82 2897 2 150 2 550 2 545 82 8652 2 207 2 15194 82 223 4 1878 2 177 2 58 2 13303 82 51 2 1410 2 58 2 2737 2 115 2 14863 2 183 2 2129 2 3309 82 51 2 448 2 2027 2 904 2 2290 2 177 82 51 2 146 2 1662 2 725 2 966 2 550 4 5110 2 14158 82 223 82 448 2 15195 82 71 2 461 2 462 2 463 82 83 2 3590 2 25 2 510 82 93 2 466 82 104 2 14194 2 1662 2 725 82 223 4 13 2 1005 2 9048 2 15196 2 9141 2 1695 4 15197 2 15198 82 51 2 10154 2 4948 2 1734 2 1571 2 463 2 1554 82 51 2 15108 2 95 2 25 2 2361 2 463 2 510 82 51 2 9048 2 1893 2 6223 2 2147 2 3417 2 904 82 51 2 1139 2 1257 2 920 2 14786 2 1385 4 13098 2 57 2 13094 2 15199 2 5079 2 5504 2 754 2 25 2 344 2 1021 2 1006 2 14786 2 15200 4 15201 2 5423 2 550 2 37 2 2147 2 3417 2 1569 2 1618 2 1571 2 4476 2 2198 4 13 2 448 2 6454 2 3881 2 10010 4 1878 2 448 2 15202 82 71 2 3629 2 463 2 3630 2 193 2 14026 2 112 2 25 2 46 2 126 2 110 2 1469 2 1679 2 155 82 83 2 14326 2 96 2 15203 2 193 2 15204 2 463 2 550 2 2147 2 4433 2 183 2 2198 82 93 2 15205 2 15206 2 193 2 150 2 15039 2 6223 2 15207 2 65 82 104 2 15208 2 15209 2 193 2 44 2 488 2 110 2 9 2 463 2 1679 2 2176 2 274 2 15146 4 2637 2 1469 2 155 2 14786 2 4433 2 112 2 2341 2 15210 2 51 2 112 2 560 2 2198 2 966 2 15211 2 463 2 3635 2 1375 2 2147 2 458 2 3762 4 13 2 6442 2 4530 4 143 2 10018 2 143 2 2999 2 143 82 12511 82 143 2 10150 2 120 2 14786 2 3422 2 143 2 1139 2 2147 2 3840 2 43 2 15072 2 96 2 143 82 143 2 15212 2 6223 2 65 2 151 2 143 2 3255 2 25 2 463 2 825 2 143 82 143 2 10154 2 966 2 579 2 143 2 2481 2 4972 2 12224 2 14786 2 14379 2 143 82 143 2 4925 2 2198 2 143 2 12994 2 2147 2 5017 2 5313 2 143 82 143 2 503 2 134 2 15213 2 143 2 448 2 51 2 550 2 2596 2 143 82 143 2 15214 2 2198 2 143 2 1704 2 795 2 550 2 143 4 13 2 9502 2 9503 4 51 2 15215 2 1313 2 207 2 15216 2 463 2 1016 82 51 2 15074 2 106 2 13468 2 65 2 463 2 586 82 51 2 10154 2 4948 2 58 2 15217 2 115 2 463 82 51 2 1139 2 8458 2 920 2 112 2 3119 2 14786 82 51 2 146 2 2180 2 1631 2 14786 2 58 2 2296 82 51 2 15108 2 14963 2 25 2 344 2 15144 4 13 2 14 2 13222 2 13223 4 15218 2 186 2 3198 2 25 2 15033 2 183 2 13142 2 25 2 15219 4 192 2 448 2 9896 2 1469 2 155 2 14786 2 4433 2 5327 2 15220 2 15221 4 10357 2 1139 2 2147 2 1670 2 43 2 2494 2 1631 2 1469 2 15146 2 30 2 15222