---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
82 1 2 1158 2 7581 4 13 2 6096 4 338 2 1269 2 3137 2 1916 2 3894 2 183 2 10777 2 10796 2 6577 2 186 2 1080 2 5400 2 25 2 11034 2 183 2 9 2 2501 2 1844 2 11035 4 771 2 6187 2 876 2 110 2 9 2 287 2 11036 2 183 2 110 2 9 2 1968 2 196 4 11037 2 827 2 277 2 2072 2 3082 2 11038 4 13 2 14 2 10091 2 11039 4 221 82 71 2 7802 2 292 2 10777 2 1426 82 83 2 7802 2 2417 2 11040 2 5105 2 25 2 151 2 7694 82 93 2 7802 2 10777 2 1735 2 1377 2 4318 82 221 4 13 2 7589 2 1721 2 1158 2 7729 2 3729 4 132 2 2957 2 4017 4 4470 2 11041 82 6225 82 3280 2 6226 2 4426 2 1158 2 139 2 9 2 10777 2 2217 82 7714 2 11042 2 6260 2 6231 2 407 506 11043 2 11044 506 11045 82 6390 82 221 4 4470 2 10117 82 6225 82 3280 2 6237 2 4429 2 876 2 1916 2 3346 2 43 2 125 2 10777 2 96 82 7714 2 11042 2 6260 2 6231 2 407 506 11043 2 11044 2684 3280 2 1787 2 10777 2 11046 506 11047 82 6390 82 221 4 132 2 10990 2 4017 4 4470 2 11041 82 8104 82 1 2 6226 2 4426 2 1158 2 139 2 9 2 11048 2 2217 82 8106 2 7463 2 109 506 96 2 11049 2 11050 2 109 453 11046 2 1100 2 11051 453 11052 2 11053 17 8091 2 1100 2 11054 453 11055 2 11056 2684 1 2 1158 2 11057 2 183 2 11058 506 1034 82 1034 82 221 4 4470 2 10117 82 8104 82 1 2 6237 2 4429 2 876 2 1916 2 3346 2 43 2 125 2 10777 2 96 82 8106 2 7463 2 109 506 96 2 11049 2 11046 2 37 2 11059 2 109 453 8091 2 1100 2 11054 2684 1 2 1764 2 1916 2 11060 453 11061 2 11062 506 1034 82 1034 82 221 4 1643 2 177 2 58 2 9221 82 51 2 9613 2 7061 2 9 2 10777 2 11063 2 183 2 139 2 9 2 3346 2 1046 82 51 2 876 2 383 2 658 2 10777 2 58 2 11064 2 6790 2 658 2 2055 2 183 82 51 2 11065 2 112 2 9127 2 126 2 1916 2 1426 4 9004 2 57 2 9000 2 11066 2 6595 2 5217 2 155 2 9 2 1426 2 115 2 1080 2 11067 4 132 2 3268 2 1420 4 221 82 6434 2 11068 2 120 2 31 2 10777 2 11069 506 4024 2 11070 2 49 2 155 2 1916 2 3346 2 1426 2 43 2 3168 2 10777 2 11071 5491 8964 2 155 2 10777 2 11072 453 8966 2 51 2 2688 2 9 2 11018 2 43 2 11073 2 9 2 3346 5491 876 2 1916 2 1426 2 5055 82 221 4 13 2 7589 2 1753 2 11074 2 11075 2 65 2 10392 4 132 2 2957 2 4017 4 4470 2 11041 82 6225 82 3280 2 6226 2 4426 2 11076 2 106 2 1797 2 65 2 386 82 8258 2 6548 2 407 506 6221 2 11076 2 407 2684 3280 2 11077 2 62 2 151 2 11078 453 6229 2 11079 453 3280 2 22 2 2699 506 450 82 450 4 3280 2 6511 2 386 82 11080 2 6231 2 11081 82 221 4 4470 2 10117 82 6225 82 3280 2 6237 2 4429 2 876 2 560 2 4591 2 292 2 2699 82 3280 2 6548 2 2242 2 352 2 11076 2 51 2 2055 2 11082 2 65 2 151 4 3280 2 6511 2 11083 82 6366 2 6221 2 1154 2 11084 2 11085 2 407 506 6234 2 6161 2 1100 2 11086 506 372 2 11087 2 407 453 6229 2 11088 506 450 82 450 4 3280 2 6511 2 386 82 11080 2 6231 2 11089 82 221 4 132 2 10990 2 4017 4 4470 2 11041 82 8104 82 1 2 6226 2 4426 2 11090 2 106 2 1797 2 65 2 386 82 8258 2 6548 2 4168 2 8259 506 4958 2 11090 2684 1 2 11077 2 62 2 151 2 11078 453 11091 453 11092 506 1034 82 1034 4 1 2 6511 2 6102 82 302 2 407 2 11093 2 450 82 221 4 4470 2 10117 82 8104 82 1 2 6237 2 4429 2 876 2 560 2 4591 2 292 2 2699 82 1 2 6548 2 2242 2 352 2 11090 2 51 2 2055 2 5271 4 1 2 6511 2 11094 82 1281 2 11095 506 4958 2 11096 453 6161 2 1100 2 11097 453 11098 2 372 2 6161 453 11099 506 1034 82 1034 4 8420 2 109 2 8421 506 8422 2 11095 82 1034 4 1 2 6511 2 6102 82 302 2 407 2 11096 2 450 82 221 4 1643 2 177 2 58 2 9221 82 51 2 10392 2 8258 2 11100 2 37 2 11040 2 287 82 51 2 1692 2 372 2 2017 2 9403 2 65 2 151 82 51 2 9036 2 9008 2 130 2 9243 2 115 2 1339 82 51 2 11101 2 11102 2 11103 2 37 2 11104 2 11103 4 132 2 3268 2 1420 4 221 82 6434 2 2195 2 31 2 11105 2 25 2 151 2 11106 506 4024 2 9491 2 177 2 106 2 1797 2 188 2 11107 5491 8964 2 7034 453 8966 2 51 2 1787 2 2417 2 96 453 11108 2 96 2 65 2 292 2 560 2 5055 5491 4024 2 176 2 177 2 8258 2 7791 2 177 2 11109 2 11110 5491 8964 2 11111 453 8966 2 51 2 1707 2 8258 2 207 2 177 2 11105 82 221 4 13 2 7589 2 2261 2 11112 2 11113 2 6694 4 132 2 2957 2 4017 4 4470 2 11041 82 6225 82 3280 2 6226 2 4426 2 7729 2 1001 2 292 2 1307 82 11114 2 11115 2 11116 2 6260 2 6231 2 407 506 3280 2 7729 2 2072 2 4410 2 6812 2 139 2 292 2 11117 2 11118 506 11119 2 6260 2 6231 2 11120 453 11121 2 11122 506 11123 5491 6229 2 11124 506 6229 2 11124 2684 3280 2 1239 2 6275 2 51 2 67 2 11125 82 6390 82 221 4 4470 2 10117 82 6225 82 3280 2 6237 2 4429 2 7729 2 30 2 3985 2 4493 82 11114 2 11115 2 11116 2 6260 2 6231 2 407 506 3280 2 7729 2 9 2 10948 2 11126 2 11127 2 1426 2 292 2 1946 506 11128 2 3280 2 11 2 10777 2 10948 2 4329 2 11129 5491 6229 2 11124 2684 3280 2 11130 2 381 506 6229 2 11124 2684 3280 2 11131 2 3318 2 1003 82 6390 82 221 4 132 2 10990 2 4017 4 4470 2 11041 82 8104 82 1 2 6226 2 4426 2 7729 2 1001 2 292 2 1307 82 8106 2 11132 2 109 506 96 2 11133 2 11115 2 11134 2 109 453 1 2 7729 2 2072 2 4410 2 6812 2 139 2 292 2 11117 2 11118 453 11135 2 11136 17 11137 453 8157 2 407 2 11137 2 8158 2 11138 453 1 2 11139 2 11140 2 51 2 4410 2 45 2 11141 506 1034 82 1034 82 221 4 4470 2 10117 82 8104 82 1 2 6237 2 4429 2 7729 2 30 2 3985 2 4493 82 8106 2 11132 2 109 506 96 2 11133 2 11115 2 11134 2 109 453 1 2 7729 2 9 2 10948 2 11126 2 11127 2 1426 2 292 2 1946 453 11142 2 11143 2684 1 2 11 2 10777 2 10948 2 11129 17 11137 2684 1 2 11130 2 381 453 8157 2 407 2 11137 2 8158 2 11138 2684 1 2 11144 506 1034 82 1034 82 221 4 1643 2 177 2 58 2 9221 82 51 2 11145 2 11105 2 4325 2 1447 2 3793 2 292 2 11146 2 120 2 11147 2 11148 82 51 2 11149 2 25 2 11150 2 11151 2 1001 2 322 2 1426 82 51 2 876 2 383 2 207 2 1952 2 1647 2 43 2 6790 2 11152 4 132 2 3268 2 1420 4 221 82 6434 2 11153 2 31 2 8361 506 8966 2 51 2 1787 2 10777 2 6698 5491 71 2 4024 2 426 2 1447 2 1448 2 194 2 9 2 1916 2 11105 2 11154 506 83 2 4024 2 176 2 177 2 292 2 4488 2 120 2 31 2 115 2 1472 2 1447 2 11155 506 93 2 4024 2 4439 2 49 2 6100 2 1335 2 110 2 177 2 292 2 11156 5491 8964 2 11117 2 120 2 1447 2 11157 453 7729 2 30 2 11158 2 4493 2 7361 2 322 2 11159 2 11160 453 11161 2 1586 2 292 2 11162 2 139 2 11127 2 11163 2 1426 453 1790 2 9 2 11164 2 11105 2 9 2 292 2 11117 2 120 5491 8964 2 11165 2 110 2 292 2 11117 2 2307 453 1006 2 292 2 37 2 1916 2 790 2 382 453 9394 2 110 2 1435 2 1946 2 25 2 1796 453 10154 2 2417 2 295 2 11153 2 30 2 9 2 2480 2 4493 5491 7058 2 11166 453 51 2 10059 2 10777 2 177 2 25 2 1485 2 11151 453 51 2 6985 2 1988 2 1485 2 11167 2 1323 2 10777 2 6688 453 51 2 11112 2 1735 2 1377 2 9 2 1685 2 9375 82 221 4 13 2 7589 2 2283 2 4270 2 6577 4 4470 2 11041 82 6225 82 3280 2 6226 2 4426 2 8090 2 10777 2 51 2 106 2 2103 2 112 2 46 2 112 2 488 82 6234 2 11168 2 1100 2 407 506 2701 2 11169 506 8204 2 407 2 11170 2 11171 2 3923 2 11172 2 450 506 3280 2 3493 2 11173 2 139 2 11174 2 287 2 6197 82 6388 4 3280 2 11175 2 1001 2 658 2 287 2 11176 2 11177 82 221 4 1643 2 177 2 58 2 9221 82 51 2 11178 2 1968 2 1989 2 6580 2 11179 2 51 2 44 2 106 2 11180 2 2103 2 112 2 2497 2 126 82 51 2 11181 2 287 2 1135 2 4488 2 120 2 2103 2 112 2 1600 2 11182 2 51 2 5892 2 1889 82 51 2 11183 2 345 2 67 2 530 2 11184 2 51 2 7729 2 11185 2 1916 2 4367 2 1389 82 51 2 11186 2 11187 2 51 2 876 2 10325 2 9127 2 126 2 1916 2 1426 4 4470 2 10091 2 1741 2 7729 2 9 2 2812 2 490 2 264 2 134 2 96 2 2217 2 65 2 11188 2 183 2 3168 2 2103 2 1086 2 9486 2 292 2 11189 4 4470 2 10117 82 6225 82 3280 2 6237 2 4429 2 8894 2 1916 2 4367 2 878 82 6234 2 11168 2 1100 2 407 506 2701 2 11169 506 8204 2 407 2 11170 2 11171 2 3923 2 11172 2 428 506 11190 2 407 2 11191 2 11192 2 3056 2 11193 2 450 506 3280 2 387 2 2103 2 1916 2 4367 2 3231 82 6388 82 221 4 132 2 3268 2 1420 4 221 82 6434 2 1777 2 10777 2 11194 506 3332 2 426 2 2103 2 194 2 9 2 1916 2 4367 2 4357 2 11195 5491 11196 453 71 2 2096 2 322 2 4367 2 4357 2 77 2 11197 453 83 2 1783 2 2806 2 2103 2 52 2 1988 2 11198 2 11174 453 93 2 1013 2 10777 2 5222 2 1916 2 4357 2 652 2 4683 5491 11199 453 192 2 1218 2 1777 2 1080 2 11057 2 112 2 1269 2 1335 2 9 2 11200 2 264 453 8090 2 1968 2 3140 2 2039 2 658 2 287 2 11117 2 120 2 11201 2 2103 5491 192 2 11202 2 1783 2 86 2 1423 2 2103 82 221 4 13 2 7589 2 2311 2 4795 2 338 2 134 2 11203 4 4470 2 11041 82 221 82 6237 2 3172 2 1389 82 6226 2 150 2 386 2 381 82 6157 2 207 2 11204 82 221 4 1643 2 177 2 58 2 9221 82 51 2 1158 2 58 2 2514 2 115 2 10859 2 183 2 1899 2 2863 82 51 2 277 2 1795 2 640 2 2059 2 177 82 51 2 146 2 1418 2 1389 2 1735 2 386 4 4470 2 10117 82 221 82 277 2 11205 82 71 2 290 2 291 2 292 82 83 2 3366 2 25 2 345 82 93 2 297 82 104 2 10154 2 1418 2 1389 82 221 4 13 2 2093 2 6577 2 11206 2 6673 2 1451 4 11207 2 11208 82 51 2 7729 2 4294 2 1494 2 1324 2 292 2 1307 82 51 2 11112 2 95 2 25 2 2134 2 292 2 345 82 51 2 6577 2 1658 2 5105 2 1916 2 2974 2 640 82 51 2 876 2 1001 2 658 2 10777 2 1132 4 9004 2 57 2 9000 2 11209 2 4439 2 5217 2 488 2 25 2 1485 2 2762 2 1080 2 10777 2 11210 4 11211 2 4795 2 386 2 37 2 1916 2 2974 2 1322 2 1372 2 1324 2 3938 2 1968 4 13 2 277 2 5354 2 3390 2 7581 4 1643 2 277 2 11212 82 71 2 3133 2 292 2 3134 2 193 2 9999 2 112 2 25 2 46 2 126 2 110 2 1218 2 1435 2 155 82 83 2 10294 2 96 2 11213 2 193 2 11214 2 292 2 386 2 1916 2 3894 2 183 2 1968 82 93 2 11215 2 11216 2 193 2 150 2 11040 2 5105 2 11217 2 65 82 104 2 11218 2 11219 2 193 2 44 2 321 2 110 2 9 2 292 2 1435 2 1946 2 312 2 11153 4 2409 2 1218 2 155 2 10777 2 3894 2 112 2 2114 2 11220 2 51 2 112 2 397 2 1968 2 1735 2 11221 2 292 2 3140 2 1122 2 1916 2 287 2 3266 4 13 2 686 2 3993 4 143 2 7589 2 143 2 3234 2 143 82 8368 82 143 2 7725 2 120 2 10777 2 2979 2 143 2 876 2 1916 2 3346 2 43 2 11073 2 96 2 143 82 143 2 11222 2 5105 2 65 2 151 2 143 2 2805 2 25 2 292 2 560 2 143 82 143 2 7729 2 1735 2 1377 2 143 2 2252 2 4318 2 8040 2 10777 2 10348 2 143 82 143 2 4270 2 1968 2 143 2 8894 2 1916 2 4367 2 4683 2 143 82 143 2 338 2 134 2 11223 2 143 2 277 2 51 2 386 2 2367 2 143 82 143 2 11224 2 1968 2 143 2 1460 2 530 2 386 2 143 4 13 2 7058 2 7059 4 51 2 11225 2 1056 2 207 2 11226 2 292 2 8381 82 51 2 11075 2 106 2 9403 2 65 2 292 2 1138 82 51 2 7729 2 4294 2 58 2 11227 2 115 2 292 82 51 2 876 2 6790 2 658 2 112 2 2669 2 10777 82 51 2 146 2 1950 2 1386 2 10777 2 58 2 2066 82 51 2 11112 2 10961 2 25 2 1485 2 11151 4 13 2 14 2 9134 2 9135 4 11228 2 186 2 2748 2 25 2 11034 2 183 2 9052 2 25 2 11229 4 192 2 277 2 7466 2 1218 2 155 2 10777 2 3894 2 4697 2 11230 2 11231 4 9339 2 876 2 1916 2 1426 2 43 2 2266 2 1386 2 1218 2 11153 2 30 2 11232