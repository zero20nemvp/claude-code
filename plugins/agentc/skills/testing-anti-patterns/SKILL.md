---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
82 1 2 1318 2 9913 4 13 2 8499 4 503 2 1425 2 355 2 2061 2 4353 2 183 2 13979 2 13998 2 8951 2 186 2 929 2 6429 2 25 2 14229 2 183 2 9 2 2638 2 1990 2 14230 4 945 2 8583 2 1046 2 110 2 9 2 458 2 14231 2 183 2 110 2 9 2 2111 2 196 4 14232 2 998 2 448 2 2215 2 3439 2 14233 4 13 2 14 2 13303 2 14234 4 223 82 71 2 10127 2 463 2 13979 2 1581 82 83 2 10127 2 2558 2 14235 2 6157 2 25 2 151 2 3480 82 93 2 10127 2 13979 2 1882 2 579 2 4896 82 223 4 13 2 9921 2 1869 2 1318 2 10057 2 4191 4 132 2 3316 2 2770 4 5034 2 14236 82 8618 82 3693 2 2811 2 4993 2 1318 2 139 2 9 2 13979 2 588 82 10042 2 14237 2 8650 2 5892 2 663 387 14238 2 14239 387 14240 82 8775 82 223 4 5034 2 13348 82 8618 82 3693 2 341 2 4995 2 1046 2 2061 2 3757 2 43 2 125 2 13979 2 96 82 10042 2 14237 2 8650 2 5892 2 663 387 14238 2 14239 247 3693 2 1934 2 13979 2 14241 387 14242 82 8775 82 223 4 132 2 14186 2 2770 4 5034 2 14236 82 10902 82 1 2 2811 2 4993 2 1318 2 139 2 9 2 14243 2 588 82 11437 2 9796 2 109 387 96 2 14244 2 14245 2 109 709 14241 2 292 2 14246 709 14247 2 14248 17 10282 2 292 2 14249 709 14250 2 14251 247 1 2 1318 2 14252 2 183 2 14253 387 1201 82 1201 82 223 4 5034 2 13348 82 10902 82 1 2 341 2 4995 2 1046 2 2061 2 3757 2 43 2 125 2 13979 2 96 82 11437 2 9796 2 109 387 96 2 14244 2 14241 2 37 2 14254 2 109 709 10282 2 292 2 14249 247 1 2 1911 2 2061 2 14255 709 14256 2 14257 387 1201 82 1201 82 223 4 1791 2 177 2 58 2 12484 82 51 2 12852 2 9408 2 9 2 13979 2 14258 2 183 2 139 2 9 2 3757 2 1211 82 51 2 1046 2 547 2 920 2 13979 2 58 2 14259 2 8360 2 920 2 2199 2 183 82 51 2 14260 2 112 2 12394 2 126 2 2061 2 1581 4 12277 2 57 2 12273 2 14261 2 8968 2 5432 2 155 2 9 2 1581 2 115 2 929 2 14262 4 132 2 3681 2 1575 4 223 82 7771 2 14263 2 120 2 31 2 13979 2 14264 387 2951 2 14265 2 49 2 155 2 2061 2 3757 2 1581 2 43 2 3580 2 13979 2 14266 2928 12238 2 155 2 13979 2 14267 709 8458 2 51 2 3051 2 9 2 14214 2 43 2 14268 2 9 2 3757 2928 1046 2 2061 2 1581 2 6113 82 223 4 13 2 9921 2 1900 2 14269 2 14270 2 65 2 13611 4 132 2 3316 2 2770 4 5034 2 14236 82 8618 82 3693 2 2811 2 4993 2 14271 2 106 2 1944 2 65 2 550 82 6594 2 5418 2 663 387 8614 2 14271 2 663 247 3693 2 14272 2 62 2 151 2 14273 709 8621 2 14274 709 3693 2 22 2 3063 387 706 82 706 4 3693 2 4708 2 550 82 14275 2 5892 2 14276 82 223 4 5034 2 13348 82 8618 82 3693 2 341 2 4995 2 1046 2 825 2 5153 2 463 2 3063 82 3693 2 5418 2 2384 2 516 2 14271 2 51 2 2199 2 14277 2 65 2 151 4 3693 2 4708 2 14278 82 8752 2 8614 2 1314 2 14279 2 14280 2 663 387 8625 2 8558 2 292 2 14281 387 536 2 14282 2 663 709 8621 2 14283 387 706 82 706 4 3693 2 4708 2 550 82 14275 2 5892 2 14284 82 223 4 132 2 14186 2 2770 4 5034 2 14236 82 10902 82 1 2 2811 2 4993 2 14285 2 106 2 1944 2 65 2 550 82 6594 2 5418 2 357 2 7089 387 5841 2 14285 247 1 2 14272 2 62 2 151 2 14273 709 14286 709 14287 387 1201 82 1201 4 1 2 4708 2 8504 82 471 2 663 2 14288 2 706 82 223 4 5034 2 13348 82 10902 82 1 2 341 2 4995 2 1046 2 825 2 5153 2 463 2 3063 82 1 2 5418 2 2384 2 516 2 14285 2 51 2 2199 2 6313 4 1 2 4708 2 14289 82 1437 2 14290 387 5841 2 14291 709 8558 2 292 2 14292 709 14293 2 536 2 8558 709 14294 387 1201 82 1201 4 11726 2 109 2 11727 387 11728 2 14290 82 1201 4 1 2 4708 2 8504 82 471 2 663 2 14291 2 706 82 223 4 1791 2 177 2 58 2 12484 82 51 2 13611 2 6594 2 14295 2 37 2 14235 2 458 82 51 2 1840 2 536 2 2161 2 12650 2 65 2 151 82 51 2 12305 2 12281 2 130 2 12503 2 115 2 1495 82 51 2 14296 2 14297 2 14298 2 37 2 7207 2 14298 4 132 2 3681 2 1575 4 223 82 7771 2 2335 2 31 2 6821 2 25 2 151 2 7115 387 2951 2 12736 2 177 2 106 2 1944 2 188 2 14299 2928 12238 2 8429 709 8458 2 51 2 1934 2 2558 2 96 709 14300 2 96 2 65 2 463 2 825 2 6113 2928 2951 2 176 2 177 2 6594 2 5415 2 177 2 14301 2 14302 2928 12238 2 14303 709 8458 2 51 2 1855 2 6594 2 207 2 177 2 6821 82 223 4 13 2 9921 2 2402 2 14304 2 10301 2 9063 4 132 2 3316 2 2770 4 5034 2 14236 82 8618 82 3693 2 2811 2 4993 2 10057 2 1165 2 463 2 1463 82 14305 2 14306 2 14307 2 8650 2 5892 2 663 387 3693 2 10057 2 2215 2 4978 2 9173 2 139 2 463 2 14308 2 14309 387 14310 2 8650 2 5892 2 14311 709 14312 2 14313 387 14314 2928 8621 2 14315 387 8621 2 14315 247 3693 2 1396 2 8665 2 51 2 67 2 14316 82 8775 82 223 4 5034 2 13348 82 8618 82 3693 2 341 2 4995 2 10057 2 30 2 4443 2 5057 82 14305 2 14306 2 14307 2 8650 2 5892 2 663 387 3693 2 10057 2 9 2 14144 2 14317 2 11069 2 1581 2 463 2 2090 387 14318 2 3693 2 11 2 13979 2 14144 2 4907 2 14319 2928 8621 2 14315 247 3693 2 14320 2 545 387 8621 2 14315 247 3693 2 14321 2 3730 2 1167 82 8775 82 223 4 132 2 14186 2 2770 4 5034 2 14236 82 10902 82 1 2 2811 2 4993 2 10057 2 1165 2 463 2 1463 82 11437 2 14322 2 109 387 96 2 14323 2 14306 2 14324 2 109 709 1 2 10057 2 2215 2 4978 2 9173 2 139 2 463 2 14308 2 14309 709 14325 2 14326 17 14327 709 11485 2 663 2 14327 2 11486 2 14328 709 1 2 14329 2 6681 2 51 2 4978 2 45 2 14330 387 1201 82 1201 82 223 4 5034 2 13348 82 10902 82 1 2 341 2 4995 2 10057 2 30 2 4443 2 5057 82 11437 2 14322 2 109 387 96 2 14323 2 14306 2 14324 2 109 709 1 2 10057 2 9 2 14144 2 14317 2 11069 2 1581 2 463 2 2090 709 14331 2 14332 247 1 2 11 2 13979 2 14144 2 14319 17 14327 247 1 2 14320 2 545 709 11485 2 663 2 14327 2 11486 2 14328 247 1 2 14333 387 1201 82 1201 82 223 4 1791 2 177 2 58 2 12484 82 51 2 14334 2 6821 2 4903 2 1602 2 4253 2 463 2 14335 2 120 2 14336 2 14337 82 51 2 14338 2 25 2 14339 2 14340 2 1165 2 489 2 1581 82 51 2 1046 2 547 2 207 2 2096 2 1795 2 43 2 8360 2 14341 4 132 2 3681 2 1575 4 223 82 7771 2 14342 2 31 2 7190 387 8458 2 51 2 1934 2 13979 2 9067 2928 71 2 2951 2 682 2 1602 2 1603 2 194 2 9 2 2061 2 6821 2 14343 387 83 2 2951 2 176 2 177 2 463 2 5052 2 120 2 31 2 115 2 1626 2 1602 2 14344 387 93 2 2951 2 5003 2 49 2 8502 2 1491 2 110 2 177 2 463 2 14345 2928 12238 2 14308 2 120 2 1602 2 10562 709 10057 2 30 2 14346 2 5057 2 7790 2 489 2 14347 2 10982 709 14348 2 1734 2 463 2 14349 2 139 2 11069 2 14350 2 1581 709 1937 2 9 2 14351 2 6821 2 9 2 463 2 14308 2 120 2928 12238 2 14352 2 110 2 463 2 14308 2 2448 709 1170 2 463 2 37 2 2061 2 938 2 546 709 12641 2 110 2 1590 2 2090 2 25 2 1943 709 13384 2 2558 2 283 2 14342 2 30 2 9 2 2618 2 5057 2928 9405 2 14353 709 51 2 13272 2 13979 2 177 2 25 2 344 2 14340 709 51 2 9336 2 2131 2 344 2 14354 2 1479 2 13979 2 2850 709 51 2 14304 2 1882 2 579 2 9 2 1833 2 12623 82 223 4 13 2 9921 2 2424 2 4849 2 8951 4 5034 2 14236 82 8618 82 3693 2 2811 2 4993 2 11423 2 13979 2 51 2 106 2 2244 2 112 2 46 2 112 2 754 82 8625 2 14355 2 292 2 663 387 3065 2 14356 387 11528 2 663 2 14357 2 14358 2 4381 2 14359 2 706 387 3693 2 3899 2 7800 2 139 2 14360 2 458 2 8591 82 8773 4 3693 2 14361 2 1165 2 920 2 458 2 14362 2 14363 82 223 4 1791 2 177 2 58 2 12484 82 51 2 14364 2 2111 2 2132 2 8954 2 14365 2 51 2 44 2 106 2 14366 2 2244 2 112 2 2634 2 126 82 51 2 14367 2 458 2 1296 2 5052 2 120 2 2244 2 112 2 1748 2 14368 2 51 2 5851 2 2033 82 51 2 14369 2 510 2 67 2 795 2 14370 2 51 2 10057 2 14371 2 2061 2 4941 2 725 82 51 2 14372 2 14373 2 51 2 1046 2 13548 2 12394 2 126 2 2061 2 1581 4 5034 2 13303 2 1888 2 10057 2 9 2 3178 2 756 2 436 2 134 2 96 2 588 2 65 2 14374 2 183 2 3580 2 2244 2 228 2 12731 2 463 2 14375 4 5034 2 13348 82 8618 82 3693 2 341 2 4995 2 12171 2 2061 2 4941 2 1048 82 8625 2 14355 2 292 2 663 387 3065 2 14356 387 11528 2 663 2 14357 2 14358 2 4381 2 14359 2 684 387 14376 2 663 2 14377 2 14378 2 3415 2 14379 2 706 387 3693 2 287 2 2244 2 2061 2 4941 2 2809 82 8773 82 223 4 132 2 3681 2 1575 4 223 82 7771 2 1924 2 13979 2 14380 387 3743 2 682 2 2244 2 194 2 9 2 2061 2 4941 2 4932 2 14381 2928 14382 709 71 2 2238 2 489 2 4941 2 4932 2 77 2 14383 709 83 2 1930 2 3172 2 2244 2 52 2 2131 2 14384 2 14360 709 93 2 1177 2 13979 2 5438 2 2061 2 4932 2 916 2 5241 2928 14385 709 192 2 1377 2 1924 2 929 2 14252 2 112 2 1425 2 1491 2 9 2 14386 2 436 709 11423 2 2111 2 3552 2 2183 2 920 2 458 2 14308 2 120 2 14387 2 2244 2928 192 2 14388 2 1930 2 86 2 1578 2 2244 82 223 4 13 2 9921 2 2452 2 5351 2 503 2 134 2 14389 4 5034 2 14236 82 223 82 341 2 3584 2 725 82 2811 2 150 2 550 2 545 82 8554 2 207 2 14390 82 223 4 1791 2 177 2 58 2 12484 82 51 2 1318 2 58 2 2651 2 115 2 14056 2 183 2 2043 2 3225 82 51 2 448 2 1942 2 904 2 2203 2 177 82 51 2 146 2 1573 2 725 2 1882 2 550 4 5034 2 13348 82 223 82 448 2 14391 82 71 2 461 2 462 2 463 82 83 2 3507 2 25 2 510 82 93 2 466 82 104 2 13384 2 1573 2 725 82 223 4 13 2 928 2 8951 2 14392 2 9044 2 1606 4 14393 2 14394 82 51 2 10057 2 4872 2 1645 2 1480 2 463 2 1463 82 51 2 14304 2 95 2 25 2 2274 2 463 2 510 82 51 2 8951 2 1806 2 6157 2 2061 2 3333 2 904 82 51 2 1046 2 1165 2 920 2 13979 2 1293 4 12277 2 57 2 12273 2 14395 2 5003 2 5432 2 754 2 25 2 344 2 3128 2 929 2 13979 2 14396 4 14397 2 5351 2 550 2 37 2 2061 2 3333 2 1478 2 1529 2 1480 2 4396 2 2111 4 13 2 448 2 6389 2 3798 2 9913 4 1791 2 448 2 14398 82 71 2 3546 2 463 2 3547 2 193 2 13216 2 112 2 25 2 46 2 126 2 110 2 1377 2 1590 2 155 82 83 2 13517 2 96 2 14399 2 193 2 14400 2 463 2 550 2 2061 2 4353 2 183 2 2111 82 93 2 14401 2 14402 2 193 2 150 2 14235 2 6157 2 14403 2 65 82 104 2 14404 2 14405 2 193 2 44 2 488 2 110 2 9 2 463 2 1590 2 2090 2 274 2 14342 4 2550 2 1377 2 155 2 13979 2 4353 2 112 2 2254 2 14406 2 51 2 112 2 560 2 2111 2 1882 2 14407 2 463 2 3552 2 1283 2 2061 2 458 2 3679 4 13 2 6377 2 4451 4 143 2 9921 2 143 2 2913 2 143 82 11678 82 143 2 10053 2 120 2 13979 2 3338 2 143 2 1046 2 2061 2 3757 2 43 2 14268 2 96 2 143 82 143 2 14408 2 6157 2 65 2 151 2 143 2 3171 2 25 2 463 2 825 2 143 82 143 2 10057 2 1882 2 579 2 143 2 2394 2 4896 2 11373 2 13979 2 13570 2 143 82 143 2 4849 2 2111 2 143 2 12171 2 2061 2 4941 2 5241 2 143 82 143 2 503 2 134 2 14409 2 143 2 448 2 51 2 550 2 2509 2 143 82 143 2 14410 2 2111 2 143 2 1615 2 795 2 550 2 143 4 13 2 9405 2 9406 4 51 2 14411 2 1221 2 207 2 14412 2 463 2 11689 82 51 2 14270 2 106 2 12650 2 65 2 463 2 586 82 51 2 10057 2 4872 2 58 2 14413 2 115 2 463 82 51 2 1046 2 8360 2 920 2 112 2 3033 2 13979 82 51 2 146 2 2094 2 1542 2 13979 2 58 2 2209 82 51 2 14304 2 14157 2 25 2 344 2 14340 4 13 2 14 2 12401 2 12402 4 14414 2 186 2 3113 2 25 2 14229 2 183 2 12321 2 25 2 14415 4 192 2 448 2 9799 2 1377 2 155 2 13979 2 4353 2 5255 2 14416 2 14417 4 10260 2 1046 2 2061 2 1581 2 43 2 2407 2 1542 2 1377 2 14342 2 30 2 14418