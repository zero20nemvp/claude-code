---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
82 1 2 1318 2 9871 4 13 2 8455 4 503 2 1425 2 355 2 2061 2 4300 2 183 2 13916 2 13935 2 8908 2 186 2 929 2 6381 2 25 2 14166 2 183 2 9 2 2638 2 1990 2 14167 4 945 2 8539 2 1046 2 110 2 9 2 458 2 14168 2 183 2 110 2 9 2 2111 2 196 4 14169 2 998 2 448 2 2215 2 3439 2 14170 4 13 2 14 2 13260 2 14171 4 223 82 71 2 10085 2 463 2 13916 2 1581 82 83 2 10085 2 2558 2 14172 2 6109 2 25 2 151 2 7288 82 93 2 10085 2 13916 2 1882 2 579 2 4845 82 223 4 13 2 9879 2 1869 2 1318 2 10015 2 4136 4 132 2 3316 2 2770 4 4985 2 14173 82 8574 82 3637 2 2811 2 4944 2 1318 2 139 2 9 2 13916 2 588 82 10000 2 14174 2 8606 2 5844 2 663 387 14175 2 14176 387 14177 82 8731 82 223 4 4985 2 13286 82 8574 82 3637 2 341 2 4946 2 1046 2 2061 2 3701 2 43 2 125 2 13916 2 96 82 10000 2 14174 2 8606 2 5844 2 663 387 14175 2 14176 247 3637 2 1934 2 13916 2 14178 387 14179 82 8731 82 223 4 132 2 14123 2 2770 4 4985 2 14173 82 10862 82 1 2 2811 2 4944 2 1318 2 139 2 9 2 14180 2 588 82 11395 2 9754 2 109 387 96 2 14181 2 14182 2 109 709 14178 2 292 2 14183 709 14184 2 14185 17 10244 2 292 2 14186 709 14187 2 14188 247 1 2 1318 2 14189 2 183 2 14190 387 1201 82 1201 82 223 4 4985 2 13286 82 10862 82 1 2 341 2 4946 2 1046 2 2061 2 3701 2 43 2 125 2 13916 2 96 82 11395 2 9754 2 109 387 96 2 14181 2 14178 2 37 2 14191 2 109 709 10244 2 292 2 14186 247 1 2 1911 2 2061 2 14192 709 14193 2 14194 387 1201 82 1201 82 223 4 1791 2 177 2 58 2 12442 82 51 2 12809 2 9366 2 9 2 13916 2 14195 2 183 2 139 2 9 2 3701 2 1211 82 51 2 1046 2 547 2 920 2 13916 2 58 2 14196 2 8316 2 920 2 2199 2 183 82 51 2 14197 2 112 2 12352 2 126 2 2061 2 1581 4 12235 2 57 2 12231 2 14198 2 8925 2 5383 2 155 2 9 2 1581 2 115 2 929 2 14199 4 132 2 3625 2 1575 4 223 82 7727 2 14200 2 120 2 31 2 13916 2 14201 387 2951 2 14202 2 49 2 155 2 2061 2 3701 2 1581 2 43 2 3524 2 13916 2 14203 2928 12196 2 155 2 13916 2 14204 709 8414 2 51 2 3051 2 9 2 14151 2 43 2 14205 2 9 2 3701 2928 1046 2 2061 2 1581 2 6065 82 223 4 13 2 9879 2 1900 2 14206 2 14207 2 65 2 13550 4 132 2 3316 2 2770 4 4985 2 14173 82 8574 82 3637 2 2811 2 4944 2 14208 2 106 2 1944 2 65 2 550 82 6546 2 5369 2 663 387 8570 2 14208 2 663 247 3637 2 14209 2 62 2 151 2 14210 709 8577 2 14211 709 3637 2 22 2 3063 387 706 82 706 4 3637 2 4656 2 550 82 14212 2 5844 2 14213 82 223 4 4985 2 13286 82 8574 82 3637 2 341 2 4946 2 1046 2 825 2 5104 2 463 2 3063 82 3637 2 5369 2 2384 2 516 2 14208 2 51 2 2199 2 14214 2 65 2 151 4 3637 2 4656 2 14215 82 8708 2 8570 2 1314 2 14216 2 14217 2 663 387 8581 2 8514 2 292 2 14218 387 536 2 14219 2 663 709 8577 2 14220 387 706 82 706 4 3637 2 4656 2 550 82 14212 2 5844 2 14221 82 223 4 132 2 14123 2 2770 4 4985 2 14173 82 10862 82 1 2 2811 2 4944 2 14222 2 106 2 1944 2 65 2 550 82 6546 2 5369 2 357 2 7043 387 5793 2 14222 247 1 2 14209 2 62 2 151 2 14210 709 14223 709 14224 387 1201 82 1201 4 1 2 4656 2 8460 82 471 2 663 2 14225 2 706 82 223 4 4985 2 13286 82 10862 82 1 2 341 2 4946 2 1046 2 825 2 5104 2 463 2 3063 82 1 2 5369 2 2384 2 516 2 14222 2 51 2 2199 2 6265 4 1 2 4656 2 14226 82 1437 2 14227 387 5793 2 14228 709 8514 2 292 2 14229 709 14230 2 536 2 8514 709 14231 387 1201 82 1201 4 11684 2 109 2 11685 387 11686 2 14227 82 1201 4 1 2 4656 2 8460 82 471 2 663 2 14228 2 706 82 223 4 1791 2 177 2 58 2 12442 82 51 2 13550 2 6546 2 14232 2 37 2 14172 2 458 82 51 2 1840 2 536 2 2161 2 12608 2 65 2 151 82 51 2 12263 2 12239 2 130 2 12461 2 115 2 1495 82 51 2 14233 2 14234 2 14235 2 37 2 7162 2 14235 4 132 2 3625 2 1575 4 223 82 7727 2 2335 2 31 2 6773 2 25 2 151 2 7069 387 2951 2 12693 2 177 2 106 2 1944 2 188 2 14236 2928 12196 2 8385 709 8414 2 51 2 1934 2 2558 2 96 709 14237 2 96 2 65 2 463 2 825 2 6065 2928 2951 2 176 2 177 2 6546 2 5366 2 177 2 14238 2 14239 2928 12196 2 14240 709 8414 2 51 2 1855 2 6546 2 207 2 177 2 6773 82 223 4 13 2 9879 2 2402 2 14241 2 10263 2 9020 4 132 2 3316 2 2770 4 4985 2 14173 82 8574 82 3637 2 2811 2 4944 2 10015 2 1165 2 463 2 1463 82 14242 2 14243 2 14244 2 8606 2 5844 2 663 387 3637 2 10015 2 2215 2 4929 2 9131 2 139 2 463 2 14245 2 14246 387 14247 2 8606 2 5844 2 14248 709 14249 2 14250 387 14251 2928 8577 2 14252 387 8577 2 14252 247 3637 2 1396 2 8621 2 51 2 67 2 14253 82 8731 82 223 4 4985 2 13286 82 8574 82 3637 2 341 2 4946 2 10015 2 30 2 4390 2 5008 82 14242 2 14243 2 14244 2 8606 2 5844 2 663 387 3637 2 10015 2 9 2 14081 2 14254 2 11028 2 1581 2 463 2 2090 387 14255 2 3637 2 11 2 13916 2 14081 2 4856 2 14256 2928 8577 2 14252 247 3637 2 14257 2 545 387 8577 2 14252 247 3637 2 14258 2 3674 2 1167 82 8731 82 223 4 132 2 14123 2 2770 4 4985 2 14173 82 10862 82 1 2 2811 2 4944 2 10015 2 1165 2 463 2 1463 82 11395 2 14259 2 109 387 96 2 14260 2 14243 2 14261 2 109 709 1 2 10015 2 2215 2 4929 2 9131 2 139 2 463 2 14245 2 14246 709 14262 2 14263 17 14264 709 11443 2 663 2 14264 2 11444 2 14265 709 1 2 14266 2 6633 2 51 2 4929 2 45 2 14267 387 1201 82 1201 82 223 4 4985 2 13286 82 10862 82 1 2 341 2 4946 2 10015 2 30 2 4390 2 5008 82 11395 2 14259 2 109 387 96 2 14260 2 14243 2 14261 2 109 709 1 2 10015 2 9 2 14081 2 14254 2 11028 2 1581 2 463 2 2090 709 14268 2 14269 247 1 2 11 2 13916 2 14081 2 14256 17 14264 247 1 2 14257 2 545 709 11443 2 663 2 14264 2 11444 2 14265 247 1 2 14270 387 1201 82 1201 82 223 4 1791 2 177 2 58 2 12442 82 51 2 14271 2 6773 2 4852 2 1602 2 4199 2 463 2 14272 2 120 2 14273 2 14274 82 51 2 14275 2 25 2 14276 2 14277 2 1165 2 489 2 1581 82 51 2 1046 2 547 2 207 2 2096 2 1795 2 43 2 8316 2 14278 4 132 2 3625 2 1575 4 223 82 7727 2 14279 2 31 2 7145 387 8414 2 51 2 1934 2 13916 2 9024 2928 71 2 2951 2 682 2 1602 2 1603 2 194 2 9 2 2061 2 6773 2 14280 387 83 2 2951 2 176 2 177 2 463 2 5003 2 120 2 31 2 115 2 1626 2 1602 2 14281 387 93 2 2951 2 4954 2 49 2 8458 2 1491 2 110 2 177 2 463 2 14282 2928 12196 2 14245 2 120 2 1602 2 10522 709 10015 2 30 2 14283 2 5008 2 7746 2 489 2 14284 2 10942 709 14285 2 1734 2 463 2 14286 2 139 2 11028 2 14287 2 1581 709 1937 2 9 2 14288 2 6773 2 9 2 463 2 14245 2 120 2928 12196 2 14289 2 110 2 463 2 14245 2 2448 709 1170 2 463 2 37 2 2061 2 938 2 546 709 12599 2 110 2 1590 2 2090 2 25 2 1943 709 13322 2 2558 2 283 2 14279 2 30 2 9 2 2618 2 5008 2928 9363 2 14290 709 51 2 13229 2 13916 2 177 2 25 2 344 2 14277 709 51 2 9294 2 2131 2 344 2 14291 2 1479 2 13916 2 2850 709 51 2 14241 2 1882 2 579 2 9 2 1833 2 12581 82 223 4 13 2 9879 2 2424 2 4798 2 8908 4 4985 2 14173 82 8574 82 3637 2 2811 2 4944 2 11381 2 13916 2 51 2 106 2 2244 2 112 2 46 2 112 2 754 82 8581 2 14292 2 292 2 663 387 3065 2 14293 387 11486 2 663 2 14294 2 14295 2 4328 2 14296 2 706 387 3637 2 3844 2 7756 2 139 2 14297 2 458 2 8547 82 8729 4 3637 2 14298 2 1165 2 920 2 458 2 14299 2 14300 82 223 4 1791 2 177 2 58 2 12442 82 51 2 14301 2 2111 2 2132 2 8911 2 14302 2 51 2 44 2 106 2 14303 2 2244 2 112 2 2634 2 126 82 51 2 14304 2 458 2 1296 2 5003 2 120 2 2244 2 112 2 1748 2 14305 2 51 2 5803 2 2033 82 51 2 14306 2 510 2 67 2 795 2 14307 2 51 2 10015 2 14308 2 2061 2 4892 2 725 82 51 2 14309 2 14310 2 51 2 1046 2 13487 2 12352 2 126 2 2061 2 1581 4 4985 2 13260 2 1888 2 10015 2 9 2 3178 2 756 2 436 2 134 2 96 2 588 2 65 2 14311 2 183 2 3524 2 2244 2 228 2 12688 2 463 2 14312 4 4985 2 13286 82 8574 82 3637 2 341 2 4946 2 12129 2 2061 2 4892 2 1048 82 8581 2 14292 2 292 2 663 387 3065 2 14293 387 11486 2 663 2 14294 2 14295 2 4328 2 14296 2 684 387 14313 2 663 2 14314 2 14315 2 3415 2 14316 2 706 387 3637 2 287 2 2244 2 2061 2 4892 2 2809 82 8729 82 223 4 132 2 3625 2 1575 4 223 82 7727 2 1924 2 13916 2 14317 387 3687 2 682 2 2244 2 194 2 9 2 2061 2 4892 2 4882 2 14318 2928 14319 709 71 2 2238 2 489 2 4892 2 4882 2 77 2 14320 709 83 2 1930 2 3172 2 2244 2 52 2 2131 2 14321 2 14297 709 93 2 1177 2 13916 2 5389 2 2061 2 4882 2 916 2 5192 2928 14322 709 192 2 1377 2 1924 2 929 2 14189 2 112 2 1425 2 1491 2 9 2 14323 2 436 709 11381 2 2111 2 3496 2 2183 2 920 2 458 2 14245 2 120 2 14324 2 2244 2928 192 2 14325 2 1930 2 86 2 1578 2 2244 82 223 4 13 2 9879 2 2452 2 5302 2 503 2 134 2 14326 4 4985 2 14173 82 223 82 341 2 3528 2 725 82 2811 2 150 2 550 2 545 82 8510 2 207 2 14327 82 223 4 1791 2 177 2 58 2 12442 82 51 2 1318 2 58 2 2651 2 115 2 13993 2 183 2 2043 2 3225 82 51 2 448 2 1942 2 904 2 2203 2 177 82 51 2 146 2 1573 2 725 2 1882 2 550 4 4985 2 13286 82 223 82 448 2 14328 82 71 2 461 2 462 2 463 82 83 2 3720 2 25 2 510 82 93 2 466 82 104 2 13322 2 1573 2 725 82 223 4 13 2 928 2 8908 2 14329 2 9001 2 1606 4 14330 2 14331 82 51 2 10015 2 4821 2 1645 2 1480 2 463 2 1463 82 51 2 14241 2 95 2 25 2 2274 2 463 2 510 82 51 2 8908 2 1806 2 6109 2 2061 2 3333 2 904 82 51 2 1046 2 1165 2 920 2 13916 2 1293 4 12235 2 57 2 12231 2 14332 2 4954 2 5383 2 754 2 25 2 344 2 3128 2 929 2 13916 2 14333 4 14334 2 5302 2 550 2 37 2 2061 2 3333 2 1478 2 1529 2 1480 2 4343 2 2111 4 13 2 448 2 6341 2 3743 2 9871 4 1791 2 448 2 14335 82 71 2 3490 2 463 2 3491 2 193 2 13173 2 112 2 25 2 46 2 126 2 110 2 1377 2 1590 2 155 82 83 2 13456 2 96 2 14336 2 193 2 14337 2 463 2 550 2 2061 2 4300 2 183 2 2111 82 93 2 14338 2 14339 2 193 2 150 2 14172 2 6109 2 14340 2 65 82 104 2 14341 2 14342 2 193 2 44 2 488 2 110 2 9 2 463 2 1590 2 2090 2 274 2 14279 4 2550 2 1377 2 155 2 13916 2 4300 2 112 2 2254 2 14343 2 51 2 112 2 560 2 2111 2 1882 2 14344 2 463 2 3496 2 1283 2 2061 2 458 2 3623 4 13 2 6329 2 4398 4 143 2 9879 2 143 2 2913 2 143 82 11636 82 143 2 10011 2 120 2 13916 2 3338 2 143 2 1046 2 2061 2 3701 2 43 2 14205 2 96 2 143 82 143 2 14345 2 6109 2 65 2 151 2 143 2 3171 2 25 2 463 2 825 2 143 82 143 2 10015 2 1882 2 579 2 143 2 2394 2 4845 2 11331 2 13916 2 13509 2 143 82 143 2 4798 2 2111 2 143 2 12129 2 2061 2 4892 2 5192 2 143 82 143 2 503 2 134 2 14346 2 143 2 448 2 51 2 550 2 2509 2 143 82 143 2 14347 2 2111 2 143 2 1615 2 795 2 550 2 143 4 13 2 9363 2 9364 4 51 2 14348 2 1221 2 207 2 14349 2 463 2 11647 82 51 2 14207 2 106 2 12608 2 65 2 463 2 586 82 51 2 10015 2 4821 2 58 2 14350 2 115 2 463 82 51 2 1046 2 8316 2 920 2 112 2 3033 2 13916 82 51 2 146 2 2094 2 1542 2 13916 2 58 2 2209 82 51 2 14241 2 14094 2 25 2 344 2 14277 4 13 2 14 2 12359 2 12360 4 14351 2 186 2 3113 2 25 2 14166 2 183 2 12279 2 25 2 14352 4 192 2 448 2 9757 2 1377 2 155 2 13916 2 4300 2 5206 2 14353 2 14354 4 10222 2 1046 2 2061 2 1581 2 43 2 2407 2 1542 2 1377 2 14279 2 30 2 14355