---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
82 1 2 1395 2 10003 4 13 2 8589 4 503 2 1501 2 355 2 2131 2 4416 2 183 2 14785 2 14804 2 9041 2 186 2 1007 2 6481 2 25 2 15032 2 183 2 9 2 2707 2 2060 2 15033 4 1021 2 8673 2 1123 2 110 2 9 2 458 2 15034 2 183 2 110 2 9 2 2181 2 196 4 15035 2 1075 2 448 2 2285 2 3506 2 15036 4 13 2 14 2 14112 2 15037 4 223 82 71 2 10217 2 463 2 14785 2 1656 82 83 2 10217 2 2627 2 15038 2 6210 2 25 2 151 2 3547 82 93 2 10217 2 14785 2 966 2 579 2 4956 82 223 4 13 2 10011 2 1942 2 1395 2 10147 2 4256 4 132 2 3383 2 2839 4 5094 2 15039 82 8708 82 3759 2 2880 2 5053 2 1395 2 139 2 9 2 14785 2 588 82 10132 2 15040 2 8740 2 5945 2 663 387 15041 2 15042 387 15043 82 8865 82 223 4 5094 2 14157 82 8708 82 3759 2 341 2 5055 2 1123 2 2131 2 3823 2 43 2 125 2 14785 2 96 82 10132 2 15040 2 8740 2 5945 2 663 387 15041 2 15042 247 3759 2 2005 2 14785 2 15044 387 15045 82 8865 82 223 4 132 2 14991 2 2839 4 5094 2 15039 82 10993 82 1 2 2880 2 5053 2 1395 2 139 2 9 2 15046 2 588 82 12283 2 9886 2 109 387 96 2 15047 2 15048 2 109 709 15044 2 292 2 15049 709 15050 2 15051 17 10373 2 292 2 15052 709 15053 2 15054 247 1 2 1395 2 15055 2 183 2 15056 387 1278 82 1278 82 223 4 5094 2 14157 82 10993 82 1 2 341 2 5055 2 1123 2 2131 2 3823 2 43 2 125 2 14785 2 96 82 12283 2 9886 2 109 387 96 2 15047 2 15044 2 37 2 15057 2 109 709 10373 2 292 2 15052 247 1 2 1982 2 2131 2 15058 709 15059 2 15060 387 1278 82 1278 82 223 4 1864 2 177 2 58 2 13301 82 51 2 13665 2 9498 2 9 2 14785 2 15061 2 183 2 139 2 9 2 3823 2 1288 82 51 2 1123 2 547 2 920 2 14785 2 58 2 15062 2 8450 2 920 2 2269 2 183 82 51 2 15063 2 112 2 13212 2 126 2 2131 2 1656 4 13095 2 57 2 13091 2 15064 2 9058 2 5489 2 155 2 9 2 1656 2 115 2 1007 2 15065 4 132 2 3747 2 1650 4 223 82 7865 2 15066 2 120 2 31 2 14785 2 15067 387 3020 2 15068 2 49 2 155 2 2131 2 3823 2 1656 2 43 2 3646 2 14785 2 15069 2997 13056 2 155 2 14785 2 15070 709 8548 2 51 2 3119 2 9 2 15017 2 43 2 15071 2 9 2 3823 2997 1123 2 2131 2 1656 2 6166 82 223 4 13 2 10011 2 1972 2 15072 2 15073 2 65 2 14419 4 132 2 3383 2 2839 4 5094 2 15039 82 8708 82 3759 2 2880 2 5053 2 15074 2 106 2 2015 2 65 2 550 82 6646 2 5475 2 663 387 8704 2 15074 2 663 247 3759 2 15075 2 62 2 151 2 15076 709 8711 2 15077 709 3759 2 22 2 3131 387 706 82 706 4 3759 2 4768 2 550 82 15078 2 5945 2 15079 82 223 4 5094 2 14157 82 8708 82 3759 2 341 2 5055 2 1123 2 825 2 5212 2 463 2 3131 82 3759 2 5475 2 2454 2 516 2 15074 2 51 2 2269 2 15080 2 65 2 151 4 3759 2 4768 2 15081 82 8842 2 8704 2 1391 2 15082 2 15083 2 663 387 8715 2 8648 2 292 2 15084 387 536 2 15085 2 663 709 8711 2 15086 387 706 82 706 4 3759 2 4768 2 550 82 15078 2 5945 2 15087 82 223 4 132 2 14991 2 2839 4 5094 2 15039 82 10993 82 1 2 2880 2 5053 2 15088 2 106 2 2015 2 65 2 550 82 6646 2 5475 2 357 2 7140 387 5894 2 15088 247 1 2 15075 2 62 2 151 2 15076 709 15089 709 15090 387 1278 82 1278 4 1 2 4768 2 8594 82 471 2 663 2 15091 2 706 82 223 4 5094 2 14157 82 10993 82 1 2 341 2 5055 2 1123 2 825 2 5212 2 463 2 3131 82 1 2 5475 2 2454 2 516 2 15088 2 51 2 2269 2 6366 4 1 2 4768 2 15092 82 1513 2 15093 387 5894 2 15094 709 8648 2 292 2 15095 709 15096 2 536 2 8648 709 15097 387 1278 82 1278 4 12552 2 109 2 12553 387 12554 2 15093 82 1278 4 1 2 4768 2 8594 82 471 2 663 2 15094 2 706 82 223 4 1864 2 177 2 58 2 13301 82 51 2 14419 2 6646 2 15098 2 37 2 15038 2 458 82 51 2 1913 2 536 2 2231 2 13466 2 65 2 151 82 51 2 13123 2 13099 2 130 2 13320 2 115 2 1571 82 51 2 15099 2 15100 2 15101 2 37 2 7258 2 15101 4 132 2 3747 2 1650 4 223 82 7865 2 2405 2 31 2 6873 2 25 2 151 2 7166 387 3020 2 13551 2 177 2 106 2 2015 2 188 2 15102 2997 13056 2 8519 709 8548 2 51 2 2005 2 2627 2 96 709 15103 2 96 2 65 2 463 2 825 2 6166 2997 3020 2 176 2 177 2 6646 2 5472 2 177 2 15104 2 15105 2997 13056 2 15106 709 8548 2 51 2 1928 2 6646 2 207 2 177 2 6873 82 223 4 13 2 10011 2 2472 2 15107 2 10392 2 9153 4 132 2 3383 2 2839 4 5094 2 15039 82 8708 82 3759 2 2880 2 5053 2 10147 2 1242 2 463 2 1539 82 15108 2 15109 2 15110 2 8740 2 5945 2 663 387 3759 2 10147 2 2285 2 5038 2 9263 2 139 2 463 2 15111 2 15112 387 15113 2 8740 2 5945 2 15114 709 15115 2 15116 387 15117 2997 8711 2 15118 387 8711 2 15118 247 3759 2 1472 2 8755 2 51 2 67 2 15119 82 8865 82 223 4 5094 2 14157 82 8708 82 3759 2 341 2 5055 2 10147 2 30 2 4506 2 5117 82 15108 2 15109 2 15110 2 8740 2 5945 2 663 387 3759 2 10147 2 9 2 14949 2 15120 2 11161 2 1656 2 463 2 2160 387 15121 2 3759 2 11 2 14785 2 14949 2 4967 2 15122 2997 8711 2 15118 247 3759 2 15123 2 545 387 8711 2 15118 247 3759 2 15124 2 3796 2 1244 82 8865 82 223 4 132 2 14991 2 2839 4 5094 2 15039 82 10993 82 1 2 2880 2 5053 2 10147 2 1242 2 463 2 1539 82 12283 2 15125 2 109 387 96 2 15126 2 15109 2 15127 2 109 709 1 2 10147 2 2285 2 5038 2 9263 2 139 2 463 2 15111 2 15112 709 15128 2 15129 17 15130 709 12331 2 663 2 15130 2 12332 2 15131 709 1 2 15132 2 6733 2 51 2 5038 2 45 2 15133 387 1278 82 1278 82 223 4 5094 2 14157 82 10993 82 1 2 341 2 5055 2 10147 2 30 2 4506 2 5117 82 12283 2 15125 2 109 387 96 2 15126 2 15109 2 15127 2 109 709 1 2 10147 2 9 2 14949 2 15120 2 11161 2 1656 2 463 2 2160 709 15134 2 15135 247 1 2 11 2 14785 2 14949 2 15122 17 15130 247 1 2 15123 2 545 709 12331 2 663 2 15130 2 12332 2 15131 247 1 2 15136 387 1278 82 1278 82 223 4 1864 2 177 2 58 2 13301 82 51 2 15137 2 6873 2 4963 2 1677 2 4316 2 463 2 15138 2 120 2 15139 2 15140 82 51 2 15141 2 25 2 15142 2 15143 2 1242 2 489 2 1656 82 51 2 1123 2 547 2 207 2 2166 2 1868 2 43 2 8450 2 15144 4 132 2 3747 2 1650 4 223 82 7865 2 15145 2 31 2 7241 387 8548 2 51 2 2005 2 14785 2 9157 2997 71 2 3020 2 682 2 1677 2 1678 2 194 2 9 2 2131 2 6873 2 15146 387 83 2 3020 2 176 2 177 2 463 2 5112 2 120 2 31 2 115 2 1701 2 1677 2 15147 387 93 2 3020 2 5063 2 49 2 8592 2 1567 2 110 2 177 2 463 2 15148 2997 13056 2 15111 2 120 2 1677 2 10653 709 10147 2 30 2 15149 2 5117 2 7885 2 489 2 15150 2 11074 709 15151 2 929 2 463 2 15152 2 139 2 11161 2 15153 2 1656 709 2008 2 9 2 15154 2 6873 2 9 2 463 2 15111 2 120 2997 13056 2 15155 2 110 2 463 2 15111 2 2518 709 1247 2 463 2 37 2 2131 2 1040 2 546 709 13457 2 110 2 1665 2 2160 2 25 2 2014 709 14193 2 2627 2 283 2 15145 2 30 2 9 2 2687 2 5117 2997 9495 2 15156 709 51 2 14081 2 14785 2 177 2 25 2 344 2 15143 709 51 2 9426 2 2201 2 344 2 15157 2 1555 2 14785 2 2919 709 51 2 15107 2 966 2 579 2 9 2 1906 2 13439 82 223 4 13 2 10011 2 2494 2 4909 2 9041 4 5094 2 15039 82 8708 82 3759 2 2880 2 5053 2 12269 2 14785 2 51 2 106 2 2314 2 112 2 46 2 112 2 754 82 8715 2 15158 2 292 2 663 387 3133 2 15159 387 12371 2 663 2 15160 2 15161 2 4444 2 15162 2 706 387 3759 2 3964 2 992 2 139 2 15163 2 458 2 8681 82 8863 4 3759 2 15164 2 1242 2 920 2 458 2 15165 2 15166 82 223 4 1864 2 177 2 58 2 13301 82 51 2 15167 2 2181 2 2202 2 9044 2 15168 2 51 2 44 2 106 2 15169 2 2314 2 112 2 2703 2 126 82 51 2 15170 2 458 2 1373 2 5112 2 120 2 2314 2 112 2 1821 2 15171 2 51 2 5904 2 2103 82 51 2 15172 2 510 2 67 2 795 2 15173 2 51 2 10147 2 15174 2 2131 2 5001 2 725 82 51 2 15175 2 15176 2 51 2 1123 2 14356 2 13212 2 126 2 2131 2 1656 4 5094 2 14112 2 1960 2 10147 2 9 2 3245 2 756 2 436 2 134 2 96 2 588 2 65 2 15177 2 183 2 3646 2 2314 2 228 2 13546 2 463 2 15178 4 5094 2 14157 82 8708 82 3759 2 341 2 5055 2 12991 2 2131 2 5001 2 1125 82 8715 2 15158 2 292 2 663 387 3133 2 15159 387 12371 2 663 2 15160 2 15161 2 4444 2 15162 2 684 387 15179 2 663 2 15180 2 15181 2 3482 2 15182 2 706 387 3759 2 287 2 2314 2 2131 2 5001 2 2878 82 8863 82 223 4 132 2 3747 2 1650 4 223 82 7865 2 1995 2 14785 2 15183 387 3809 2 682 2 2314 2 194 2 9 2 2131 2 5001 2 4992 2 15184 2997 15185 709 71 2 2308 2 489 2 5001 2 4992 2 77 2 15186 709 83 2 2001 2 3239 2 2314 2 52 2 2201 2 15187 2 15163 709 93 2 1254 2 14785 2 5495 2 2131 2 4992 2 916 2 5298 2997 15188 709 192 2 1454 2 1995 2 1007 2 15055 2 112 2 1501 2 1567 2 9 2 15189 2 436 709 12269 2 2181 2 3618 2 2253 2 920 2 458 2 15111 2 120 2 15190 2 2314 2997 192 2 15191 2 2001 2 86 2 1653 2 2314 82 223 4 13 2 10011 2 2522 2 5408 2 503 2 134 2 15192 4 5094 2 15039 82 223 82 341 2 3650 2 725 82 2880 2 150 2 550 2 545 82 8644 2 207 2 15193 82 223 4 1864 2 177 2 58 2 13301 82 51 2 1395 2 58 2 2720 2 115 2 14862 2 183 2 2113 2 3292 82 51 2 448 2 2013 2 904 2 2273 2 177 82 51 2 146 2 1648 2 725 2 966 2 550 4 5094 2 14157 82 223 82 448 2 15194 82 71 2 461 2 462 2 463 82 83 2 3573 2 25 2 510 82 93 2 466 82 104 2 14193 2 1648 2 725 82 223 4 13 2 1006 2 9041 2 15195 2 9134 2 1681 4 15196 2 15197 82 51 2 10147 2 4932 2 1720 2 1556 2 463 2 1539 82 51 2 15107 2 95 2 25 2 2344 2 463 2 510 82 51 2 9041 2 1879 2 6210 2 2131 2 3400 2 904 82 51 2 1123 2 1242 2 920 2 14785 2 1370 4 13095 2 57 2 13091 2 15198 2 5063 2 5489 2 754 2 25 2 344 2 1014 2 1007 2 14785 2 15199 4 15200 2 5408 2 550 2 37 2 2131 2 3400 2 1554 2 1604 2 1556 2 4459 2 2181 4 13 2 448 2 6441 2 3864 2 10003 4 1864 2 448 2 15201 82 71 2 3612 2 463 2 3613 2 193 2 14025 2 112 2 25 2 46 2 126 2 110 2 1454 2 1665 2 155 82 83 2 14325 2 96 2 15202 2 193 2 15203 2 463 2 550 2 2131 2 4416 2 183 2 2181 82 93 2 15204 2 15205 2 193 2 150 2 15038 2 6210 2 15206 2 65 82 104 2 15207 2 15208 2 193 2 44 2 488 2 110 2 9 2 463 2 1665 2 2160 2 274 2 15145 4 2620 2 1454 2 155 2 14785 2 4416 2 112 2 2324 2 15209 2 51 2 112 2 560 2 2181 2 966 2 15210 2 463 2 3618 2 1360 2 2131 2 458 2 3745 4 13 2 6429 2 4514 4 143 2 10011 2 143 2 2982 2 143 82 12507 82 143 2 10143 2 120 2 14785 2 3405 2 143 2 1123 2 2131 2 3823 2 43 2 15071 2 96 2 143 82 143 2 15211 2 6210 2 65 2 151 2 143 2 3238 2 25 2 463 2 825 2 143 82 143 2 10147 2 966 2 579 2 143 2 2464 2 4956 2 12220 2 14785 2 14378 2 143 82 143 2 4909 2 2181 2 143 2 12991 2 2131 2 5001 2 5298 2 143 82 143 2 503 2 134 2 15212 2 143 2 448 2 51 2 550 2 2579 2 143 82 143 2 15213 2 2181 2 143 2 1690 2 795 2 550 2 143 4 13 2 9495 2 9496 4 51 2 15214 2 1298 2 207 2 15215 2 463 2 12517 82 51 2 15073 2 106 2 13466 2 65 2 463 2 586 82 51 2 10147 2 4932 2 58 2 15216 2 115 2 463 82 51 2 1123 2 8450 2 920 2 112 2 3102 2 14785 82 51 2 146 2 2164 2 1617 2 14785 2 58 2 2279 82 51 2 15107 2 14962 2 25 2 344 2 15143 4 13 2 14 2 13219 2 13220 4 15217 2 186 2 3181 2 25 2 15032 2 183 2 13139 2 25 2 15218 4 192 2 448 2 9889 2 1454 2 155 2 14785 2 4416 2 5312 2 15219 2 15220 4 10351 2 1123 2 2131 2 1656 2 43 2 2477 2 1617 2 1454 2 15145 2 30 2 15221