---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
82 1 2 4793 2 8791 4 13 2 7356 4 503 2 1369 2 355 2 3983 2 3436 2 183 2 11948 2 11967 2 7818 2 186 2 1233 2 6286 2 25 2 12201 2 183 2 9 2 1604 2 5261 2 12202 4 935 2 7445 2 1038 2 110 2 9 2 458 2 12203 2 183 2 110 2 9 2 5366 2 196 4 12204 2 989 2 448 2 3446 2 2468 2 12205 4 13 2 14 2 11273 2 12206 4 223 82 71 2 9008 2 463 2 11948 2 2730 82 83 2 9008 2 1512 2 12207 2 6014 2 25 2 151 2 8903 82 93 2 9008 2 11948 2 1775 2 1719 2 3998 82 223 4 13 2 8799 2 1307 2 4793 2 8938 2 3227 4 132 2 2341 2 1749 4 4143 2 12208 82 7480 82 2687 2 1798 2 4102 2 4793 2 139 2 9 2 11948 2 1287 82 8923 2 12209 2 7513 2 7485 2 570 387 12210 2 12211 387 12212 82 7640 82 223 4 4143 2 11299 82 7480 82 2687 2 341 2 4104 2 1038 2 3983 2 2758 2 43 2 125 2 11948 2 96 82 8923 2 12209 2 7513 2 7485 2 570 387 12210 2 12211 247 2687 2 1704 2 11948 2 12213 387 12214 82 7640 82 223 4 132 2 12157 2 1749 4 4143 2 12208 82 9334 82 1 2 1798 2 4102 2 4793 2 139 2 9 2 12215 2 1287 82 9336 2 8674 2 109 387 96 2 12216 2 12217 2 109 616 12213 2 292 2 12218 616 12219 2 12220 17 9321 2 292 2 12221 616 12222 2 12223 247 1 2 4793 2 12224 2 183 2 12225 387 1191 82 1191 82 223 4 4143 2 11299 82 9334 82 1 2 341 2 4104 2 1038 2 3983 2 2758 2 43 2 125 2 11948 2 96 82 9336 2 8674 2 109 387 96 2 12216 2 12213 2 37 2 12226 2 109 616 9321 2 292 2 12221 247 1 2 1273 2 3983 2 12227 616 12228 2 12229 387 1191 82 1191 82 223 4 5129 2 177 2 58 2 10431 82 51 2 10811 2 8281 2 9 2 11948 2 12230 2 183 2 139 2 9 2 2758 2 1200 82 51 2 1038 2 547 2 827 2 11948 2 58 2 12231 2 7216 2 827 2 2226 2 183 82 51 2 12232 2 112 2 10339 2 126 2 3983 2 2730 4 10220 2 57 2 10216 2 12233 2 7835 2 4567 2 155 2 9 2 2730 2 115 2 1233 2 12234 4 132 2 2674 2 4977 4 223 82 6600 2 12235 2 120 2 31 2 11948 2 12236 387 1948 2 12237 2 49 2 155 2 3983 2 2758 2 2730 2 43 2 2560 2 11948 2 12238 1920 10181 2 155 2 11948 2 12239 616 7315 2 51 2 2057 2 9 2 12185 2 43 2 12240 2 9 2 2758 1920 1038 2 3983 2 2730 2 5970 82 223 4 13 2 8799 2 1324 2 12241 2 12242 2 65 2 11569 4 132 2 2341 2 1749 4 4143 2 12208 82 7480 82 2687 2 1798 2 4102 2 12243 2 106 2 3205 2 65 2 550 82 9486 2 4553 2 570 387 7476 2 12243 2 570 247 2687 2 12244 2 62 2 151 2 12245 616 7483 2 12246 616 2687 2 22 2 2071 387 613 82 613 4 2687 2 3798 2 550 82 12247 2 7485 2 12248 82 223 4 4143 2 11299 82 7480 82 2687 2 341 2 4104 2 1038 2 732 2 4267 2 463 2 2071 82 2687 2 4553 2 1320 2 516 2 12243 2 51 2 2226 2 12249 2 65 2 151 4 2687 2 3798 2 12250 82 7617 2 7476 2 4790 2 12251 2 12252 2 570 387 7488 2 7420 2 292 2 12253 387 536 2 12254 2 570 616 7483 2 12255 387 613 82 613 4 2687 2 3798 2 550 82 12247 2 7485 2 12256 82 223 4 132 2 12157 2 1749 4 4143 2 12208 82 9334 82 1 2 1798 2 4102 2 12257 2 106 2 3205 2 65 2 550 82 9486 2 4553 2 357 2 9487 387 5876 2 12257 247 1 2 12244 2 62 2 151 2 12245 616 12258 616 12259 387 1191 82 1191 4 1 2 3798 2 7362 82 471 2 570 2 12260 2 613 82 223 4 4143 2 11299 82 9334 82 1 2 341 2 4104 2 1038 2 732 2 4267 2 463 2 2071 82 1 2 4553 2 1320 2 516 2 12257 2 51 2 2226 2 6171 4 1 2 3798 2 12261 82 4876 2 12262 387 5876 2 12263 616 7420 2 292 2 12264 616 12265 2 536 2 7420 616 12266 387 1191 82 1191 4 9643 2 109 2 9644 387 9645 2 12262 82 1191 4 1 2 3798 2 7362 82 471 2 570 2 12263 2 613 82 223 4 5129 2 177 2 58 2 10431 82 51 2 11569 2 9486 2 12267 2 37 2 12207 2 458 82 51 2 5161 2 536 2 5400 2 10602 2 65 2 151 82 51 2 10250 2 10224 2 130 2 10450 2 115 2 4923 82 51 2 12268 2 12269 2 12270 2 37 2 12271 2 12270 4 132 2 2674 2 4977 4 223 82 6600 2 1262 2 31 2 12272 2 25 2 151 2 12273 387 1948 2 10690 2 177 2 106 2 3205 2 188 2 12274 1920 10181 2 7286 616 7315 2 51 2 1704 2 1512 2 96 616 12275 2 96 2 65 2 463 2 732 2 5970 1920 1948 2 176 2 177 2 9486 2 4550 2 177 2 12276 2 12277 1920 10181 2 12278 616 7315 2 51 2 5176 2 9486 2 207 2 177 2 12272 82 223 4 13 2 8799 2 1343 2 12279 2 12280 2 7928 4 132 2 2341 2 1749 4 4143 2 12208 82 7480 82 2687 2 1798 2 4102 2 8938 2 1159 2 463 2 4897 82 12281 2 12282 2 12283 2 7513 2 7485 2 570 387 2687 2 8938 2 3446 2 4086 2 8040 2 139 2 463 2 12284 2 12285 387 12286 2 7513 2 7485 2 12287 616 12288 2 12289 387 12290 1920 7483 2 12291 387 7483 2 12291 247 2687 2 4844 2 7528 2 51 2 67 2 12292 82 7640 82 223 4 4143 2 11299 82 7480 82 2687 2 341 2 4104 2 8938 2 30 2 3536 2 4168 82 12281 2 12282 2 12283 2 7513 2 7485 2 570 387 2687 2 8938 2 9 2 12115 2 12293 2 12294 2 2730 2 463 2 1896 387 12295 2 2687 2 11 2 11948 2 12115 2 4009 2 12296 1920 7483 2 12291 247 2687 2 12297 2 545 387 7483 2 12291 247 2687 2 12298 2 2728 2 1161 82 7640 82 223 4 132 2 12157 2 1749 4 4143 2 12208 82 9334 82 1 2 1798 2 4102 2 8938 2 1159 2 463 2 4897 82 9336 2 12299 2 109 387 96 2 12300 2 12282 2 12301 2 109 616 1 2 8938 2 3446 2 4086 2 8040 2 139 2 463 2 12284 2 12285 616 12302 2 12303 17 12304 616 9387 2 570 2 12304 2 9388 2 12305 616 1 2 12306 2 12307 2 51 2 4086 2 45 2 12308 387 1191 82 1191 82 223 4 4143 2 11299 82 9334 82 1 2 341 2 4104 2 8938 2 30 2 3536 2 4168 82 9336 2 12299 2 109 387 96 2 12300 2 12282 2 12301 2 109 616 1 2 8938 2 9 2 12115 2 12293 2 12294 2 2730 2 463 2 1896 616 12309 2 12310 247 1 2 11 2 11948 2 12115 2 12296 17 12304 247 1 2 12297 2 545 616 9387 2 570 2 12304 2 9388 2 12305 247 1 2 12311 387 1191 82 1191 82 223 4 5129 2 177 2 58 2 10431 82 51 2 12312 2 12272 2 4005 2 4994 2 3306 2 463 2 12313 2 120 2 12314 2 12315 82 51 2 12316 2 25 2 12317 2 12318 2 1159 2 489 2 2730 82 51 2 1038 2 547 2 207 2 5351 2 2531 2 43 2 7216 2 12319 4 132 2 2674 2 4977 4 223 82 6600 2 12320 2 31 2 9586 387 7315 2 51 2 1704 2 11948 2 7932 1920 71 2 1948 2 589 2 4994 2 4995 2 194 2 9 2 3983 2 12272 2 12321 387 83 2 1948 2 176 2 177 2 463 2 4162 2 120 2 31 2 115 2 4239 2 4994 2 12322 387 93 2 1948 2 4112 2 49 2 7360 2 3239 2 110 2 177 2 463 2 12323 1920 10181 2 12284 2 120 2 4994 2 12324 616 8938 2 30 2 12325 2 4168 2 6620 2 489 2 12326 2 12327 616 12328 2 2167 2 463 2 12329 2 139 2 12294 2 12330 2 2730 616 1395 2 9 2 12331 2 12272 2 9 2 463 2 12284 2 120 1920 10181 2 12332 2 110 2 463 2 12284 2 1398 616 1164 2 463 2 37 2 3983 2 954 2 546 616 10593 2 110 2 4986 2 1896 2 25 2 5235 616 11336 2 1512 2 283 2 12320 2 30 2 9 2 1581 2 4168 1920 8278 2 12333 616 51 2 11242 2 11948 2 177 2 25 2 344 2 12318 616 51 2 8209 2 1360 2 344 2 12334 2 4909 2 11948 2 1837 616 51 2 12279 2 1775 2 1719 2 9 2 5155 2 10575 82 223 4 13 2 8799 2 1371 2 3948 2 7818 4 4143 2 12208 82 7480 82 2687 2 1798 2 4102 2 9320 2 11948 2 51 2 106 2 2906 2 112 2 46 2 112 2 661 82 7488 2 12335 2 292 2 570 387 2074 2 12336 387 9432 2 570 2 12337 2 12338 2 3470 2 12339 2 613 387 2687 2 2914 2 6631 2 139 2 12340 2 458 2 7453 82 7638 4 2687 2 12341 2 1159 2 827 2 458 2 12342 2 12343 82 223 4 5129 2 177 2 58 2 10431 82 51 2 12344 2 5366 2 5382 2 7821 2 12345 2 51 2 44 2 106 2 12346 2 2906 2 112 2 1598 2 126 82 51 2 12347 2 458 2 3115 2 4162 2 120 2 2906 2 112 2 3387 2 12348 2 51 2 6996 2 4428 82 51 2 12349 2 510 2 67 2 702 2 12350 2 51 2 8938 2 12351 2 3983 2 4047 2 632 82 51 2 12352 2 12353 2 51 2 1038 2 11503 2 10339 2 126 2 3983 2 2730 4 4143 2 11273 2 5198 2 8938 2 9 2 2195 2 663 2 436 2 134 2 96 2 1287 2 65 2 12354 2 183 2 2560 2 2906 2 228 2 10685 2 463 2 12355 4 4143 2 11299 82 7480 82 2687 2 341 2 4104 2 10112 2 3983 2 4047 2 1040 82 7488 2 12335 2 292 2 570 387 2074 2 12336 387 9432 2 570 2 12337 2 12338 2 3470 2 12339 2 591 387 12356 2 570 2 12357 2 12358 2 2441 2 12359 2 613 387 2687 2 287 2 2906 2 3983 2 4047 2 1796 82 7638 82 223 4 132 2 2674 2 4977 4 223 82 6600 2 3087 2 11948 2 12360 387 2743 2 589 2 2906 2 194 2 9 2 3983 2 4047 2 4037 2 12361 1920 12362 616 71 2 5459 2 489 2 4047 2 4037 2 77 2 12363 616 83 2 5226 2 2189 2 2906 2 52 2 1360 2 12364 2 12340 616 93 2 1171 2 11948 2 4574 2 3983 2 4037 2 823 2 4359 1920 12365 616 192 2 1599 2 3087 2 1233 2 12224 2 112 2 1369 2 3239 2 9 2 12366 2 436 616 9320 2 5366 2 2529 2 5419 2 827 2 458 2 12284 2 120 2 12367 2 2906 1920 192 2 12368 2 5226 2 86 2 2705 2 2906 82 223 4 13 2 8799 2 1403 2 4481 2 503 2 134 2 12369 4 4143 2 12208 82 223 82 341 2 2565 2 632 82 1798 2 150 2 550 2 545 82 7416 2 207 2 12370 82 223 4 5129 2 177 2 58 2 10431 82 51 2 4793 2 58 2 1621 2 115 2 12026 2 183 2 5308 2 2247 82 51 2 448 2 1597 2 811 2 5433 2 177 82 51 2 146 2 4975 2 632 2 1775 2 550 4 4143 2 11299 82 223 82 448 2 12371 82 71 2 461 2 462 2 463 82 83 2 2778 2 25 2 510 82 93 2 466 82 104 2 11336 2 4975 2 632 82 223 4 13 2 1368 2 7818 2 12372 2 7910 2 4998 4 12373 2 12374 82 51 2 8938 2 3973 2 5030 2 4910 2 463 2 4897 82 51 2 12279 2 95 2 25 2 1698 2 463 2 510 82 51 2 7818 2 1335 2 6014 2 3983 2 2360 2 811 82 51 2 1038 2 1159 2 827 2 11948 2 1601 4 10220 2 57 2 10216 2 12375 2 4112 2 4567 2 661 2 25 2 344 2 2143 2 1233 2 11948 2 12376 4 12377 2 4481 2 550 2 37 2 3983 2 2360 2 4098 2 4944 2 4910 2 3485 2 5366 4 13 2 448 2 6247 2 2803 2 8791 4 5129 2 448 2 12378 82 71 2 2523 2 463 2 2524 2 193 2 11184 2 112 2 25 2 46 2 126 2 110 2 1599 2 4986 2 155 82 83 2 11472 2 96 2 12379 2 193 2 12380 2 463 2 550 2 3983 2 3436 2 183 2 5366 82 93 2 12381 2 12382 2 193 2 150 2 12207 2 6014 2 12383 2 65 82 104 2 12384 2 12385 2 193 2 44 2 488 2 110 2 9 2 463 2 4986 2 1896 2 274 2 12320 4 1504 2 1599 2 155 2 11948 2 3436 2 112 2 5471 2 12386 2 51 2 112 2 560 2 5366 2 1775 2 12387 2 463 2 2529 2 4768 2 3983 2 458 2 2672 4 13 2 847 2 3546 4 143 2 8799 2 143 2 1905 2 143 82 9593 82 143 2 8934 2 120 2 11948 2 2365 2 143 2 1038 2 3983 2 2758 2 43 2 12240 2 96 2 143 82 143 2 12388 2 6014 2 65 2 151 2 143 2 2188 2 25 2 463 2 732 2 143 82 143 2 8938 2 1775 2 1719 2 143 2 1332 2 3998 2 9271 2 11948 2 11526 2 143 82 143 2 3948 2 5366 2 143 2 10112 2 3983 2 4047 2 4359 2 143 82 143 2 503 2 134 2 12389 2 143 2 448 2 51 2 550 2 1461 2 143 82 143 2 12390 2 5366 2 143 2 3086 2 702 2 550 2 143 4 13 2 8278 2 8279 4 51 2 12391 2 1210 2 207 2 12392 2 463 2 9606 82 51 2 12242 2 106 2 10602 2 65 2 463 2 1525 82 51 2 8938 2 3973 2 58 2 12393 2 115 2 463 82 51 2 1038 2 7216 2 827 2 112 2 2038 2 11948 82 51 2 146 2 5349 2 4952 2 11948 2 58 2 3308 82 51 2 12279 2 12128 2 25 2 344 2 12318 4 13 2 14 2 10346 2 10347 4 12394 2 186 2 2124 2 25 2 12201 2 183 2 10266 2 25 2 12395 4 192 2 448 2 8677 2 1599 2 155 2 11948 2 3436 2 4373 2 12396 2 12397 4 10540 2 1038 2 3983 2 2730 2 43 2 1348 2 4952 2 1599 2 12320 2 30 2 12398