---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
82 1 2 1305 2 8674 4 13 2 7236 4 503 2 1413 2 355 2 2052 2 4280 2 183 2 11838 2 11857 2 7698 2 186 2 1233 2 6157 2 25 2 12091 2 183 2 9 2 2630 2 1981 2 12092 4 935 2 7325 2 1038 2 110 2 9 2 458 2 12093 2 183 2 110 2 9 2 2103 2 196 4 12094 2 989 2 448 2 2206 2 3423 2 12095 4 13 2 14 2 11162 2 12096 4 223 82 71 2 8891 2 463 2 11838 2 1569 82 83 2 8891 2 2548 2 12097 2 5882 2 25 2 151 2 8786 82 93 2 8891 2 11838 2 1872 2 1521 2 4803 82 223 4 13 2 8682 2 1859 2 1305 2 8821 2 4119 4 132 2 3300 2 2761 4 4943 2 12098 82 7360 82 3618 2 2802 2 4902 2 1305 2 139 2 9 2 11838 2 2350 82 8806 2 12099 2 7393 2 7365 2 570 387 12100 2 12101 387 12102 82 7520 82 223 4 4943 2 11188 82 7360 82 3618 2 341 2 4904 2 1038 2 2052 2 3682 2 43 2 125 2 11838 2 96 82 8806 2 12099 2 7393 2 7365 2 570 387 12100 2 12101 247 3618 2 1924 2 11838 2 12103 387 12104 82 7520 82 223 4 132 2 12047 2 2761 4 4943 2 12098 82 9220 82 1 2 2802 2 4902 2 1305 2 139 2 9 2 12105 2 2350 82 9222 2 8557 2 109 387 96 2 12106 2 12107 2 109 616 12103 2 292 2 12108 616 12109 2 12110 17 9207 2 292 2 12111 616 12112 2 12113 247 1 2 1305 2 12114 2 183 2 12115 387 1191 82 1191 82 223 4 4943 2 11188 82 9220 82 1 2 341 2 4904 2 1038 2 2052 2 3682 2 43 2 125 2 11838 2 96 82 9222 2 8557 2 109 387 96 2 12106 2 12103 2 37 2 12116 2 109 616 9207 2 292 2 12111 247 1 2 1901 2 2052 2 12117 616 12118 2 12119 387 1191 82 1191 82 223 4 1781 2 177 2 58 2 10318 82 51 2 10699 2 8164 2 9 2 11838 2 12120 2 183 2 139 2 9 2 3682 2 1200 82 51 2 1038 2 547 2 827 2 11838 2 58 2 12121 2 7096 2 827 2 2189 2 183 82 51 2 12122 2 112 2 10226 2 126 2 2052 2 1569 4 10107 2 57 2 10103 2 12123 2 7715 2 5339 2 155 2 9 2 1569 2 115 2 1233 2 12124 4 132 2 3606 2 1563 4 223 82 6485 2 12125 2 120 2 31 2 11838 2 12126 387 2941 2 12127 2 49 2 155 2 2052 2 3682 2 1569 2 43 2 3508 2 11838 2 12128 2918 10068 2 155 2 11838 2 12129 616 7195 2 51 2 3038 2 9 2 12075 2 43 2 12130 2 9 2 3682 2918 1038 2 2052 2 1569 2 5837 82 223 4 13 2 8682 2 1890 2 12131 2 12132 2 65 2 11459 4 132 2 3300 2 2761 4 4943 2 12098 82 7360 82 3618 2 2802 2 4902 2 12133 2 106 2 1934 2 65 2 550 82 9372 2 5325 2 570 387 7356 2 12133 2 570 247 3618 2 12134 2 62 2 151 2 12135 616 7363 2 12136 616 3618 2 22 2 3049 387 613 82 613 4 3618 2 4612 2 550 82 12137 2 7365 2 12138 82 223 4 4943 2 11188 82 7360 82 3618 2 341 2 4904 2 1038 2 732 2 5062 2 463 2 3049 82 3618 2 5325 2 2375 2 516 2 12133 2 51 2 2189 2 12139 2 65 2 151 4 3618 2 4612 2 12140 82 7497 2 7356 2 1301 2 12141 2 12142 2 570 387 7368 2 7300 2 292 2 12143 387 536 2 12144 2 570 616 7363 2 12145 387 613 82 613 4 3618 2 4612 2 550 82 12137 2 7365 2 12146 82 223 4 132 2 12047 2 2761 4 4943 2 12098 82 9220 82 1 2 2802 2 4902 2 12147 2 106 2 1934 2 65 2 550 82 9372 2 5325 2 357 2 9373 387 5743 2 12147 247 1 2 12134 2 62 2 151 2 12135 616 12148 616 12149 387 1191 82 1191 4 1 2 4612 2 7242 82 471 2 570 2 12150 2 613 82 223 4 4943 2 11188 82 9220 82 1 2 341 2 4904 2 1038 2 732 2 5062 2 463 2 3049 82 1 2 5325 2 2375 2 516 2 12147 2 51 2 2189 2 6039 4 1 2 4612 2 12151 82 1425 2 12152 387 5743 2 12153 616 7300 2 292 2 12154 616 12155 2 536 2 7300 616 12156 387 1191 82 1191 4 9530 2 109 2 9531 387 9532 2 12152 82 1191 4 1 2 4612 2 7242 82 471 2 570 2 12153 2 613 82 223 4 1781 2 177 2 58 2 10318 82 51 2 11459 2 9372 2 12157 2 37 2 12097 2 458 82 51 2 1830 2 536 2 2152 2 10490 2 65 2 151 82 51 2 10137 2 10111 2 130 2 10338 2 115 2 1483 82 51 2 12158 2 12159 2 12160 2 37 2 12161 2 12160 4 132 2 3606 2 1563 4 223 82 6485 2 2328 2 31 2 12162 2 25 2 151 2 12163 387 2941 2 10578 2 177 2 106 2 1934 2 188 2 12164 2918 10068 2 7166 616 7195 2 51 2 1924 2 2548 2 96 616 12165 2 96 2 65 2 463 2 732 2 5837 2918 2941 2 176 2 177 2 9372 2 5322 2 177 2 12166 2 12167 2918 10068 2 12168 616 7195 2 51 2 1845 2 9372 2 207 2 177 2 12162 82 223 4 13 2 8682 2 2394 2 12169 2 12170 2 7810 4 132 2 3300 2 2761 4 4943 2 12098 82 7360 82 3618 2 2802 2 4902 2 8821 2 1159 2 463 2 1451 82 12171 2 12172 2 12173 2 7393 2 7365 2 570 387 3618 2 8821 2 2206 2 4887 2 7922 2 139 2 463 2 12174 2 12175 387 12176 2 7393 2 7365 2 12177 616 12178 2 12179 387 12180 2918 7363 2 12181 387 7363 2 12181 247 3618 2 1384 2 7408 2 51 2 67 2 12182 82 7520 82 223 4 4943 2 11188 82 7360 82 3618 2 341 2 4904 2 8821 2 30 2 4370 2 4966 82 12171 2 12172 2 12173 2 7393 2 7365 2 570 387 3618 2 8821 2 9 2 12005 2 12183 2 12184 2 1569 2 463 2 2081 387 12185 2 3618 2 11 2 11838 2 12005 2 4814 2 12186 2918 7363 2 12181 247 3618 2 12187 2 545 387 7363 2 12181 247 3618 2 12188 2 3655 2 1161 82 7520 82 223 4 132 2 12047 2 2761 4 4943 2 12098 82 9220 82 1 2 2802 2 4902 2 8821 2 1159 2 463 2 1451 82 9222 2 12189 2 109 387 96 2 12190 2 12172 2 12191 2 109 616 1 2 8821 2 2206 2 4887 2 7922 2 139 2 463 2 12174 2 12175 616 12192 2 12193 17 12194 616 9273 2 570 2 12194 2 9274 2 12195 616 1 2 12196 2 12197 2 51 2 4887 2 45 2 12198 387 1191 82 1191 82 223 4 4943 2 11188 82 9220 82 1 2 341 2 4904 2 8821 2 30 2 4370 2 4966 82 9222 2 12189 2 109 387 96 2 12190 2 12172 2 12191 2 109 616 1 2 8821 2 9 2 12005 2 12183 2 12184 2 1569 2 463 2 2081 616 12199 2 12200 247 1 2 11 2 11838 2 12005 2 12186 17 12194 247 1 2 12187 2 545 616 9273 2 570 2 12194 2 9274 2 12195 247 1 2 12201 387 1191 82 1191 82 223 4 1781 2 177 2 58 2 10318 82 51 2 12202 2 12162 2 4810 2 1590 2 4180 2 463 2 12203 2 120 2 12204 2 12205 82 51 2 12206 2 25 2 12207 2 12208 2 1159 2 489 2 1569 82 51 2 1038 2 547 2 207 2 2087 2 1785 2 43 2 7096 2 12209 4 132 2 3606 2 1563 4 223 82 6485 2 12210 2 31 2 9473 387 7195 2 51 2 1924 2 11838 2 7814 2918 71 2 2941 2 589 2 1590 2 1591 2 194 2 9 2 2052 2 12162 2 12211 387 83 2 2941 2 176 2 177 2 463 2 4961 2 120 2 31 2 115 2 1614 2 1590 2 12212 387 93 2 2941 2 4912 2 49 2 7240 2 1479 2 110 2 177 2 463 2 12213 2918 10068 2 12174 2 120 2 1590 2 12214 616 8821 2 30 2 12215 2 4966 2 6506 2 489 2 12216 2 12217 616 12218 2 1724 2 463 2 12219 2 139 2 12184 2 12220 2 1569 616 1927 2 9 2 12221 2 12162 2 9 2 463 2 12174 2 120 2918 10068 2 12222 2 110 2 463 2 12174 2 2440 616 1164 2 463 2 37 2 2052 2 954 2 546 616 10481 2 110 2 1578 2 2081 2 25 2 1933 616 11225 2 2548 2 283 2 12210 2 30 2 9 2 2610 2 4966 2918 8161 2 12223 616 51 2 11131 2 11838 2 177 2 25 2 344 2 12208 616 51 2 8092 2 2123 2 344 2 12224 2 1467 2 11838 2 2841 616 51 2 12169 2 1872 2 1521 2 9 2 1823 2 10463 82 223 4 13 2 8682 2 2416 2 4756 2 7698 4 4943 2 12098 82 7360 82 3618 2 2802 2 4902 2 9206 2 11838 2 51 2 106 2 2237 2 112 2 46 2 112 2 661 82 7368 2 12225 2 292 2 570 387 3051 2 12226 387 9318 2 570 2 12227 2 12228 2 4308 2 12229 2 613 387 3618 2 3825 2 6517 2 139 2 12230 2 458 2 7333 82 7518 4 3618 2 12231 2 1159 2 827 2 458 2 12232 2 12233 82 223 4 1781 2 177 2 58 2 10318 82 51 2 12234 2 2103 2 2124 2 7701 2 12235 2 51 2 44 2 106 2 12236 2 2237 2 112 2 2626 2 126 82 51 2 12237 2 458 2 1283 2 4961 2 120 2 2237 2 112 2 1738 2 12238 2 51 2 6874 2 2025 82 51 2 12239 2 510 2 67 2 702 2 12240 2 51 2 8821 2 12241 2 2052 2 4850 2 632 82 51 2 12242 2 12243 2 51 2 1038 2 11393 2 10226 2 126 2 2052 2 1569 4 4943 2 11162 2 1878 2 8821 2 9 2 3161 2 663 2 436 2 134 2 96 2 2350 2 65 2 12244 2 183 2 3508 2 2237 2 228 2 10573 2 463 2 12245 4 4943 2 11188 82 7360 82 3618 2 341 2 4904 2 9999 2 2052 2 4850 2 1040 82 7368 2 12225 2 292 2 570 387 3051 2 12226 387 9318 2 570 2 12227 2 12228 2 4308 2 12229 2 591 387 12246 2 570 2 12247 2 12248 2 3398 2 12249 2 613 387 3618 2 287 2 2237 2 2052 2 4850 2 2800 82 7518 82 223 4 132 2 3606 2 1563 4 223 82 6485 2 1914 2 11838 2 12250 387 3668 2 589 2 2237 2 194 2 9 2 2052 2 4850 2 4840 2 12251 2918 12252 616 71 2 2230 2 489 2 4850 2 4840 2 77 2 12253 616 83 2 1920 2 3155 2 2237 2 52 2 2123 2 12254 2 12230 616 93 2 1171 2 11838 2 5345 2 2052 2 4840 2 823 2 5150 2918 12255 616 192 2 1365 2 1914 2 1233 2 12114 2 112 2 1413 2 1479 2 9 2 12256 2 436 616 9206 2 2103 2 3480 2 2174 2 827 2 458 2 12174 2 120 2 12257 2 2237 2918 192 2 12258 2 1920 2 86 2 1566 2 2237 82 223 4 13 2 8682 2 2444 2 5259 2 503 2 134 2 12259 4 4943 2 12098 82 223 82 341 2 3512 2 632 82 2802 2 150 2 550 2 545 82 7296 2 207 2 12260 82 223 4 1781 2 177 2 58 2 10318 82 51 2 1305 2 58 2 2643 2 115 2 11916 2 183 2 2035 2 3208 82 51 2 448 2 1932 2 811 2 2193 2 177 82 51 2 146 2 1561 2 632 2 1872 2 550 4 4943 2 11188 82 223 82 448 2 12261 82 71 2 461 2 462 2 463 82 83 2 3701 2 25 2 510 82 93 2 466 82 104 2 11225 2 1561 2 632 82 223 4 13 2 2227 2 7698 2 12262 2 7791 2 1594 4 12263 2 12264 82 51 2 8821 2 4779 2 1633 2 1468 2 463 2 1451 82 51 2 12169 2 95 2 25 2 2267 2 463 2 510 82 51 2 7698 2 1796 2 5882 2 2052 2 3317 2 811 82 51 2 1038 2 1159 2 827 2 11838 2 1280 4 10107 2 57 2 10103 2 12265 2 4912 2 5339 2 661 2 25 2 344 2 3112 2 1233 2 11838 2 12266 4 12267 2 5259 2 550 2 37 2 2052 2 3317 2 1466 2 1516 2 1468 2 4323 2 2103 4 13 2 448 2 6117 2 3724 2 8674 4 1781 2 448 2 12268 82 71 2 3474 2 463 2 3475 2 193 2 11073 2 112 2 25 2 46 2 126 2 110 2 1365 2 1578 2 155 82 83 2 11362 2 96 2 12269 2 193 2 12270 2 463 2 550 2 2052 2 4280 2 183 2 2103 82 93 2 12271 2 12272 2 193 2 150 2 12097 2 5882 2 12273 2 65 82 104 2 12274 2 12275 2 193 2 44 2 488 2 110 2 9 2 463 2 1578 2 2081 2 274 2 12210 4 2540 2 1365 2 155 2 11838 2 4280 2 112 2 2247 2 12276 2 51 2 112 2 560 2 2103 2 1872 2 12277 2 463 2 3480 2 1270 2 2052 2 458 2 3604 4 13 2 847 2 4378 4 143 2 8682 2 143 2 2904 2 143 82 9480 82 143 2 8817 2 120 2 11838 2 3322 2 143 2 1038 2 2052 2 3682 2 43 2 12130 2 96 2 143 82 143 2 12278 2 5882 2 65 2 151 2 143 2 3154 2 25 2 463 2 732 2 143 82 143 2 8821 2 1872 2 1521 2 143 2 2385 2 4803 2 9156 2 11838 2 11416 2 143 82 143 2 4756 2 2103 2 143 2 9999 2 2052 2 4850 2 5150 2 143 82 143 2 503 2 134 2 12279 2 143 2 448 2 51 2 550 2 2499 2 143 82 143 2 12280 2 2103 2 143 2 1603 2 702 2 550 2 143 4 13 2 8161 2 8162 4 51 2 12281 2 1210 2 207 2 12282 2 463 2 9493 82 51 2 12132 2 106 2 10490 2 65 2 463 2 1285 82 51 2 8821 2 4779 2 58 2 12283 2 115 2 463 82 51 2 1038 2 7096 2 827 2 112 2 3020 2 11838 82 51 2 146 2 2085 2 1530 2 11838 2 58 2 2200 82 51 2 12169 2 12018 2 25 2 344 2 12208 4 13 2 14 2 10233 2 10234 4 12284 2 186 2 3098 2 25 2 12091 2 183 2 10153 2 25 2 12285 4 192 2 448 2 8560 2 1365 2 155 2 11838 2 4280 2 5164 2 12286 2 12287 4 10428 2 1038 2 2052 2 1569 2 43 2 2399 2 1530 2 1365 2 12210 2 30 2 12288