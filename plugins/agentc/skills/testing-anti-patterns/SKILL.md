---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
82 1 2 4732 2 8743 4 13 2 7304 4 503 2 1290 2 355 2 3920 2 3372 2 183 2 11907 2 11926 2 7769 2 186 2 1152 2 6234 2 25 2 12160 2 183 2 9 2 1525 2 5200 2 12161 4 2382 2 7393 2 945 2 110 2 9 2 458 2 12162 2 183 2 110 2 9 2 5306 2 196 4 12163 2 1046 2 448 2 3382 2 2399 2 12164 4 13 2 14 2 11232 2 12165 4 223 82 71 2 8960 2 463 2 11907 2 2664 82 83 2 8960 2 1433 2 12166 2 5954 2 25 2 151 2 8855 82 93 2 8960 2 11907 2 1696 2 1640 2 3936 82 223 4 13 2 8751 2 1227 2 4732 2 8890 2 3163 4 132 2 2265 2 1670 4 4081 2 12167 82 7428 82 2621 2 1719 2 4040 2 4732 2 139 2 9 2 11907 2 1207 82 8875 2 12168 2 7461 2 7433 2 570 387 12169 2 12170 387 12171 82 7588 82 223 4 4081 2 11258 82 7428 82 2621 2 341 2 4042 2 945 2 3920 2 2693 2 43 2 125 2 11907 2 96 82 8875 2 12168 2 7461 2 7433 2 570 387 12169 2 12170 247 2621 2 1625 2 11907 2 12172 387 12173 82 7588 82 223 4 132 2 12116 2 1670 4 4081 2 12167 82 9286 82 1 2 1719 2 4040 2 4732 2 139 2 9 2 12174 2 1207 82 9288 2 8626 2 109 387 96 2 12175 2 12176 2 109 616 12172 2 292 2 12177 616 12178 2 12179 17 9273 2 292 2 12180 616 12181 2 12182 247 1 2 4732 2 12183 2 183 2 12184 387 1109 82 1109 82 223 4 4081 2 11258 82 9286 82 1 2 341 2 4042 2 945 2 3920 2 2693 2 43 2 125 2 11907 2 96 82 9288 2 8626 2 109 387 96 2 12175 2 12172 2 37 2 12185 2 109 616 9273 2 292 2 12180 247 1 2 1192 2 3920 2 12186 616 12187 2 12188 387 1109 82 1109 82 223 4 5068 2 177 2 58 2 10387 82 51 2 10769 2 8233 2 9 2 11907 2 12189 2 183 2 139 2 9 2 2693 2 1118 82 51 2 945 2 547 2 827 2 11907 2 58 2 12190 2 7164 2 827 2 2150 2 183 82 51 2 12191 2 112 2 10295 2 126 2 3920 2 2664 4 10176 2 57 2 10172 2 12192 2 7786 2 4505 2 155 2 9 2 2664 2 115 2 1152 2 12193 4 132 2 2608 2 4916 4 223 82 6548 2 12194 2 120 2 31 2 11907 2 12195 387 1870 2 12196 2 49 2 155 2 3920 2 2693 2 2664 2 43 2 2494 2 11907 2 12197 1842 10137 2 155 2 11907 2 12198 616 7263 2 51 2 1979 2 9 2 12144 2 43 2 12199 2 9 2 2693 1842 945 2 3920 2 2664 2 5910 82 223 4 13 2 8751 2 1244 2 12200 2 12201 2 65 2 11528 4 132 2 2265 2 1670 4 4081 2 12167 82 7428 82 2621 2 1719 2 4040 2 12202 2 106 2 3141 2 65 2 550 82 9439 2 4491 2 570 387 7424 2 12202 2 570 247 2621 2 12203 2 62 2 151 2 12204 616 7431 2 12205 616 2621 2 22 2 1993 387 613 82 613 4 2621 2 3735 2 550 82 12206 2 7433 2 12207 82 223 4 4081 2 11258 82 7428 82 2621 2 341 2 4042 2 945 2 732 2 4205 2 463 2 1993 82 2621 2 4491 2 1240 2 516 2 12202 2 51 2 2150 2 12208 2 65 2 151 4 2621 2 3735 2 12209 82 7565 2 7424 2 4729 2 12210 2 12211 2 570 387 7436 2 7368 2 292 2 12212 387 536 2 12213 2 570 616 7431 2 12214 387 613 82 613 4 2621 2 3735 2 550 82 12206 2 7433 2 12215 82 223 4 132 2 12116 2 1670 4 4081 2 12167 82 9286 82 1 2 1719 2 4040 2 12216 2 106 2 3141 2 65 2 550 82 9439 2 4491 2 357 2 9440 387 5816 2 12216 247 1 2 12203 2 62 2 151 2 12204 616 12217 616 12218 387 1109 82 1109 4 1 2 3735 2 7310 82 471 2 570 2 12219 2 613 82 223 4 4081 2 11258 82 9286 82 1 2 341 2 4042 2 945 2 732 2 4205 2 463 2 1993 82 1 2 4491 2 1240 2 516 2 12216 2 51 2 2150 2 6111 4 1 2 3735 2 12220 82 4815 2 12221 387 5816 2 12222 616 7368 2 292 2 12223 616 12224 2 536 2 7368 616 12225 387 1109 82 1109 4 9597 2 109 2 9598 387 9599 2 12221 82 1109 4 1 2 3735 2 7310 82 471 2 570 2 12222 2 613 82 223 4 5068 2 177 2 58 2 10387 82 51 2 11528 2 9439 2 12226 2 37 2 12166 2 458 82 51 2 5100 2 536 2 5340 2 10559 2 65 2 151 82 51 2 10206 2 10180 2 130 2 10406 2 115 2 4862 82 51 2 12227 2 12228 2 12229 2 37 2 12230 2 12229 4 132 2 2608 2 4916 4 223 82 6548 2 1181 2 31 2 12231 2 25 2 151 2 12232 387 1870 2 10647 2 177 2 106 2 3141 2 188 2 12233 1842 10137 2 7234 616 7263 2 51 2 1625 2 1433 2 96 616 12234 2 96 2 65 2 463 2 732 2 5910 1842 1870 2 176 2 177 2 9439 2 4488 2 177 2 12235 2 12236 1842 10137 2 12237 616 7263 2 51 2 5115 2 9439 2 207 2 177 2 12231 82 223 4 13 2 8751 2 1264 2 12238 2 12239 2 7879 4 132 2 2265 2 1670 4 4081 2 12167 82 7428 82 2621 2 1719 2 4040 2 8890 2 1076 2 463 2 4836 82 12240 2 12241 2 12242 2 7461 2 7433 2 570 387 2621 2 8890 2 3382 2 4024 2 7992 2 139 2 463 2 12243 2 12244 387 12245 2 7461 2 7433 2 12246 616 12247 2 12248 387 12249 1842 7431 2 12250 387 7431 2 12250 247 2621 2 4783 2 7476 2 51 2 67 2 12251 82 7588 82 223 4 4081 2 11258 82 7428 82 2621 2 341 2 4042 2 8890 2 30 2 3473 2 4106 82 12240 2 12241 2 12242 2 7461 2 7433 2 570 387 2621 2 8890 2 9 2 12074 2 12252 2 12253 2 2664 2 463 2 1818 387 12254 2 2621 2 11 2 11907 2 12074 2 3947 2 12255 1842 7431 2 12250 247 2621 2 12256 2 545 387 7431 2 12250 247 2621 2 12257 2 2662 2 1078 82 7588 82 223 4 132 2 12116 2 1670 4 4081 2 12167 82 9286 82 1 2 1719 2 4040 2 8890 2 1076 2 463 2 4836 82 9288 2 12258 2 109 387 96 2 12259 2 12241 2 12260 2 109 616 1 2 8890 2 3382 2 4024 2 7992 2 139 2 463 2 12243 2 12244 616 12261 2 12262 17 12263 616 9339 2 570 2 12263 2 9340 2 12264 616 1 2 12265 2 12266 2 51 2 4024 2 45 2 12267 387 1109 82 1109 82 223 4 4081 2 11258 82 9286 82 1 2 341 2 4042 2 8890 2 30 2 3473 2 4106 82 9288 2 12258 2 109 387 96 2 12259 2 12241 2 12260 2 109 616 1 2 8890 2 9 2 12074 2 12252 2 12253 2 2664 2 463 2 1818 616 12268 2 12269 247 1 2 11 2 11907 2 12074 2 12255 17 12263 247 1 2 12256 2 545 616 9339 2 570 2 12263 2 9340 2 12264 247 1 2 12270 387 1109 82 1109 82 223 4 5068 2 177 2 58 2 10387 82 51 2 12271 2 12231 2 3943 2 4933 2 3242 2 463 2 12272 2 120 2 12273 2 12274 82 51 2 12275 2 25 2 12276 2 12277 2 1076 2 489 2 2664 82 51 2 945 2 547 2 207 2 5291 2 2464 2 43 2 7164 2 12278 4 132 2 2608 2 4916 4 223 82 6548 2 12279 2 31 2 9539 387 7263 2 51 2 1625 2 11907 2 7883 1842 71 2 1870 2 589 2 4933 2 4934 2 194 2 9 2 3920 2 12231 2 12280 387 83 2 1870 2 176 2 177 2 463 2 4100 2 120 2 31 2 115 2 4177 2 4933 2 12281 387 93 2 1870 2 4050 2 49 2 7308 2 3175 2 110 2 177 2 463 2 12282 1842 10137 2 12243 2 120 2 4933 2 12283 616 8890 2 30 2 12284 2 4106 2 6568 2 489 2 12285 2 12286 616 12287 2 2091 2 463 2 12288 2 139 2 12253 2 12289 2 2664 616 1316 2 9 2 12290 2 12231 2 9 2 463 2 12243 2 120 1842 10137 2 12291 2 110 2 463 2 12243 2 1319 616 1081 2 463 2 37 2 3920 2 2450 2 546 616 10550 2 110 2 4925 2 1818 2 25 2 5174 616 11295 2 1433 2 283 2 12279 2 30 2 9 2 1502 2 4106 1842 8230 2 12292 616 51 2 11201 2 11907 2 177 2 25 2 344 2 12277 616 51 2 8161 2 1281 2 344 2 12293 2 4848 2 11907 2 1758 616 51 2 12238 2 1696 2 1640 2 9 2 5094 2 10532 82 223 4 13 2 8751 2 1292 2 3885 2 7769 4 4081 2 12167 82 7428 82 2621 2 1719 2 4040 2 9272 2 11907 2 51 2 106 2 2842 2 112 2 46 2 112 2 661 82 7436 2 12294 2 292 2 570 387 1996 2 12295 387 9385 2 570 2 12296 2 12297 2 3407 2 12298 2 613 387 2621 2 2850 2 6579 2 139 2 12299 2 458 2 7401 82 7586 4 2621 2 12300 2 1076 2 827 2 458 2 12301 2 12302 82 223 4 5068 2 177 2 58 2 10387 82 51 2 12303 2 5306 2 5322 2 7772 2 12304 2 51 2 44 2 106 2 12305 2 2842 2 112 2 1519 2 126 82 51 2 12306 2 458 2 3051 2 4100 2 120 2 2842 2 112 2 3323 2 12307 2 51 2 6944 2 4366 82 51 2 12308 2 510 2 67 2 702 2 12309 2 51 2 8890 2 12310 2 3920 2 3985 2 632 82 51 2 12311 2 12312 2 51 2 945 2 11462 2 10295 2 126 2 3920 2 2664 4 4081 2 11232 2 5137 2 8890 2 9 2 2119 2 663 2 436 2 134 2 96 2 1207 2 65 2 12313 2 183 2 2494 2 2842 2 228 2 10642 2 463 2 12314 4 4081 2 11258 82 7428 82 2621 2 341 2 4042 2 10068 2 3920 2 3985 2 947 82 7436 2 12294 2 292 2 570 387 1996 2 12295 387 9385 2 570 2 12296 2 12297 2 3407 2 12298 2 591 387 12315 2 570 2 12316 2 12317 2 2371 2 12318 2 613 387 2621 2 287 2 2842 2 3920 2 3985 2 1717 82 7586 82 223 4 132 2 2608 2 4916 4 223 82 6548 2 3023 2 11907 2 12319 387 2677 2 589 2 2842 2 194 2 9 2 3920 2 3985 2 3975 2 12320 1842 12321 616 71 2 5399 2 489 2 3985 2 3975 2 77 2 12322 616 83 2 5165 2 2113 2 2842 2 52 2 1281 2 12323 2 12299 616 93 2 1088 2 11907 2 4512 2 3920 2 3975 2 823 2 4297 1842 12324 616 192 2 1520 2 3023 2 1152 2 12183 2 112 2 1290 2 3175 2 9 2 12325 2 436 616 9272 2 5306 2 2462 2 5359 2 827 2 458 2 12243 2 120 2 12326 2 2842 1842 192 2 12327 2 5165 2 86 2 2639 2 2842 82 223 4 13 2 8751 2 1324 2 4419 2 503 2 134 2 12328 4 4081 2 12167 82 223 82 341 2 2499 2 632 82 1719 2 150 2 550 2 545 82 7364 2 207 2 12329 82 223 4 5068 2 177 2 58 2 10387 82 51 2 4732 2 58 2 1542 2 115 2 11985 2 183 2 5248 2 2171 82 51 2 448 2 1518 2 811 2 5373 2 177 82 51 2 146 2 4914 2 632 2 1696 2 550 4 4081 2 11258 82 223 82 448 2 12330 82 71 2 461 2 462 2 463 82 83 2 2713 2 25 2 510 82 93 2 466 82 104 2 11295 2 4914 2 632 82 223 4 13 2 1289 2 7769 2 12331 2 7861 2 4937 4 12332 2 12333 82 51 2 8890 2 3910 2 4969 2 4849 2 463 2 4836 82 51 2 12238 2 95 2 25 2 1619 2 463 2 510 82 51 2 7769 2 1256 2 5954 2 3920 2 2284 2 811 82 51 2 945 2 1076 2 827 2 11907 2 1522 4 10176 2 57 2 10172 2 12334 2 4050 2 4505 2 661 2 25 2 344 2 2065 2 1152 2 11907 2 12335 4 12336 2 4419 2 550 2 37 2 3920 2 2284 2 4036 2 4883 2 4849 2 3422 2 5306 4 13 2 448 2 6195 2 2738 2 8743 4 5068 2 448 2 12337 82 71 2 2456 2 463 2 2457 2 193 2 11143 2 112 2 25 2 46 2 126 2 110 2 1520 2 4925 2 155 82 83 2 11431 2 96 2 12338 2 193 2 12339 2 463 2 550 2 3920 2 3372 2 183 2 5306 82 93 2 12340 2 12341 2 193 2 150 2 12166 2 5954 2 12342 2 65 82 104 2 12343 2 12344 2 193 2 44 2 488 2 110 2 9 2 463 2 4925 2 1818 2 274 2 12279 4 1425 2 1520 2 155 2 11907 2 3372 2 112 2 5411 2 12345 2 51 2 112 2 560 2 5306 2 1696 2 12346 2 463 2 2462 2 4707 2 3920 2 458 2 2606 4 13 2 847 2 3483 4 143 2 8751 2 143 2 1827 2 143 82 9546 82 143 2 8886 2 120 2 11907 2 2290 2 143 2 945 2 3920 2 2693 2 43 2 12199 2 96 2 143 82 143 2 12347 2 5954 2 65 2 151 2 143 2 2112 2 25 2 463 2 732 2 143 82 143 2 8890 2 1696 2 1640 2 143 2 1253 2 3936 2 9223 2 11907 2 11485 2 143 82 143 2 3885 2 5306 2 143 2 10068 2 3920 2 3985 2 4297 2 143 82 143 2 503 2 134 2 12348 2 143 2 448 2 51 2 550 2 1382 2 143 82 143 2 12349 2 5306 2 143 2 3022 2 702 2 550 2 143 4 13 2 8230 2 8231 4 51 2 12350 2 1128 2 207 2 12351 2 463 2 9560 82 51 2 12201 2 106 2 10559 2 65 2 463 2 1446 82 51 2 8890 2 3910 2 58 2 12352 2 115 2 463 82 51 2 945 2 7164 2 827 2 112 2 1960 2 11907 82 51 2 146 2 5289 2 4891 2 11907 2 58 2 3244 82 51 2 12238 2 12087 2 25 2 344 2 12277 4 13 2 14 2 10302 2 10303 4 12353 2 186 2 2046 2 25 2 12160 2 183 2 10222 2 25 2 12354 4 192 2 448 2 8629 2 1520 2 155 2 11907 2 3372 2 4311 2 12355 2 12356 4 10497 2 945 2 3920 2 2664 2 43 2 1269 2 4891 2 1520 2 12279 2 30 2 12357