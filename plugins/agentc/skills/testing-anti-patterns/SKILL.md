---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
82 1 2 1158 2 7821 4 13 2 6342 4 338 2 1269 2 3137 2 1916 2 3894 2 183 2 11042 2 11061 2 6820 2 186 2 1080 2 5562 2 25 2 11296 2 183 2 9 2 2501 2 1844 2 11297 4 771 2 6433 2 876 2 110 2 9 2 287 2 11298 2 183 2 110 2 9 2 1968 2 196 4 11299 2 827 2 277 2 2072 2 3082 2 11300 4 13 2 14 2 10356 2 11301 4 221 82 71 2 8042 2 292 2 11042 2 1426 82 83 2 8042 2 2417 2 11302 2 5273 2 25 2 151 2 7934 82 93 2 8042 2 11042 2 1735 2 1377 2 4318 82 221 4 13 2 7829 2 1721 2 1158 2 7969 2 3729 4 132 2 2957 2 4017 4 4470 2 11303 82 6470 82 3280 2 6471 2 4426 2 1158 2 139 2 9 2 11042 2 2217 82 7954 2 11304 2 6505 2 6476 2 407 506 11305 2 11306 506 11307 82 6634 82 221 4 4470 2 10382 82 6470 82 3280 2 6482 2 4429 2 876 2 1916 2 3346 2 43 2 125 2 11042 2 96 82 7954 2 11304 2 6505 2 6476 2 407 506 11305 2 11306 2684 3280 2 1787 2 11042 2 11308 506 11309 82 6634 82 221 4 132 2 11252 2 4017 4 4470 2 11303 82 8379 82 1 2 6471 2 4426 2 1158 2 139 2 9 2 11310 2 2217 82 8381 2 7704 2 109 506 96 2 11311 2 11312 2 109 453 11308 2 1100 2 11313 453 11314 2 11315 17 8366 2 1100 2 11316 453 11317 2 11318 2684 1 2 1158 2 11319 2 183 2 11320 506 1034 82 1034 82 221 4 4470 2 10382 82 8379 82 1 2 6482 2 4429 2 876 2 1916 2 3346 2 43 2 125 2 11042 2 96 82 8381 2 7704 2 109 506 96 2 11311 2 11308 2 37 2 11321 2 109 453 8366 2 1100 2 11316 2684 1 2 1764 2 1916 2 11322 453 11323 2 11324 506 1034 82 1034 82 221 4 1643 2 177 2 58 2 9491 82 51 2 9879 2 7302 2 9 2 11042 2 11325 2 183 2 139 2 9 2 3346 2 1046 82 51 2 876 2 383 2 658 2 11042 2 58 2 11326 2 7033 2 658 2 2055 2 183 82 51 2 11327 2 112 2 9397 2 126 2 1916 2 1426 4 9276 2 57 2 9272 2 11328 2 6838 2 5384 2 155 2 9 2 1426 2 115 2 1080 2 11329 4 132 2 3268 2 1420 4 221 82 6677 2 11330 2 120 2 31 2 11042 2 11331 506 4024 2 11332 2 49 2 155 2 1916 2 3346 2 1426 2 43 2 3168 2 11042 2 11333 4991 9236 2 155 2 11042 2 11334 453 9238 2 51 2 2688 2 9 2 11280 2 43 2 11335 2 9 2 3346 4991 876 2 1916 2 1426 2 5224 82 221 4 13 2 7829 2 1753 2 11336 2 11337 2 65 2 10657 4 132 2 2957 2 4017 4 4470 2 11303 82 6470 82 3280 2 6471 2 4426 2 11338 2 106 2 1797 2 65 2 386 82 8533 2 6791 2 407 506 6466 2 11338 2 407 2684 3280 2 11339 2 62 2 151 2 11340 453 6474 2 11341 453 3280 2 22 2 2699 506 450 82 450 4 3280 2 6754 2 386 82 11342 2 6476 2 11343 82 221 4 4470 2 10382 82 6470 82 3280 2 6482 2 4429 2 876 2 560 2 4591 2 292 2 2699 82 3280 2 6791 2 2242 2 352 2 11338 2 51 2 2055 2 11344 2 65 2 151 4 3280 2 6754 2 11345 82 6611 2 6466 2 1154 2 11346 2 11347 2 407 506 6479 2 6407 2 1100 2 11348 506 372 2 11349 2 407 453 6474 2 11350 506 450 82 450 4 3280 2 6754 2 386 82 11342 2 6476 2 11351 82 221 4 132 2 11252 2 4017 4 4470 2 11303 82 8379 82 1 2 6471 2 4426 2 11352 2 106 2 1797 2 65 2 386 82 8533 2 6791 2 4168 2 8534 506 5129 2 11352 2684 1 2 11339 2 62 2 151 2 11340 453 11353 453 11354 506 1034 82 1034 4 1 2 6754 2 6348 82 302 2 407 2 11355 2 450 82 221 4 4470 2 10382 82 8379 82 1 2 6482 2 4429 2 876 2 560 2 4591 2 292 2 2699 82 1 2 6791 2 2242 2 352 2 11352 2 51 2 2055 2 5435 4 1 2 6754 2 11356 82 1281 2 11357 506 5129 2 11358 453 6407 2 1100 2 11359 453 11360 2 372 2 6407 453 11361 506 1034 82 1034 4 8693 2 109 2 8694 506 8695 2 11357 82 1034 4 1 2 6754 2 6348 82 302 2 407 2 11358 2 450 82 221 4 1643 2 177 2 58 2 9491 82 51 2 10657 2 8533 2 11362 2 37 2 11302 2 287 82 51 2 1692 2 372 2 2017 2 9671 2 65 2 151 82 51 2 9307 2 9280 2 130 2 9513 2 115 2 1339 82 51 2 11363 2 11364 2 11365 2 37 2 11366 2 11365 4 132 2 3268 2 1420 4 221 82 6677 2 2195 2 31 2 11367 2 25 2 151 2 11368 506 4024 2 9758 2 177 2 106 2 1797 2 188 2 11369 4991 9236 2 7275 453 9238 2 51 2 1787 2 2417 2 96 453 11370 2 96 2 65 2 292 2 560 2 5224 4991 4024 2 176 2 177 2 8533 2 8031 2 177 2 11371 2 11372 4991 9236 2 11373 453 9238 2 51 2 1707 2 8533 2 207 2 177 2 11367 82 221 4 13 2 7829 2 2261 2 11374 2 11375 2 6937 4 132 2 2957 2 4017 4 4470 2 11303 82 6470 82 3280 2 6471 2 4426 2 7969 2 1001 2 292 2 1307 82 11376 2 11377 2 11378 2 6505 2 6476 2 407 506 3280 2 7969 2 2072 2 4410 2 7055 2 139 2 292 2 11379 2 11380 506 11381 2 6505 2 6476 2 11382 453 11383 2 11384 506 11385 4991 6474 2 11386 506 6474 2 11386 2684 3280 2 1239 2 6520 2 51 2 67 2 11387 82 6634 82 221 4 4470 2 10382 82 6470 82 3280 2 6482 2 4429 2 7969 2 30 2 3985 2 4493 82 11376 2 11377 2 11378 2 6505 2 6476 2 407 506 3280 2 7969 2 9 2 11210 2 11388 2 11389 2 1426 2 292 2 1946 506 11390 2 3280 2 11 2 11042 2 11210 2 4329 2 11391 4991 6474 2 11386 2684 3280 2 11392 2 381 506 6474 2 11386 2684 3280 2 11393 2 3318 2 1003 82 6634 82 221 4 132 2 11252 2 4017 4 4470 2 11303 82 8379 82 1 2 6471 2 4426 2 7969 2 1001 2 292 2 1307 82 8381 2 11394 2 109 506 96 2 11395 2 11377 2 11396 2 109 453 1 2 7969 2 2072 2 4410 2 7055 2 139 2 292 2 11379 2 11380 453 11397 2 11398 17 11399 453 8432 2 407 2 11399 2 8433 2 11400 453 1 2 11401 2 11402 2 51 2 4410 2 45 2 11403 506 1034 82 1034 82 221 4 4470 2 10382 82 8379 82 1 2 6482 2 4429 2 7969 2 30 2 3985 2 4493 82 8381 2 11394 2 109 506 96 2 11395 2 11377 2 11396 2 109 453 1 2 7969 2 9 2 11210 2 11388 2 11389 2 1426 2 292 2 1946 453 11404 2 11405 2684 1 2 11 2 11042 2 11210 2 11391 17 11399 2684 1 2 11392 2 381 453 8432 2 407 2 11399 2 8433 2 11400 2684 1 2 11406 506 1034 82 1034 82 221 4 1643 2 177 2 58 2 9491 82 51 2 11407 2 11367 2 4325 2 1447 2 3793 2 292 2 11408 2 120 2 11409 2 11410 82 51 2 11411 2 25 2 11412 2 11413 2 1001 2 322 2 1426 82 51 2 876 2 383 2 207 2 1952 2 1647 2 43 2 7033 2 11414 4 132 2 3268 2 1420 4 221 82 6677 2 11415 2 31 2 8635 506 9238 2 51 2 1787 2 11042 2 6941 4991 71 2 4024 2 426 2 1447 2 1448 2 194 2 9 2 1916 2 11367 2 11416 506 83 2 4024 2 176 2 177 2 292 2 4488 2 120 2 31 2 115 2 1472 2 1447 2 11417 506 93 2 4024 2 4439 2 49 2 6346 2 1335 2 110 2 177 2 292 2 11418 4991 9236 2 11379 2 120 2 1447 2 11419 453 7969 2 30 2 11420 2 4493 2 7602 2 322 2 11421 2 11422 453 11423 2 1586 2 292 2 11424 2 139 2 11389 2 11425 2 1426 453 1790 2 9 2 11426 2 11367 2 9 2 292 2 11379 2 120 4991 9236 2 11427 2 110 2 292 2 11379 2 2307 453 1006 2 292 2 37 2 1916 2 790 2 382 453 9662 2 110 2 1435 2 1946 2 25 2 1796 453 10419 2 2417 2 295 2 11415 2 30 2 9 2 2480 2 4493 4991 7299 2 11428 453 51 2 10324 2 11042 2 177 2 25 2 1485 2 11413 453 51 2 7227 2 1988 2 1485 2 11429 2 1323 2 11042 2 6931 453 51 2 11374 2 1735 2 1377 2 9 2 1685 2 9643 82 221 4 13 2 7829 2 2283 2 4270 2 6820 4 4470 2 11303 82 6470 82 3280 2 6471 2 4426 2 8365 2 11042 2 51 2 106 2 2103 2 112 2 46 2 112 2 488 82 6479 2 11430 2 1100 2 407 506 2701 2 11431 506 8479 2 407 2 11432 2 11433 2 3923 2 11434 2 450 506 3280 2 3493 2 11435 2 139 2 11436 2 287 2 6443 82 6632 4 3280 2 11437 2 1001 2 658 2 287 2 11438 2 11439 82 221 4 1643 2 177 2 58 2 9491 82 51 2 11440 2 1968 2 1989 2 6823 2 11441 2 51 2 44 2 106 2 11442 2 2103 2 112 2 2497 2 126 82 51 2 11443 2 287 2 1135 2 4488 2 120 2 2103 2 112 2 1600 2 11444 2 51 2 6148 2 1889 82 51 2 11445 2 345 2 67 2 530 2 11446 2 51 2 7969 2 11447 2 1916 2 4367 2 1389 82 51 2 11448 2 11449 2 51 2 876 2 10590 2 9397 2 126 2 1916 2 1426 4 4470 2 10356 2 1741 2 7969 2 9 2 2812 2 490 2 264 2 134 2 96 2 2217 2 65 2 11450 2 183 2 3168 2 2103 2 1086 2 9753 2 292 2 11451 4 4470 2 10382 82 6470 82 3280 2 6482 2 4429 2 9166 2 1916 2 4367 2 878 82 6479 2 11430 2 1100 2 407 506 2701 2 11431 506 8479 2 407 2 11432 2 11433 2 3923 2 11434 2 428 506 11452 2 407 2 11453 2 11454 2 3056 2 11455 2 450 506 3280 2 387 2 2103 2 1916 2 4367 2 3231 82 6632 82 221 4 132 2 3268 2 1420 4 221 82 6677 2 1777 2 11042 2 11456 506 3332 2 426 2 2103 2 194 2 9 2 1916 2 4367 2 4357 2 11457 4991 11458 453 71 2 2096 2 322 2 4367 2 4357 2 77 2 11459 453 83 2 1783 2 2806 2 2103 2 52 2 1988 2 11460 2 11436 453 93 2 1013 2 11042 2 5389 2 1916 2 4357 2 652 2 4683 4991 11461 453 192 2 1218 2 1777 2 1080 2 11319 2 112 2 1269 2 1335 2 9 2 11462 2 264 453 8365 2 1968 2 3140 2 2039 2 658 2 287 2 11379 2 120 2 11463 2 2103 4991 192 2 11464 2 1783 2 86 2 1423 2 2103 82 221 4 13 2 7829 2 2311 2 4795 2 338 2 134 2 11465 4 4470 2 11303 82 221 82 6482 2 3172 2 1389 82 6471 2 150 2 386 2 381 82 6403 2 207 2 11466 82 221 4 1643 2 177 2 58 2 9491 82 51 2 1158 2 58 2 2514 2 115 2 11121 2 183 2 1899 2 2863 82 51 2 277 2 1795 2 640 2 2059 2 177 82 51 2 146 2 1418 2 1389 2 1735 2 386 4 4470 2 10382 82 221 82 277 2 11467 82 71 2 290 2 291 2 292 82 83 2 3366 2 25 2 345 82 93 2 297 82 104 2 10419 2 1418 2 1389 82 221 4 13 2 2093 2 6820 2 11468 2 6916 2 1451 4 11469 2 11470 82 51 2 7969 2 4294 2 1494 2 1324 2 292 2 1307 82 51 2 11374 2 95 2 25 2 2134 2 292 2 345 82 51 2 6820 2 1658 2 5273 2 1916 2 2974 2 640 82 51 2 876 2 1001 2 658 2 11042 2 1132 4 9276 2 57 2 9272 2 11471 2 4439 2 5384 2 488 2 25 2 1485 2 2762 2 1080 2 11042 2 11472 4 11473 2 4795 2 386 2 37 2 1916 2 2974 2 1322 2 1372 2 1324 2 3938 2 1968 4 13 2 277 2 5517 2 3390 2 7821 4 1643 2 277 2 11474 82 71 2 3133 2 292 2 3134 2 193 2 10264 2 112 2 25 2 46 2 126 2 110 2 1218 2 1435 2 155 82 83 2 10559 2 96 2 11475 2 193 2 11476 2 292 2 386 2 1916 2 3894 2 183 2 1968 82 93 2 11477 2 11478 2 193 2 150 2 11302 2 5273 2 11479 2 65 82 104 2 11480 2 11481 2 193 2 44 2 321 2 110 2 9 2 292 2 1435 2 1946 2 312 2 11415 4 2409 2 1218 2 155 2 11042 2 3894 2 112 2 2114 2 11482 2 51 2 112 2 397 2 1968 2 1735 2 11483 2 292 2 3140 2 1122 2 1916 2 287 2 3266 4 13 2 686 2 3993 4 143 2 7829 2 143 2 3234 2 143 82 8642 82 143 2 7965 2 120 2 11042 2 2979 2 143 2 876 2 1916 2 3346 2 43 2 11335 2 96 2 143 82 143 2 11484 2 5273 2 65 2 151 2 143 2 2805 2 25 2 292 2 560 2 143 82 143 2 7969 2 1735 2 1377 2 143 2 2252 2 4318 2 8316 2 11042 2 10613 2 143 82 143 2 4270 2 1968 2 143 2 9166 2 1916 2 4367 2 4683 2 143 82 143 2 338 2 134 2 11485 2 143 2 277 2 51 2 386 2 2367 2 143 82 143 2 11486 2 1968 2 143 2 1460 2 530 2 386 2 143 4 13 2 7299 2 7300 4 51 2 11487 2 1056 2 207 2 11488 2 292 2 5758 82 51 2 11337 2 106 2 9671 2 65 2 292 2 1138 82 51 2 7969 2 4294 2 58 2 11489 2 115 2 292 82 51 2 876 2 7033 2 658 2 112 2 2669 2 11042 82 51 2 146 2 1950 2 1386 2 11042 2 58 2 2066 82 51 2 11374 2 11223 2 25 2 1485 2 11413 4 13 2 14 2 9404 2 9405 4 11490 2 186 2 2748 2 25 2 11296 2 183 2 9323 2 25 2 11491 4 192 2 277 2 7707 2 1218 2 155 2 11042 2 3894 2 4697 2 11492 2 11493 4 9608 2 876 2 1916 2 1426 2 43 2 2266 2 1386 2 1218 2 11415 2 30 2 11494