---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
4 21 2 1175 2 7606 23 32 2 6121 23 355 2 1286 2 3151 2 1931 2 3908 2 200 2 10802 2 10821 2 6602 2 203 2 1097 2 5408 2 44 2 11059 2 200 2 28 2 2516 2 1859 2 11060 23 788 2 6212 2 893 2 127 2 28 2 304 2 11061 2 200 2 127 2 28 2 1983 2 213 23 11062 2 844 2 294 2 2087 2 3096 2 11063 23 32 2 33 2 10116 2 11064 23 238 4 90 2 7827 2 309 2 10802 2 1442 4 100 2 7827 2 2432 2 11065 2 5114 2 44 2 168 2 7719 4 110 2 7827 2 10802 2 1751 2 1393 2 4330 4 238 23 32 2 7614 2 1737 2 1175 2 7754 2 3743 23 149 2 2971 2 4031 23 4482 2 11066 4 6250 4 3294 2 6251 2 4438 2 1175 2 156 2 28 2 10802 2 2232 4 7739 2 11067 2 6285 2 6256 2 424 523 11068 2 11069 523 11070 4 6415 4 238 23 4482 2 10142 4 6250 4 3294 2 6262 2 4441 2 893 2 1931 2 3360 2 62 2 142 2 10802 2 113 4 7739 2 11067 2 6285 2 6256 2 424 523 11068 2 11069 2698 3294 2 1802 2 10802 2 11071 523 11072 4 6415 4 238 23 149 2 11015 2 4031 23 4482 2 11066 4 8129 4 21 2 6251 2 4438 2 1175 2 156 2 28 2 11073 2 2232 4 8131 2 7488 2 126 523 113 2 11074 2 11075 2 126 470 11071 2 1117 2 11076 470 11077 2 11078 36 8116 2 1117 2 11079 470 11080 2 11081 2698 21 2 1175 2 11082 2 200 2 11083 523 1051 4 1051 4 238 23 4482 2 10142 4 8129 4 21 2 6262 2 4441 2 893 2 1931 2 3360 2 62 2 142 2 10802 2 113 4 8131 2 7488 2 126 523 113 2 11074 2 11071 2 56 2 11084 2 126 470 8116 2 1117 2 11079 2698 21 2 1779 2 1931 2 11085 470 11086 2 11087 523 1051 4 1051 4 238 23 1659 2 194 2 77 2 9246 4 70 2 9638 2 7086 2 28 2 10802 2 11088 2 200 2 156 2 28 2 3360 2 1063 4 70 2 893 2 400 2 675 2 10802 2 77 2 11089 2 6815 2 675 2 2070 2 200 4 70 2 11090 2 129 2 9152 2 143 2 1931 2 1442 23 9029 2 76 2 9025 2 11091 2 6620 2 5226 2 172 2 28 2 1442 2 132 2 1097 2 11092 23 149 2 3282 2 1436 23 238 4 6459 2 11093 2 137 2 50 2 10802 2 11094 523 4038 2 11095 2 68 2 172 2 1931 2 3360 2 1442 2 62 2 3182 2 10802 2 11096 5499 8989 2 172 2 10802 2 11097 470 8991 2 70 2 2702 2 28 2 11043 2 62 2 11098 2 28 2 3360 5499 893 2 1931 2 1442 2 5064 4 238 23 32 2 7614 2 1768 2 11099 2 11100 2 84 2 10417 23 149 2 2971 2 4031 23 4482 2 11066 4 6250 4 3294 2 6251 2 4438 2 11101 2 123 2 1812 2 84 2 403 4 8283 2 6573 2 424 523 6246 2 11101 2 424 2698 3294 2 11102 2 81 2 168 2 11103 470 6254 2 11104 470 3294 2 41 2 2713 523 467 4 467 23 3294 2 6536 2 403 4 11105 2 6256 2 11106 4 238 23 4482 2 10142 4 6250 4 3294 2 6262 2 4441 2 893 2 577 2 4603 2 309 2 2713 4 3294 2 6573 2 2257 2 369 2 11101 2 70 2 2070 2 11107 2 84 2 168 23 3294 2 6536 2 11108 4 6391 2 6246 2 1171 2 11109 2 11110 2 424 523 6259 2 6186 2 1117 2 11111 523 389 2 11112 2 424 470 6254 2 11113 523 467 4 467 23 3294 2 6536 2 403 4 11105 2 6256 2 11114 4 238 23 149 2 11015 2 4031 23 4482 2 11066 4 8129 4 21 2 6251 2 4438 2 11115 2 123 2 1812 2 84 2 403 4 8283 2 6573 2 4180 2 8284 523 4967 2 11115 2698 21 2 11102 2 81 2 168 2 11103 470 11116 470 11117 523 1051 4 1051 23 21 2 6536 2 6127 4 319 2 424 2 11118 2 467 4 238 23 4482 2 10142 4 8129 4 21 2 6262 2 4441 2 893 2 577 2 4603 2 309 2 2713 4 21 2 6573 2 2257 2 369 2 11115 2 70 2 2070 2 5280 23 21 2 6536 2 11119 4 1297 2 11120 523 4967 2 11121 470 6186 2 1117 2 11122 470 11123 2 389 2 6186 470 11124 523 1051 4 1051 23 8445 2 126 2 8446 523 8447 2 11120 4 1051 23 21 2 6536 2 6127 4 319 2 424 2 11121 2 467 4 238 23 1659 2 194 2 77 2 9246 4 70 2 10417 2 8283 2 11125 2 56 2 11065 2 304 4 70 2 1708 2 389 2 2032 2 9428 2 84 2 168 4 70 2 9061 2 9033 2 147 2 9268 2 132 2 1355 4 70 2 11126 2 11127 2 11128 2 56 2 11129 2 11128 23 149 2 3282 2 1436 23 238 4 6459 2 2210 2 50 2 11130 2 44 2 168 2 11131 523 4038 2 9516 2 194 2 123 2 1812 2 205 2 11132 5499 8989 2 7059 470 8991 2 70 2 1802 2 2432 2 113 470 11133 2 113 2 84 2 309 2 577 2 5064 5499 4038 2 193 2 194 2 8283 2 7816 2 194 2 11134 2 11135 5499 8989 2 11136 470 8991 2 70 2 1723 2 8283 2 224 2 194 2 11130 4 238 23 32 2 7614 2 2276 2 11137 2 11138 2 6719 23 149 2 2971 2 4031 23 4482 2 11066 4 6250 4 3294 2 6251 2 4438 2 7754 2 1018 2 309 2 1323 4 11139 2 11140 2 11141 2 6285 2 6256 2 424 523 3294 2 7754 2 2087 2 4422 2 6837 2 156 2 309 2 11142 2 11143 523 11144 2 6285 2 6256 2 11145 470 11146 2 11147 523 11148 5499 6254 2 11149 523 6254 2 11149 2698 3294 2 1256 2 6300 2 70 2 86 2 11150 4 6415 4 238 23 4482 2 10142 4 6250 4 3294 2 6262 2 4441 2 7754 2 49 2 3999 2 4505 4 11139 2 11140 2 11141 2 6285 2 6256 2 424 523 3294 2 7754 2 28 2 10973 2 11151 2 11152 2 1442 2 309 2 1961 523 11153 2 3294 2 30 2 10802 2 10973 2 4341 2 11154 5499 6254 2 11149 2698 3294 2 11155 2 398 523 6254 2 11149 2698 3294 2 11156 2 3332 2 1020 4 6415 4 238 23 149 2 11015 2 4031 23 4482 2 11066 4 8129 4 21 2 6251 2 4438 2 7754 2 1018 2 309 2 1323 4 8131 2 11157 2 126 523 113 2 11158 2 11140 2 11159 2 126 470 21 2 7754 2 2087 2 4422 2 6837 2 156 2 309 2 11142 2 11143 470 11160 2 11161 36 11162 470 8182 2 424 2 11162 2 8183 2 11163 470 21 2 11164 2 11165 2 70 2 4422 2 64 2 11166 523 1051 4 1051 4 238 23 4482 2 10142 4 8129 4 21 2 6262 2 4441 2 7754 2 49 2 3999 2 4505 4 8131 2 11157 2 126 523 113 2 11158 2 11140 2 11159 2 126 470 21 2 7754 2 28 2 10973 2 11151 2 11152 2 1442 2 309 2 1961 470 11167 2 11168 2698 21 2 30 2 10802 2 10973 2 11154 36 11162 2698 21 2 11155 2 398 470 8182 2 424 2 11162 2 8183 2 11163 2698 21 2 11169 523 1051 4 1051 4 238 23 1659 2 194 2 77 2 9246 4 70 2 11170 2 11130 2 4337 2 1463 2 3807 2 309 2 11171 2 137 2 11172 2 11173 4 70 2 11174 2 44 2 11175 2 11176 2 1018 2 339 2 1442 4 70 2 893 2 400 2 224 2 1967 2 1663 2 62 2 6815 2 11177 23 149 2 3282 2 1436 23 238 4 6459 2 11178 2 50 2 8386 523 8991 2 70 2 1802 2 10802 2 6723 5499 90 2 4038 2 443 2 1463 2 1464 2 211 2 28 2 1931 2 11130 2 11179 523 100 2 4038 2 193 2 194 2 309 2 4500 2 137 2 50 2 132 2 1488 2 1463 2 11180 523 110 2 4038 2 4451 2 68 2 6125 2 1351 2 127 2 194 2 309 2 11181 5499 8989 2 11142 2 137 2 1463 2 11182 470 7754 2 49 2 11183 2 4505 2 7386 2 339 2 11184 2 11185 470 11186 2 1602 2 309 2 11187 2 156 2 11152 2 11188 2 1442 470 1805 2 28 2 11189 2 11130 2 28 2 309 2 11142 2 137 5499 8989 2 11190 2 127 2 309 2 11142 2 2322 470 1023 2 309 2 56 2 1931 2 807 2 399 470 9419 2 127 2 1451 2 1961 2 44 2 1811 470 10179 2 2432 2 312 2 11178 2 49 2 28 2 2495 2 4505 5499 7083 2 11191 470 70 2 10084 2 10802 2 194 2 44 2 1501 2 11176 470 70 2 7010 2 2003 2 1501 2 11192 2 1339 2 10802 2 6713 470 70 2 11137 2 1751 2 1393 2 28 2 1701 2 9400 4 238 23 32 2 7614 2 2298 2 4282 2 6602 23 4482 2 11066 4 6250 4 3294 2 6251 2 4438 2 8115 2 10802 2 70 2 123 2 2118 2 129 2 65 2 129 2 505 4 6259 2 11193 2 1117 2 424 523 2715 2 11194 523 8229 2 424 2 11195 2 11196 2 3937 2 11197 2 467 523 3294 2 3507 2 11198 2 156 2 11199 2 304 2 6222 4 6413 23 3294 2 11200 2 1018 2 675 2 304 2 11201 2 11202 4 238 23 1659 2 194 2 77 2 9246 4 70 2 11203 2 1983 2 2004 2 6605 2 11204 2 70 2 63 2 123 2 11205 2 2118 2 129 2 2512 2 143 4 70 2 11206 2 304 2 1152 2 4500 2 137 2 2118 2 129 2 1616 2 11207 2 70 2 5917 2 1904 4 70 2 11208 2 362 2 86 2 547 2 11209 2 70 2 7754 2 11210 2 1931 2 4379 2 1405 4 70 2 11211 2 11212 2 70 2 893 2 10350 2 9152 2 143 2 1931 2 1442 23 4482 2 10116 2 1757 2 7754 2 28 2 2826 2 507 2 281 2 151 2 113 2 2232 2 84 2 11213 2 200 2 3182 2 2118 2 1103 2 9511 2 309 2 11214 23 4482 2 10142 4 6250 4 3294 2 6262 2 4441 2 8919 2 1931 2 4379 2 895 4 6259 2 11193 2 1117 2 424 523 2715 2 11194 523 8229 2 424 2 11195 2 11196 2 3937 2 11197 2 445 523 11215 2 424 2 11216 2 11217 2 3070 2 11218 2 467 523 3294 2 404 2 2118 2 1931 2 4379 2 3245 4 6413 4 238 23 149 2 3282 2 1436 23 238 4 6459 2 1792 2 10802 2 11219 523 3346 2 443 2 2118 2 211 2 28 2 1931 2 4379 2 4369 2 11220 5499 11221 470 90 2 2111 2 339 2 4379 2 4369 2 8 2 11222 470 100 2 1798 2 2820 2 2118 2 71 2 2003 2 11223 2 11199 470 110 2 1030 2 10802 2 5231 2 1931 2 4369 2 669 2 4695 5499 11224 470 209 2 1235 2 1792 2 1097 2 11082 2 129 2 1286 2 1351 2 28 2 11225 2 281 470 8115 2 1983 2 3154 2 2054 2 675 2 304 2 11142 2 137 2 11226 2 2118 5499 209 2 11227 2 1798 2 103 2 1439 2 2118 4 238 23 32 2 7614 2 2326 2 4807 2 355 2 151 2 11228 23 4482 2 11066 4 238 4 6262 2 3186 2 1405 4 6251 2 167 2 403 2 398 4 6182 2 224 2 11229 4 238 23 1659 2 194 2 77 2 9246 4 70 2 1175 2 77 2 2529 2 132 2 10884 2 200 2 1914 2 2877 4 70 2 294 2 1810 2 657 2 2074 2 194 4 70 2 163 2 1434 2 1405 2 1751 2 403 23 4482 2 10142 4 238 4 294 2 11230 4 90 2 307 2 308 2 309 4 100 2 3380 2 44 2 362 4 110 2 314 4 121 2 10179 2 1434 2 1405 4 238 23 32 2 2108 2 6602 2 11231 2 6698 2 1467 23 11232 2 11233 4 70 2 7754 2 4306 2 1510 2 1340 2 309 2 1323 4 70 2 11137 2 112 2 44 2 2149 2 309 2 362 4 70 2 6602 2 1674 2 5114 2 1931 2 2988 2 657 4 70 2 893 2 1018 2 675 2 10802 2 1149 23 9029 2 76 2 9025 2 11234 2 4451 2 5226 2 505 2 44 2 1501 2 2776 2 1097 2 10802 2 11235 23 11236 2 4807 2 403 2 56 2 1931 2 2988 2 1338 2 1388 2 1340 2 3952 2 1983 23 32 2 294 2 5362 2 3404 2 7606 23 1659 2 294 2 11237 4 90 2 3147 2 309 2 3148 2 210 2 10024 2 129 2 44 2 65 2 143 2 127 2 1235 2 1451 2 172 4 100 2 10319 2 113 2 11238 2 210 2 11239 2 309 2 403 2 1931 2 3908 2 200 2 1983 4 110 2 11240 2 11241 2 210 2 167 2 11065 2 5114 2 11242 2 84 4 121 2 11243 2 11244 2 210 2 63 2 338 2 127 2 28 2 309 2 1451 2 1961 2 329 2 11178 23 2424 2 1235 2 172 2 10802 2 3908 2 129 2 2129 2 11245 2 70 2 129 2 414 2 1983 2 1751 2 11246 2 309 2 3154 2 1139 2 1931 2 304 2 3280 23 32 2 703 2 4007 23 160 2 7614 2 160 2 3248 2 160 4 8393 4 160 2 7750 2 137 2 10802 2 2993 2 160 2 893 2 1931 2 3360 2 62 2 11098 2 113 2 160 4 160 2 11247 2 5114 2 84 2 168 2 160 2 2819 2 44 2 309 2 577 2 160 4 160 2 7754 2 1751 2 1393 2 160 2 2267 2 4330 2 8065 2 10802 2 10373 2 160 4 160 2 4282 2 1983 2 160 2 8919 2 1931 2 4379 2 4695 2 160 4 160 2 355 2 151 2 11248 2 160 2 294 2 70 2 403 2 2382 2 160 4 160 2 11249 2 1983 2 160 2 1476 2 547 2 403 2 160 23 32 2 7083 2 7084 23 70 2 11250 2 1073 2 224 2 11251 2 309 2 8406 4 70 2 11100 2 123 2 9428 2 84 2 309 2 1155 4 70 2 7754 2 4306 2 77 2 11252 2 132 2 309 4 70 2 893 2 6815 2 675 2 129 2 2683 2 10802 4 70 2 163 2 1965 2 1402 2 10802 2 77 2 2081 4 70 2 11137 2 10986 2 44 2 1501 2 11176 23 32 2 33 2 9159 2 9160 23 11253 2 203 2 2762 2 44 2 11059 2 200 2 9077 2 44 2 11254 23 209 2 294 2 7491 2 1235 2 172 2 10802 2 3908 2 4709 2 11255 2 11256 23 9364 2 893 2 1931 2 1442 2 62 2 2281 2 1402 2 1235 2 11178 2 49 2 11257