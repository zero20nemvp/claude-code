---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
82 1 2 1318 2 9947 4 13 2 8533 4 503 2 1425 2 355 2 2061 2 4353 2 183 2 14729 2 14748 2 8985 2 186 2 929 2 6429 2 25 2 14976 2 183 2 9 2 2638 2 1990 2 14977 4 945 2 8617 2 1046 2 110 2 9 2 458 2 14978 2 183 2 110 2 9 2 2111 2 196 4 14979 2 998 2 448 2 2215 2 3439 2 14980 4 13 2 14 2 14056 2 14981 4 223 82 71 2 10161 2 463 2 14729 2 1581 82 83 2 10161 2 2558 2 14982 2 6157 2 25 2 151 2 3480 82 93 2 10161 2 14729 2 1882 2 579 2 4896 82 223 4 13 2 9955 2 1869 2 1318 2 10091 2 4191 4 132 2 3316 2 2770 4 5034 2 14983 82 8652 82 3693 2 2811 2 4993 2 1318 2 139 2 9 2 14729 2 588 82 10076 2 14984 2 8684 2 5892 2 663 387 14985 2 14986 387 14987 82 8809 82 223 4 5034 2 14101 82 8652 82 3693 2 341 2 4995 2 1046 2 2061 2 3757 2 43 2 125 2 14729 2 96 82 10076 2 14984 2 8684 2 5892 2 663 387 14985 2 14986 247 3693 2 1934 2 14729 2 14988 387 14989 82 8809 82 223 4 132 2 14935 2 2770 4 5034 2 14983 82 10936 82 1 2 2811 2 4993 2 1318 2 139 2 9 2 14990 2 588 82 12226 2 9830 2 109 387 96 2 14991 2 14992 2 109 709 14988 2 292 2 14993 709 14994 2 14995 17 10316 2 292 2 14996 709 14997 2 14998 247 1 2 1318 2 14999 2 183 2 15000 387 1201 82 1201 82 223 4 5034 2 14101 82 10936 82 1 2 341 2 4995 2 1046 2 2061 2 3757 2 43 2 125 2 14729 2 96 82 12226 2 9830 2 109 387 96 2 14991 2 14988 2 37 2 15001 2 109 709 10316 2 292 2 14996 247 1 2 1911 2 2061 2 15002 709 15003 2 15004 387 1201 82 1201 82 223 4 1791 2 177 2 58 2 13244 82 51 2 13609 2 9442 2 9 2 14729 2 15005 2 183 2 139 2 9 2 3757 2 1211 82 51 2 1046 2 547 2 920 2 14729 2 58 2 15006 2 8394 2 920 2 2199 2 183 82 51 2 15007 2 112 2 13155 2 126 2 2061 2 1581 4 13038 2 57 2 13034 2 15008 2 9002 2 5432 2 155 2 9 2 1581 2 115 2 929 2 15009 4 132 2 3681 2 1575 4 223 82 7803 2 15010 2 120 2 31 2 14729 2 15011 387 2951 2 15012 2 49 2 155 2 2061 2 3757 2 1581 2 43 2 3580 2 14729 2 15013 2928 12999 2 155 2 14729 2 15014 709 8492 2 51 2 3051 2 9 2 14961 2 43 2 15015 2 9 2 3757 2928 1046 2 2061 2 1581 2 6113 82 223 4 13 2 9955 2 1900 2 15016 2 15017 2 65 2 14363 4 132 2 3316 2 2770 4 5034 2 14983 82 8652 82 3693 2 2811 2 4993 2 15018 2 106 2 1944 2 65 2 550 82 6594 2 5418 2 663 387 8648 2 15018 2 663 247 3693 2 15019 2 62 2 151 2 15020 709 8655 2 15021 709 3693 2 22 2 3063 387 706 82 706 4 3693 2 4708 2 550 82 15022 2 5892 2 15023 82 223 4 5034 2 14101 82 8652 82 3693 2 341 2 4995 2 1046 2 825 2 5153 2 463 2 3063 82 3693 2 5418 2 2384 2 516 2 15018 2 51 2 2199 2 15024 2 65 2 151 4 3693 2 4708 2 15025 82 8786 2 8648 2 1314 2 15026 2 15027 2 663 387 8659 2 8592 2 292 2 15028 387 536 2 15029 2 663 709 8655 2 15030 387 706 82 706 4 3693 2 4708 2 550 82 15022 2 5892 2 15031 82 223 4 132 2 14935 2 2770 4 5034 2 14983 82 10936 82 1 2 2811 2 4993 2 15032 2 106 2 1944 2 65 2 550 82 6594 2 5418 2 357 2 7089 387 5841 2 15032 247 1 2 15019 2 62 2 151 2 15020 709 15033 709 15034 387 1201 82 1201 4 1 2 4708 2 8538 82 471 2 663 2 15035 2 706 82 223 4 5034 2 14101 82 10936 82 1 2 341 2 4995 2 1046 2 825 2 5153 2 463 2 3063 82 1 2 5418 2 2384 2 516 2 15032 2 51 2 2199 2 6313 4 1 2 4708 2 15036 82 1437 2 15037 387 5841 2 15038 709 8592 2 292 2 15039 709 15040 2 536 2 8592 709 15041 387 1201 82 1201 4 12495 2 109 2 12496 387 12497 2 15037 82 1201 4 1 2 4708 2 8538 82 471 2 663 2 15038 2 706 82 223 4 1791 2 177 2 58 2 13244 82 51 2 14363 2 6594 2 15042 2 37 2 14982 2 458 82 51 2 1840 2 536 2 2161 2 13409 2 65 2 151 82 51 2 13066 2 13042 2 130 2 13263 2 115 2 1495 82 51 2 15043 2 15044 2 15045 2 37 2 7207 2 15045 4 132 2 3681 2 1575 4 223 82 7803 2 2335 2 31 2 6821 2 25 2 151 2 7115 387 2951 2 13494 2 177 2 106 2 1944 2 188 2 15046 2928 12999 2 8463 709 8492 2 51 2 1934 2 2558 2 96 709 15047 2 96 2 65 2 463 2 825 2 6113 2928 2951 2 176 2 177 2 6594 2 5415 2 177 2 15048 2 15049 2928 12999 2 15050 709 8492 2 51 2 1855 2 6594 2 207 2 177 2 6821 82 223 4 13 2 9955 2 2402 2 15051 2 10335 2 9097 4 132 2 3316 2 2770 4 5034 2 14983 82 8652 82 3693 2 2811 2 4993 2 10091 2 1165 2 463 2 1463 82 15052 2 15053 2 15054 2 8684 2 5892 2 663 387 3693 2 10091 2 2215 2 4978 2 9207 2 139 2 463 2 15055 2 15056 387 15057 2 8684 2 5892 2 15058 709 15059 2 15060 387 15061 2928 8655 2 15062 387 8655 2 15062 247 3693 2 1396 2 8699 2 51 2 67 2 15063 82 8809 82 223 4 5034 2 14101 82 8652 82 3693 2 341 2 4995 2 10091 2 30 2 4443 2 5057 82 15052 2 15053 2 15054 2 8684 2 5892 2 663 387 3693 2 10091 2 9 2 14893 2 15064 2 11103 2 1581 2 463 2 2090 387 15065 2 3693 2 11 2 14729 2 14893 2 4907 2 15066 2928 8655 2 15062 247 3693 2 15067 2 545 387 8655 2 15062 247 3693 2 15068 2 3730 2 1167 82 8809 82 223 4 132 2 14935 2 2770 4 5034 2 14983 82 10936 82 1 2 2811 2 4993 2 10091 2 1165 2 463 2 1463 82 12226 2 15069 2 109 387 96 2 15070 2 15053 2 15071 2 109 709 1 2 10091 2 2215 2 4978 2 9207 2 139 2 463 2 15055 2 15056 709 15072 2 15073 17 15074 709 12274 2 663 2 15074 2 12275 2 15075 709 1 2 15076 2 6681 2 51 2 4978 2 45 2 15077 387 1201 82 1201 82 223 4 5034 2 14101 82 10936 82 1 2 341 2 4995 2 10091 2 30 2 4443 2 5057 82 12226 2 15069 2 109 387 96 2 15070 2 15053 2 15071 2 109 709 1 2 10091 2 9 2 14893 2 15064 2 11103 2 1581 2 463 2 2090 709 15078 2 15079 247 1 2 11 2 14729 2 14893 2 15066 17 15074 247 1 2 15067 2 545 709 12274 2 663 2 15074 2 12275 2 15075 247 1 2 15080 387 1201 82 1201 82 223 4 1791 2 177 2 58 2 13244 82 51 2 15081 2 6821 2 4903 2 1602 2 4253 2 463 2 15082 2 120 2 15083 2 15084 82 51 2 15085 2 25 2 15086 2 15087 2 1165 2 489 2 1581 82 51 2 1046 2 547 2 207 2 2096 2 1795 2 43 2 8394 2 15088 4 132 2 3681 2 1575 4 223 82 7803 2 15089 2 31 2 7190 387 8492 2 51 2 1934 2 14729 2 9101 2928 71 2 2951 2 682 2 1602 2 1603 2 194 2 9 2 2061 2 6821 2 15090 387 83 2 2951 2 176 2 177 2 463 2 5052 2 120 2 31 2 115 2 1626 2 1602 2 15091 387 93 2 2951 2 5003 2 49 2 8536 2 1491 2 110 2 177 2 463 2 15092 2928 12999 2 15055 2 120 2 1602 2 10596 709 10091 2 30 2 15093 2 5057 2 7823 2 489 2 15094 2 11016 709 15095 2 1734 2 463 2 15096 2 139 2 11103 2 15097 2 1581 709 1937 2 9 2 15098 2 6821 2 9 2 463 2 15055 2 120 2928 12999 2 15099 2 110 2 463 2 15055 2 2448 709 1170 2 463 2 37 2 2061 2 938 2 546 709 13400 2 110 2 1590 2 2090 2 25 2 1943 709 14137 2 2558 2 283 2 15089 2 30 2 9 2 2618 2 5057 2928 9439 2 15100 709 51 2 14025 2 14729 2 177 2 25 2 344 2 15087 709 51 2 9370 2 2131 2 344 2 15101 2 1479 2 14729 2 2850 709 51 2 15051 2 1882 2 579 2 9 2 1833 2 13382 82 223 4 13 2 9955 2 2424 2 4849 2 8985 4 5034 2 14983 82 8652 82 3693 2 2811 2 4993 2 12212 2 14729 2 51 2 106 2 2244 2 112 2 46 2 112 2 754 82 8659 2 15102 2 292 2 663 387 3065 2 15103 387 12314 2 663 2 15104 2 15105 2 4381 2 15106 2 706 387 3693 2 3899 2 7833 2 139 2 15107 2 458 2 8625 82 8807 4 3693 2 15108 2 1165 2 920 2 458 2 15109 2 15110 82 223 4 1791 2 177 2 58 2 13244 82 51 2 15111 2 2111 2 2132 2 8988 2 15112 2 51 2 44 2 106 2 15113 2 2244 2 112 2 2634 2 126 82 51 2 15114 2 458 2 1296 2 5052 2 120 2 2244 2 112 2 1748 2 15115 2 51 2 5851 2 2033 82 51 2 15116 2 510 2 67 2 795 2 15117 2 51 2 10091 2 15118 2 2061 2 4941 2 725 82 51 2 15119 2 15120 2 51 2 1046 2 14300 2 13155 2 126 2 2061 2 1581 4 5034 2 14056 2 1888 2 10091 2 9 2 3178 2 756 2 436 2 134 2 96 2 588 2 65 2 15121 2 183 2 3580 2 2244 2 228 2 13489 2 463 2 15122 4 5034 2 14101 82 8652 82 3693 2 341 2 4995 2 12934 2 2061 2 4941 2 1048 82 8659 2 15102 2 292 2 663 387 3065 2 15103 387 12314 2 663 2 15104 2 15105 2 4381 2 15106 2 684 387 15123 2 663 2 15124 2 15125 2 3415 2 15126 2 706 387 3693 2 287 2 2244 2 2061 2 4941 2 2809 82 8807 82 223 4 132 2 3681 2 1575 4 223 82 7803 2 1924 2 14729 2 15127 387 3743 2 682 2 2244 2 194 2 9 2 2061 2 4941 2 4932 2 15128 2928 15129 709 71 2 2238 2 489 2 4941 2 4932 2 77 2 15130 709 83 2 1930 2 3172 2 2244 2 52 2 2131 2 15131 2 15107 709 93 2 1177 2 14729 2 5438 2 2061 2 4932 2 916 2 5241 2928 15132 709 192 2 1377 2 1924 2 929 2 14999 2 112 2 1425 2 1491 2 9 2 15133 2 436 709 12212 2 2111 2 3552 2 2183 2 920 2 458 2 15055 2 120 2 15134 2 2244 2928 192 2 15135 2 1930 2 86 2 1578 2 2244 82 223 4 13 2 9955 2 2452 2 5351 2 503 2 134 2 15136 4 5034 2 14983 82 223 82 341 2 3584 2 725 82 2811 2 150 2 550 2 545 82 8588 2 207 2 15137 82 223 4 1791 2 177 2 58 2 13244 82 51 2 1318 2 58 2 2651 2 115 2 14806 2 183 2 2043 2 3225 82 51 2 448 2 1942 2 904 2 2203 2 177 82 51 2 146 2 1573 2 725 2 1882 2 550 4 5034 2 14101 82 223 82 448 2 15138 82 71 2 461 2 462 2 463 82 83 2 3507 2 25 2 510 82 93 2 466 82 104 2 14137 2 1573 2 725 82 223 4 13 2 928 2 8985 2 15139 2 9078 2 1606 4 15140 2 15141 82 51 2 10091 2 4872 2 1645 2 1480 2 463 2 1463 82 51 2 15051 2 95 2 25 2 2274 2 463 2 510 82 51 2 8985 2 1806 2 6157 2 2061 2 3333 2 904 82 51 2 1046 2 1165 2 920 2 14729 2 1293 4 13038 2 57 2 13034 2 15142 2 5003 2 5432 2 754 2 25 2 344 2 3128 2 929 2 14729 2 15143 4 15144 2 5351 2 550 2 37 2 2061 2 3333 2 1478 2 1529 2 1480 2 4396 2 2111 4 13 2 448 2 6389 2 3798 2 9947 4 1791 2 448 2 15145 82 71 2 3546 2 463 2 3547 2 193 2 13969 2 112 2 25 2 46 2 126 2 110 2 1377 2 1590 2 155 82 83 2 14269 2 96 2 15146 2 193 2 15147 2 463 2 550 2 2061 2 4353 2 183 2 2111 82 93 2 15148 2 15149 2 193 2 150 2 14982 2 6157 2 15150 2 65 82 104 2 15151 2 15152 2 193 2 44 2 488 2 110 2 9 2 463 2 1590 2 2090 2 274 2 15089 4 2550 2 1377 2 155 2 14729 2 4353 2 112 2 2254 2 15153 2 51 2 112 2 560 2 2111 2 1882 2 15154 2 463 2 3552 2 1283 2 2061 2 458 2 3679 4 13 2 6377 2 4451 4 143 2 9955 2 143 2 2913 2 143 82 12450 82 143 2 10087 2 120 2 14729 2 3338 2 143 2 1046 2 2061 2 3757 2 43 2 15015 2 96 2 143 82 143 2 15155 2 6157 2 65 2 151 2 143 2 3171 2 25 2 463 2 825 2 143 82 143 2 10091 2 1882 2 579 2 143 2 2394 2 4896 2 12163 2 14729 2 14322 2 143 82 143 2 4849 2 2111 2 143 2 12934 2 2061 2 4941 2 5241 2 143 82 143 2 503 2 134 2 15156 2 143 2 448 2 51 2 550 2 2509 2 143 82 143 2 15157 2 2111 2 143 2 1615 2 795 2 550 2 143 4 13 2 9439 2 9440 4 51 2 15158 2 1221 2 207 2 15159 2 463 2 12460 82 51 2 15017 2 106 2 13409 2 65 2 463 2 586 82 51 2 10091 2 4872 2 58 2 15160 2 115 2 463 82 51 2 1046 2 8394 2 920 2 112 2 3033 2 14729 82 51 2 146 2 2094 2 1542 2 14729 2 58 2 2209 82 51 2 15051 2 14906 2 25 2 344 2 15087 4 13 2 14 2 13162 2 13163 4 15161 2 186 2 3113 2 25 2 14976 2 183 2 13082 2 25 2 15162 4 192 2 448 2 9833 2 1377 2 155 2 14729 2 4353 2 5255 2 15163 2 15164 4 10294 2 1046 2 2061 2 1581 2 43 2 2407 2 1542 2 1377 2 15089 2 30 2 15165