---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
82 1 2 1305 2 8553 4 13 2 7109 4 503 2 1413 2 355 2 2052 2 4280 2 183 2 11722 2 11741 2 7573 2 186 2 1233 2 6097 2 25 2 11975 2 183 2 9 2 2630 2 1981 2 11976 4 935 2 7198 2 1038 2 110 2 9 2 458 2 11977 2 183 2 110 2 9 2 2103 2 196 4 11978 2 989 2 448 2 2206 2 3423 2 11979 4 13 2 14 2 11046 2 11980 4 223 82 71 2 8770 2 463 2 11722 2 1569 82 83 2 8770 2 2548 2 11981 2 5820 2 25 2 151 2 8665 82 93 2 8770 2 11722 2 1872 2 1521 2 4736 82 223 4 13 2 8561 2 1859 2 1305 2 8700 2 4119 4 132 2 3300 2 2761 4 4878 2 11982 82 7233 82 3618 2 2802 2 4837 2 1305 2 139 2 9 2 11722 2 2350 82 8685 2 11983 2 7266 2 7238 2 570 387 11984 2 11985 387 11986 82 7393 82 223 4 4878 2 11072 82 7233 82 3618 2 341 2 4839 2 1038 2 2052 2 3682 2 43 2 125 2 11722 2 96 82 8685 2 11983 2 7266 2 7238 2 570 387 11984 2 11985 247 3618 2 1924 2 11722 2 11987 387 11988 82 7393 82 223 4 132 2 11931 2 2761 4 4878 2 11982 82 9102 82 1 2 2802 2 4837 2 1305 2 139 2 9 2 11989 2 2350 82 9104 2 8436 2 109 387 96 2 11990 2 11991 2 109 616 11987 2 292 2 11992 616 11993 2 11994 17 9089 2 292 2 11995 616 11996 2 11997 247 1 2 1305 2 11998 2 183 2 11999 387 1191 82 1191 82 223 4 4878 2 11072 82 9102 82 1 2 341 2 4839 2 1038 2 2052 2 3682 2 43 2 125 2 11722 2 96 82 9104 2 8436 2 109 387 96 2 11990 2 11987 2 37 2 12000 2 109 616 9089 2 292 2 11995 247 1 2 1901 2 2052 2 12001 616 12002 2 12003 387 1191 82 1191 82 223 4 1781 2 177 2 58 2 10201 82 51 2 10581 2 8040 2 9 2 11722 2 12004 2 183 2 139 2 9 2 3682 2 1200 82 51 2 1038 2 547 2 827 2 11722 2 58 2 12005 2 6966 2 827 2 2189 2 183 82 51 2 12006 2 112 2 10109 2 126 2 2052 2 1569 4 9990 2 57 2 9986 2 12007 2 7590 2 5274 2 155 2 9 2 1569 2 115 2 1233 2 12008 4 132 2 3606 2 1563 4 223 82 7435 2 12009 2 120 2 31 2 11722 2 12010 387 2941 2 12011 2 49 2 155 2 2052 2 3682 2 1569 2 43 2 3508 2 11722 2 12012 2918 9951 2 155 2 11722 2 12013 616 7067 2 51 2 3038 2 9 2 11959 2 43 2 12014 2 9 2 3682 2918 1038 2 2052 2 1569 2 5774 82 223 4 13 2 8561 2 1890 2 12015 2 12016 2 65 2 11343 4 132 2 3300 2 2761 4 4878 2 11982 82 7233 82 3618 2 2802 2 4837 2 12017 2 106 2 1934 2 65 2 550 82 9254 2 5260 2 570 387 7229 2 12017 2 570 247 3618 2 12018 2 62 2 151 2 12019 616 7236 2 12020 616 3618 2 22 2 3049 387 613 82 613 4 3618 2 4545 2 550 82 12021 2 7238 2 12022 82 223 4 4878 2 11072 82 7233 82 3618 2 341 2 4839 2 1038 2 732 2 4997 2 463 2 3049 82 3618 2 5260 2 2375 2 516 2 12017 2 51 2 2189 2 12023 2 65 2 151 4 3618 2 4545 2 12024 82 7370 2 7229 2 1301 2 12025 2 12026 2 570 387 7241 2 7173 2 292 2 12027 387 536 2 12028 2 570 616 7236 2 12029 387 613 82 613 4 3618 2 4545 2 550 82 12021 2 7238 2 12030 82 223 4 132 2 11931 2 2761 4 4878 2 11982 82 9102 82 1 2 2802 2 4837 2 12031 2 106 2 1934 2 65 2 550 82 9254 2 5260 2 357 2 9255 387 5680 2 12031 247 1 2 12018 2 62 2 151 2 12019 616 12032 616 12033 387 1191 82 1191 4 1 2 4545 2 7115 82 471 2 570 2 12034 2 613 82 223 4 4878 2 11072 82 9102 82 1 2 341 2 4839 2 1038 2 732 2 4997 2 463 2 3049 82 1 2 5260 2 2375 2 516 2 12031 2 51 2 2189 2 5977 4 1 2 4545 2 12035 82 1425 2 12036 387 5680 2 12037 616 7173 2 292 2 12038 616 12039 2 536 2 7173 616 12040 387 1191 82 1191 4 9413 2 109 2 9414 387 9415 2 12036 82 1191 4 1 2 4545 2 7115 82 471 2 570 2 12037 2 613 82 223 4 1781 2 177 2 58 2 10201 82 51 2 11343 2 9254 2 12041 2 37 2 11981 2 458 82 51 2 1830 2 536 2 2152 2 10373 2 65 2 151 82 51 2 10020 2 9994 2 130 2 10221 2 115 2 1483 82 51 2 12042 2 12043 2 12044 2 37 2 12045 2 12044 4 132 2 3606 2 1563 4 223 82 7435 2 2328 2 31 2 12046 2 25 2 151 2 12047 387 2941 2 10460 2 177 2 106 2 1934 2 188 2 12048 2918 9951 2 7037 616 7067 2 51 2 1924 2 2548 2 96 616 12049 2 96 2 65 2 463 2 732 2 5774 2918 2941 2 176 2 177 2 9254 2 5257 2 177 2 12050 2 12051 2918 9951 2 12052 616 7067 2 51 2 1845 2 9254 2 207 2 177 2 12046 82 223 4 13 2 8561 2 2394 2 12053 2 12054 2 7685 4 132 2 3300 2 2761 4 4878 2 11982 82 7233 82 3618 2 2802 2 4837 2 8700 2 1159 2 463 2 1451 82 12055 2 12056 2 12057 2 7266 2 7238 2 570 387 3618 2 8700 2 2206 2 4822 2 7797 2 139 2 463 2 12058 2 12059 387 12060 2 7266 2 7238 2 12061 616 12062 2 12063 387 12064 2918 7236 2 12065 387 7236 2 12065 247 3618 2 1384 2 7281 2 51 2 67 2 12066 82 7393 82 223 4 4878 2 11072 82 7233 82 3618 2 341 2 4839 2 8700 2 30 2 4370 2 4901 82 12055 2 12056 2 12057 2 7266 2 7238 2 570 387 3618 2 8700 2 9 2 11889 2 12067 2 12068 2 1569 2 463 2 2081 387 12069 2 3618 2 11 2 11722 2 11889 2 4747 2 12070 2918 7236 2 12065 247 3618 2 12071 2 545 387 7236 2 12065 247 3618 2 12072 2 3655 2 1161 82 7393 82 223 4 132 2 11931 2 2761 4 4878 2 11982 82 9102 82 1 2 2802 2 4837 2 8700 2 1159 2 463 2 1451 82 9104 2 12073 2 109 387 96 2 12074 2 12056 2 12075 2 109 616 1 2 8700 2 2206 2 4822 2 7797 2 139 2 463 2 12058 2 12059 616 12076 2 12077 17 12078 616 9155 2 570 2 12078 2 9156 2 12079 616 1 2 12080 2 12081 2 51 2 4822 2 45 2 12082 387 1191 82 1191 82 223 4 4878 2 11072 82 9102 82 1 2 341 2 4839 2 8700 2 30 2 4370 2 4901 82 9104 2 12073 2 109 387 96 2 12074 2 12056 2 12075 2 109 616 1 2 8700 2 9 2 11889 2 12067 2 12068 2 1569 2 463 2 2081 616 12083 2 12084 247 1 2 11 2 11722 2 11889 2 12070 17 12078 247 1 2 12071 2 545 616 9155 2 570 2 12078 2 9156 2 12079 247 1 2 12085 387 1191 82 1191 82 223 4 1781 2 177 2 58 2 10201 82 51 2 12086 2 12046 2 4743 2 1590 2 4180 2 463 2 12087 2 120 2 12088 2 12089 82 51 2 12090 2 25 2 12091 2 12092 2 1159 2 489 2 1569 82 51 2 1038 2 547 2 207 2 2087 2 1785 2 43 2 6966 2 12093 4 132 2 3606 2 1563 4 223 82 7435 2 12094 2 31 2 9355 387 7067 2 51 2 1924 2 11722 2 7689 2918 71 2 2941 2 589 2 1590 2 1591 2 194 2 9 2 2052 2 12046 2 12095 387 83 2 2941 2 176 2 177 2 463 2 4896 2 120 2 31 2 115 2 1614 2 1590 2 12096 387 93 2 2941 2 4847 2 49 2 7113 2 1479 2 110 2 177 2 463 2 12097 2918 9951 2 12058 2 120 2 1590 2 12098 616 8700 2 30 2 12099 2 4901 2 8337 2 489 2 12100 2 12101 616 12102 2 1724 2 463 2 12103 2 139 2 12068 2 12104 2 1569 616 1927 2 9 2 12105 2 12046 2 9 2 463 2 12058 2 120 2918 9951 2 12106 2 110 2 463 2 12058 2 2440 616 1164 2 463 2 37 2 2052 2 954 2 546 616 10364 2 110 2 1578 2 2081 2 25 2 1933 616 11109 2 2548 2 283 2 12094 2 30 2 9 2 2610 2 4901 2918 8037 2 12107 616 51 2 11015 2 11722 2 177 2 25 2 344 2 12092 616 51 2 7968 2 2123 2 344 2 12108 2 1467 2 11722 2 2841 616 51 2 12053 2 1872 2 1521 2 9 2 1823 2 10346 82 223 4 13 2 8561 2 2416 2 4689 2 7573 4 4878 2 11982 82 7233 82 3618 2 2802 2 4837 2 9088 2 11722 2 51 2 106 2 2237 2 112 2 46 2 112 2 661 82 7241 2 12109 2 292 2 570 387 3051 2 12110 387 9200 2 570 2 12111 2 12112 2 4308 2 12113 2 613 387 3618 2 3825 2 12114 2 139 2 12115 2 458 2 7206 82 7391 4 3618 2 12116 2 1159 2 827 2 458 2 12117 2 12118 82 223 4 1781 2 177 2 58 2 10201 82 51 2 12119 2 2103 2 2124 2 7576 2 12120 2 51 2 44 2 106 2 12121 2 2237 2 112 2 2626 2 126 82 51 2 12122 2 458 2 1283 2 4896 2 120 2 2237 2 112 2 1738 2 12123 2 51 2 6744 2 2025 82 51 2 12124 2 510 2 67 2 702 2 12125 2 51 2 8700 2 12126 2 2052 2 4783 2 632 82 51 2 12127 2 12128 2 51 2 1038 2 11277 2 10109 2 126 2 2052 2 1569 4 4878 2 11046 2 1878 2 8700 2 9 2 3161 2 663 2 436 2 134 2 96 2 2350 2 65 2 12129 2 183 2 3508 2 2237 2 228 2 10455 2 463 2 12130 4 4878 2 11072 82 7233 82 3618 2 341 2 4839 2 9882 2 2052 2 4783 2 1040 82 7241 2 12109 2 292 2 570 387 3051 2 12110 387 9200 2 570 2 12111 2 12112 2 4308 2 12113 2 591 387 12131 2 570 2 12132 2 12133 2 3398 2 12134 2 613 387 3618 2 287 2 2237 2 2052 2 4783 2 2800 82 7391 82 223 4 132 2 3606 2 1563 4 223 82 7435 2 1914 2 11722 2 12135 387 3668 2 589 2 2237 2 194 2 9 2 2052 2 4783 2 4773 2 12136 2918 12137 616 71 2 2230 2 489 2 4783 2 4773 2 77 2 12138 616 83 2 1920 2 3155 2 2237 2 52 2 2123 2 12139 2 12115 616 93 2 1171 2 11722 2 5280 2 2052 2 4773 2 823 2 5085 2918 12140 616 192 2 1365 2 1914 2 1233 2 11998 2 112 2 1413 2 1479 2 9 2 12141 2 436 616 9088 2 2103 2 3480 2 2174 2 827 2 458 2 12058 2 120 2 12142 2 2237 2918 192 2 12143 2 1920 2 86 2 1566 2 2237 82 223 4 13 2 8561 2 2444 2 5194 2 503 2 134 2 12144 4 4878 2 11982 82 223 82 341 2 3512 2 632 82 2802 2 150 2 550 2 545 82 7169 2 207 2 12145 82 223 4 1781 2 177 2 58 2 10201 82 51 2 1305 2 58 2 2643 2 115 2 11800 2 183 2 2035 2 3208 82 51 2 448 2 1932 2 811 2 2193 2 177 82 51 2 146 2 1561 2 632 2 1872 2 550 4 4878 2 11072 82 223 82 448 2 12146 82 71 2 461 2 462 2 463 82 83 2 3701 2 25 2 510 82 93 2 466 82 104 2 11109 2 1561 2 632 82 223 4 13 2 2227 2 7573 2 12147 2 7666 2 1594 4 12148 2 12149 82 51 2 8700 2 4712 2 1633 2 1468 2 463 2 1451 82 51 2 12053 2 95 2 25 2 2267 2 463 2 510 82 51 2 7573 2 1796 2 5820 2 2052 2 3317 2 811 82 51 2 1038 2 1159 2 827 2 11722 2 1280 4 9990 2 57 2 9986 2 12150 2 4847 2 5274 2 661 2 25 2 344 2 3112 2 1233 2 11722 2 12151 4 12152 2 5194 2 550 2 37 2 2052 2 3317 2 1466 2 1516 2 1468 2 4323 2 2103 4 13 2 448 2 6055 2 3724 2 8553 4 1781 2 448 2 12153 82 71 2 3474 2 463 2 3475 2 193 2 10957 2 112 2 25 2 46 2 126 2 110 2 1365 2 1578 2 155 82 83 2 11246 2 96 2 12154 2 193 2 12155 2 463 2 550 2 2052 2 4280 2 183 2 2103 82 93 2 12156 2 12157 2 193 2 150 2 11981 2 5820 2 12158 2 65 82 104 2 12159 2 12160 2 193 2 44 2 488 2 110 2 9 2 463 2 1578 2 2081 2 274 2 12094 4 2540 2 1365 2 155 2 11722 2 4280 2 112 2 2247 2 12161 2 51 2 112 2 560 2 2103 2 1872 2 12162 2 463 2 3480 2 1270 2 2052 2 458 2 3604 4 13 2 847 2 4378 4 143 2 8561 2 143 2 2904 2 143 82 9362 82 143 2 8696 2 120 2 11722 2 3322 2 143 2 1038 2 2052 2 3682 2 43 2 12014 2 96 2 143 82 143 2 12163 2 5820 2 65 2 151 2 143 2 3154 2 25 2 463 2 732 2 143 82 143 2 8700 2 1872 2 1521 2 143 2 2385 2 4736 2 9038 2 11722 2 11300 2 143 82 143 2 4689 2 2103 2 143 2 9882 2 2052 2 4783 2 5085 2 143 82 143 2 503 2 134 2 12164 2 143 2 448 2 51 2 550 2 2499 2 143 82 143 2 12165 2 2103 2 143 2 1603 2 702 2 550 2 143 4 13 2 8037 2 8038 4 51 2 12166 2 1210 2 207 2 12167 2 463 2 9375 82 51 2 12016 2 106 2 10373 2 65 2 463 2 1285 82 51 2 8700 2 4712 2 58 2 12168 2 115 2 463 82 51 2 1038 2 6966 2 827 2 112 2 3020 2 11722 82 51 2 146 2 2085 2 1530 2 11722 2 58 2 2200 82 51 2 12053 2 11902 2 25 2 344 2 12092 4 13 2 14 2 10116 2 10117 4 12169 2 186 2 3098 2 25 2 11975 2 183 2 10036 2 25 2 12170 4 192 2 448 2 8439 2 1365 2 155 2 11722 2 4280 2 5099 2 12171 2 12172 4 10311 2 1038 2 2052 2 1569 2 43 2 2399 2 1530 2 1365 2 12094 2 30 2 12173