---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
82 1 2 1158 2 7535 4 13 2 6047 4 338 2 1269 2 3137 2 1916 2 3894 2 183 2 10723 2 10742 2 6529 2 186 2 1080 2 5400 2 25 2 10980 2 183 2 9 2 2501 2 1844 2 10981 4 771 2 6139 2 876 2 110 2 9 2 287 2 10982 2 183 2 110 2 9 2 1968 2 196 4 10983 2 827 2 277 2 2072 2 3082 2 10984 4 13 2 14 2 10035 2 10985 4 221 82 71 2 7756 2 292 2 10723 2 1426 82 83 2 7756 2 2417 2 10986 2 5105 2 25 2 151 2 7648 82 93 2 7756 2 10723 2 1735 2 1377 2 4318 82 221 4 13 2 7543 2 1721 2 1158 2 7683 2 3729 4 132 2 2957 2 4017 4 4470 2 10987 82 6177 82 3280 2 6178 2 4426 2 1158 2 139 2 9 2 10723 2 2217 82 7668 2 10988 2 6212 2 6183 2 407 506 10989 2 10990 506 10991 82 6342 82 221 4 4470 2 10062 82 6177 82 3280 2 6189 2 4429 2 876 2 1916 2 3346 2 43 2 125 2 10723 2 96 82 7668 2 10988 2 6212 2 6183 2 407 506 10989 2 10990 2684 3280 2 1787 2 10723 2 10992 506 10993 82 6342 82 221 4 132 2 10936 2 4017 4 4470 2 10987 82 8051 82 1 2 6178 2 4426 2 1158 2 139 2 9 2 10994 2 2217 82 8053 2 7417 2 109 506 96 2 10995 2 10996 2 109 453 10992 2 1100 2 10997 453 10998 2 10999 17 8038 2 1100 2 11000 453 11001 2 11002 2684 1 2 1158 2 11003 2 183 2 11004 506 1034 82 1034 82 221 4 4470 2 10062 82 8051 82 1 2 6189 2 4429 2 876 2 1916 2 3346 2 43 2 125 2 10723 2 96 82 8053 2 7417 2 109 506 96 2 10995 2 10992 2 37 2 11005 2 109 453 8038 2 1100 2 11000 2684 1 2 1764 2 1916 2 11006 453 11007 2 11008 506 1034 82 1034 82 221 4 1643 2 177 2 58 2 9168 82 51 2 9558 2 7015 2 9 2 10723 2 11009 2 183 2 139 2 9 2 3346 2 1046 82 51 2 876 2 383 2 658 2 10723 2 58 2 11010 2 6742 2 658 2 2055 2 183 82 51 2 11011 2 112 2 9074 2 126 2 1916 2 1426 4 8952 2 57 2 8948 2 11012 2 6547 2 5217 2 155 2 9 2 1426 2 115 2 1080 2 11013 4 132 2 3268 2 1420 4 221 82 6386 2 11014 2 120 2 31 2 10723 2 11015 506 4024 2 11016 2 49 2 155 2 1916 2 3346 2 1426 2 43 2 3168 2 10723 2 11017 5491 8912 2 155 2 10723 2 11018 453 8914 2 51 2 2688 2 9 2 10964 2 43 2 11019 2 9 2 3346 5491 876 2 1916 2 1426 2 5055 82 221 4 13 2 7543 2 1753 2 11020 2 11021 2 65 2 10337 4 132 2 2957 2 4017 4 4470 2 10987 82 6177 82 3280 2 6178 2 4426 2 11022 2 106 2 1797 2 65 2 386 82 8205 2 6500 2 407 506 6173 2 11022 2 407 2684 3280 2 11023 2 62 2 151 2 11024 453 6181 2 11025 453 3280 2 22 2 2699 506 450 82 450 4 3280 2 6463 2 386 82 11026 2 6183 2 11027 82 221 4 4470 2 10062 82 6177 82 3280 2 6189 2 4429 2 876 2 560 2 4591 2 292 2 2699 82 3280 2 6500 2 2242 2 352 2 11022 2 51 2 2055 2 11028 2 65 2 151 4 3280 2 6463 2 11029 82 6318 2 6173 2 1154 2 11030 2 11031 2 407 506 6186 2 6112 2 1100 2 11032 506 372 2 11033 2 407 453 6181 2 11034 506 450 82 450 4 3280 2 6463 2 386 82 11026 2 6183 2 11035 82 221 4 132 2 10936 2 4017 4 4470 2 10987 82 8051 82 1 2 6178 2 4426 2 11036 2 106 2 1797 2 65 2 386 82 8205 2 6500 2 4168 2 8206 506 4958 2 11036 2684 1 2 11023 2 62 2 151 2 11024 453 11037 453 11038 506 1034 82 1034 4 1 2 6463 2 6053 82 302 2 407 2 11039 2 450 82 221 4 4470 2 10062 82 8051 82 1 2 6189 2 4429 2 876 2 560 2 4591 2 292 2 2699 82 1 2 6500 2 2242 2 352 2 11036 2 51 2 2055 2 5271 4 1 2 6463 2 11040 82 1281 2 11041 506 4958 2 11042 453 6112 2 1100 2 11043 453 11044 2 372 2 6112 453 11045 506 1034 82 1034 4 8367 2 109 2 8368 506 8369 2 11041 82 1034 4 1 2 6463 2 6053 82 302 2 407 2 11042 2 450 82 221 4 1643 2 177 2 58 2 9168 82 51 2 10337 2 8205 2 11046 2 37 2 10986 2 287 82 51 2 1692 2 372 2 2017 2 9350 2 65 2 151 82 51 2 8984 2 8956 2 130 2 9190 2 115 2 1339 82 51 2 11047 2 11048 2 11049 2 37 2 11050 2 11049 4 132 2 3268 2 1420 4 221 82 6386 2 2195 2 31 2 11051 2 25 2 151 2 11052 506 4024 2 9438 2 177 2 106 2 1797 2 188 2 11053 5491 8912 2 6988 453 8914 2 51 2 1787 2 2417 2 96 453 11054 2 96 2 65 2 292 2 560 2 5055 5491 4024 2 176 2 177 2 8205 2 7745 2 177 2 11055 2 11056 5491 8912 2 11057 453 8914 2 51 2 1707 2 8205 2 207 2 177 2 11051 82 221 4 13 2 7543 2 2261 2 11058 2 11059 2 6646 4 132 2 2957 2 4017 4 4470 2 10987 82 6177 82 3280 2 6178 2 4426 2 7683 2 1001 2 292 2 1307 82 11060 2 11061 2 11062 2 6212 2 6183 2 407 506 3280 2 7683 2 2072 2 4410 2 6764 2 139 2 292 2 11063 2 11064 506 11065 2 6212 2 6183 2 11066 453 11067 2 11068 506 11069 5491 6181 2 11070 506 6181 2 11070 2684 3280 2 1239 2 6227 2 51 2 67 2 11071 82 6342 82 221 4 4470 2 10062 82 6177 82 3280 2 6189 2 4429 2 7683 2 30 2 3985 2 4493 82 11060 2 11061 2 11062 2 6212 2 6183 2 407 506 3280 2 7683 2 9 2 10894 2 11072 2 11073 2 1426 2 292 2 1946 506 11074 2 3280 2 11 2 10723 2 10894 2 4329 2 11075 5491 6181 2 11070 2684 3280 2 11076 2 381 506 6181 2 11070 2684 3280 2 11077 2 3318 2 1003 82 6342 82 221 4 132 2 10936 2 4017 4 4470 2 10987 82 8051 82 1 2 6178 2 4426 2 7683 2 1001 2 292 2 1307 82 8053 2 11078 2 109 506 96 2 11079 2 11061 2 11080 2 109 453 1 2 7683 2 2072 2 4410 2 6764 2 139 2 292 2 11063 2 11064 453 11081 2 11082 17 11083 453 8104 2 407 2 11083 2 8105 2 11084 453 1 2 11085 2 11086 2 51 2 4410 2 45 2 11087 506 1034 82 1034 82 221 4 4470 2 10062 82 8051 82 1 2 6189 2 4429 2 7683 2 30 2 3985 2 4493 82 8053 2 11078 2 109 506 96 2 11079 2 11061 2 11080 2 109 453 1 2 7683 2 9 2 10894 2 11072 2 11073 2 1426 2 292 2 1946 453 11088 2 11089 2684 1 2 11 2 10723 2 10894 2 11075 17 11083 2684 1 2 11076 2 381 453 8104 2 407 2 11083 2 8105 2 11084 2684 1 2 11090 506 1034 82 1034 82 221 4 1643 2 177 2 58 2 9168 82 51 2 11091 2 11051 2 4325 2 1447 2 3793 2 292 2 11092 2 120 2 11093 2 11094 82 51 2 11095 2 25 2 11096 2 11097 2 1001 2 322 2 1426 82 51 2 876 2 383 2 207 2 1952 2 1647 2 43 2 6742 2 11098 4 132 2 3268 2 1420 4 221 82 6386 2 11099 2 31 2 8308 506 8914 2 51 2 1787 2 10723 2 6650 5491 71 2 4024 2 426 2 1447 2 1448 2 194 2 9 2 1916 2 11051 2 11100 506 83 2 4024 2 176 2 177 2 292 2 4488 2 120 2 31 2 115 2 1472 2 1447 2 11101 506 93 2 4024 2 4439 2 49 2 6051 2 1335 2 110 2 177 2 292 2 11102 5491 8912 2 11063 2 120 2 1447 2 11103 453 7683 2 30 2 11104 2 4493 2 7315 2 322 2 11105 2 11106 453 11107 2 1586 2 292 2 11108 2 139 2 11073 2 11109 2 1426 453 1790 2 9 2 11110 2 11051 2 9 2 292 2 11063 2 120 5491 8912 2 11111 2 110 2 292 2 11063 2 2307 453 1006 2 292 2 37 2 1916 2 790 2 382 453 9341 2 110 2 1435 2 1946 2 25 2 1796 453 10099 2 2417 2 295 2 11099 2 30 2 9 2 2480 2 4493 5491 7012 2 11112 453 51 2 10003 2 10723 2 177 2 25 2 1485 2 11097 453 51 2 6938 2 1988 2 1485 2 11113 2 1323 2 10723 2 6640 453 51 2 11058 2 1735 2 1377 2 9 2 1685 2 9322 82 221 4 13 2 7543 2 2283 2 4270 2 6529 4 4470 2 10987 82 6177 82 3280 2 6178 2 4426 2 8037 2 10723 2 51 2 106 2 2103 2 112 2 46 2 112 2 488 82 6186 2 11114 2 1100 2 407 506 2701 2 11115 506 8151 2 407 2 11116 2 11117 2 3923 2 11118 2 450 506 3280 2 3493 2 7916 2 139 2 11119 2 287 2 6149 82 6340 4 3280 2 11120 2 1001 2 658 2 287 2 11121 2 11122 82 221 4 1643 2 177 2 58 2 9168 82 51 2 11123 2 1968 2 1989 2 6532 2 11124 2 51 2 44 2 106 2 11125 2 2103 2 112 2 2497 2 126 82 51 2 11126 2 287 2 1135 2 4488 2 120 2 2103 2 112 2 1600 2 11127 2 51 2 5843 2 1889 82 51 2 11128 2 345 2 67 2 530 2 11129 2 51 2 7683 2 11130 2 1916 2 4367 2 1389 82 51 2 11131 2 11132 2 51 2 876 2 10270 2 9074 2 126 2 1916 2 1426 4 4470 2 10035 2 1741 2 7683 2 9 2 2812 2 490 2 264 2 134 2 96 2 2217 2 65 2 11133 2 183 2 3168 2 2103 2 1086 2 9433 2 292 2 11134 4 4470 2 10062 82 6177 82 3280 2 6189 2 4429 2 8841 2 1916 2 4367 2 878 82 6186 2 11114 2 1100 2 407 506 2701 2 11115 506 8151 2 407 2 11116 2 11117 2 3923 2 11118 2 428 506 11135 2 407 2 11136 2 11137 2 3056 2 11138 2 450 506 3280 2 387 2 2103 2 1916 2 4367 2 3231 82 6340 82 221 4 132 2 3268 2 1420 4 221 82 6386 2 1777 2 10723 2 11139 506 3332 2 426 2 2103 2 194 2 9 2 1916 2 4367 2 4357 2 11140 5491 11141 453 71 2 2096 2 322 2 4367 2 4357 2 77 2 11142 453 83 2 1783 2 2806 2 2103 2 52 2 1988 2 11143 2 11119 453 93 2 1013 2 10723 2 5222 2 1916 2 4357 2 652 2 4683 5491 11144 453 192 2 1218 2 1777 2 1080 2 11003 2 112 2 1269 2 1335 2 9 2 11145 2 264 453 8037 2 1968 2 3140 2 2039 2 658 2 287 2 11063 2 120 2 11146 2 2103 5491 192 2 11147 2 1783 2 86 2 1423 2 2103 82 221 4 13 2 7543 2 2311 2 4795 2 338 2 134 2 11148 4 4470 2 10987 82 221 82 6189 2 3172 2 1389 82 6178 2 150 2 386 2 381 82 6108 2 207 2 11149 82 221 4 1643 2 177 2 58 2 9168 82 51 2 1158 2 58 2 2514 2 115 2 10805 2 183 2 1899 2 2863 82 51 2 277 2 1795 2 640 2 2059 2 177 82 51 2 146 2 1418 2 1389 2 1735 2 386 4 4470 2 10062 82 221 82 277 2 11150 82 71 2 290 2 291 2 292 82 83 2 3366 2 25 2 345 82 93 2 297 82 104 2 10099 2 1418 2 1389 82 221 4 13 2 2093 2 6529 2 11151 2 6625 2 1451 4 11152 2 11153 82 51 2 7683 2 4294 2 1494 2 1324 2 292 2 1307 82 51 2 11058 2 95 2 25 2 2134 2 292 2 345 82 51 2 6529 2 1658 2 5105 2 1916 2 2974 2 640 82 51 2 876 2 1001 2 658 2 10723 2 1132 4 8952 2 57 2 8948 2 11154 2 4439 2 5217 2 488 2 25 2 1485 2 2762 2 1080 2 10723 2 11155 4 11156 2 4795 2 386 2 37 2 1916 2 2974 2 1322 2 1372 2 1324 2 3938 2 1968 4 13 2 277 2 5354 2 3390 2 7535 4 1643 2 277 2 11157 82 71 2 3133 2 292 2 3134 2 193 2 9945 2 112 2 25 2 46 2 126 2 110 2 1218 2 1435 2 155 82 83 2 10239 2 96 2 11158 2 193 2 11159 2 292 2 386 2 1916 2 3894 2 183 2 1968 82 93 2 11160 2 11161 2 193 2 150 2 10986 2 5105 2 11162 2 65 82 104 2 11163 2 11164 2 193 2 44 2 321 2 110 2 9 2 292 2 1435 2 1946 2 312 2 11099 4 2409 2 1218 2 155 2 10723 2 3894 2 112 2 2114 2 11165 2 51 2 112 2 397 2 1968 2 1735 2 11166 2 292 2 3140 2 1122 2 1916 2 287 2 3266 4 13 2 686 2 3993 4 143 2 7543 2 143 2 3234 2 143 82 8315 82 143 2 7679 2 120 2 10723 2 2979 2 143 2 876 2 1916 2 3346 2 43 2 11019 2 96 2 143 82 143 2 11167 2 5105 2 65 2 151 2 143 2 2805 2 25 2 292 2 560 2 143 82 143 2 7683 2 1735 2 1377 2 143 2 2252 2 4318 2 7987 2 10723 2 10293 2 143 82 143 2 4270 2 1968 2 143 2 8841 2 1916 2 4367 2 4683 2 143 82 143 2 338 2 134 2 11168 2 143 2 277 2 51 2 386 2 2367 2 143 82 143 2 11169 2 1968 2 143 2 1460 2 530 2 386 2 143 4 13 2 7012 2 7013 4 51 2 11170 2 1056 2 207 2 11171 2 292 2 8328 82 51 2 11021 2 106 2 9350 2 65 2 292 2 1138 82 51 2 7683 2 4294 2 58 2 11172 2 115 2 292 82 51 2 876 2 6742 2 658 2 112 2 2669 2 10723 82 51 2 146 2 1950 2 1386 2 10723 2 58 2 2066 82 51 2 11058 2 10907 2 25 2 1485 2 11097 4 13 2 14 2 9081 2 9082 4 11173 2 186 2 2748 2 25 2 10980 2 183 2 9000 2 25 2 11174 4 192 2 277 2 7420 2 1218 2 155 2 10723 2 3894 2 4697 2 11175 2 11176 4 9286 2 876 2 1916 2 1426 2 43 2 2266 2 1386 2 1218 2 11099 2 30 2 11177