---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
82 1 2 1395 2 9998 4 13 2 8585 4 503 2 1501 2 355 2 2131 2 4416 2 183 2 14777 2 14796 2 9036 2 186 2 1007 2 6481 2 25 2 15024 2 183 2 9 2 2707 2 2060 2 15025 4 1021 2 8669 2 1123 2 110 2 9 2 458 2 15026 2 183 2 110 2 9 2 2181 2 196 4 15027 2 1075 2 448 2 2285 2 3506 2 15028 4 13 2 14 2 14104 2 15029 4 223 82 71 2 10212 2 463 2 14777 2 1656 82 83 2 10212 2 2627 2 15030 2 6210 2 25 2 151 2 3547 82 93 2 10212 2 14777 2 966 2 579 2 4956 82 223 4 13 2 10006 2 1942 2 1395 2 10142 2 4256 4 132 2 3383 2 2839 4 5094 2 15031 82 8704 82 3759 2 2880 2 5053 2 1395 2 139 2 9 2 14777 2 588 82 10127 2 15032 2 8736 2 5945 2 663 387 15033 2 15034 387 15035 82 8860 82 223 4 5094 2 14149 82 8704 82 3759 2 341 2 5055 2 1123 2 2131 2 3823 2 43 2 125 2 14777 2 96 82 10127 2 15032 2 8736 2 5945 2 663 387 15033 2 15034 247 3759 2 2005 2 14777 2 15036 387 15037 82 8860 82 223 4 132 2 14983 2 2839 4 5094 2 15031 82 10988 82 1 2 2880 2 5053 2 1395 2 139 2 9 2 15038 2 588 82 12276 2 9881 2 109 387 96 2 15039 2 15040 2 109 709 15036 2 292 2 15041 709 15042 2 15043 17 10368 2 292 2 15044 709 15045 2 15046 247 1 2 1395 2 15047 2 183 2 15048 387 1278 82 1278 82 223 4 5094 2 14149 82 10988 82 1 2 341 2 5055 2 1123 2 2131 2 3823 2 43 2 125 2 14777 2 96 82 12276 2 9881 2 109 387 96 2 15039 2 15036 2 37 2 15049 2 109 709 10368 2 292 2 15044 247 1 2 1982 2 2131 2 15050 709 15051 2 15052 387 1278 82 1278 82 223 4 1864 2 177 2 58 2 13293 82 51 2 13657 2 9493 2 9 2 14777 2 15053 2 183 2 139 2 9 2 3823 2 1288 82 51 2 1123 2 547 2 920 2 14777 2 58 2 15054 2 8446 2 920 2 2269 2 183 82 51 2 15055 2 112 2 13205 2 126 2 2131 2 1656 4 13088 2 57 2 13084 2 15056 2 9053 2 5489 2 155 2 9 2 1656 2 115 2 1007 2 15057 4 132 2 3747 2 1650 4 223 82 7859 2 15058 2 120 2 31 2 14777 2 15059 387 3020 2 15060 2 49 2 155 2 2131 2 3823 2 1656 2 43 2 3646 2 14777 2 15061 2997 13049 2 155 2 14777 2 15062 709 8544 2 51 2 3119 2 9 2 15009 2 43 2 15063 2 9 2 3823 2997 1123 2 2131 2 1656 2 6166 82 223 4 13 2 10006 2 1972 2 15064 2 15065 2 65 2 14411 4 132 2 3383 2 2839 4 5094 2 15031 82 8704 82 3759 2 2880 2 5053 2 15066 2 106 2 2015 2 65 2 550 82 6646 2 5475 2 663 387 8700 2 15066 2 663 247 3759 2 15067 2 62 2 151 2 15068 709 8707 2 15069 709 3759 2 22 2 3131 387 706 82 706 4 3759 2 4768 2 550 82 15070 2 5945 2 15071 82 223 4 5094 2 14149 82 8704 82 3759 2 341 2 5055 2 1123 2 825 2 5212 2 463 2 3131 82 3759 2 5475 2 2454 2 516 2 15066 2 51 2 2269 2 15072 2 65 2 151 4 3759 2 4768 2 15073 82 8837 2 8700 2 1391 2 15074 2 15075 2 663 387 8711 2 8644 2 292 2 15076 387 536 2 15077 2 663 709 8707 2 15078 387 706 82 706 4 3759 2 4768 2 550 82 15070 2 5945 2 15079 82 223 4 132 2 14983 2 2839 4 5094 2 15031 82 10988 82 1 2 2880 2 5053 2 15080 2 106 2 2015 2 65 2 550 82 6646 2 5475 2 357 2 7140 387 5894 2 15080 247 1 2 15067 2 62 2 151 2 15068 709 15081 709 15082 387 1278 82 1278 4 1 2 4768 2 8590 82 471 2 663 2 15083 2 706 82 223 4 5094 2 14149 82 10988 82 1 2 341 2 5055 2 1123 2 825 2 5212 2 463 2 3131 82 1 2 5475 2 2454 2 516 2 15080 2 51 2 2269 2 6366 4 1 2 4768 2 15084 82 1513 2 15085 387 5894 2 15086 709 8644 2 292 2 15087 709 15088 2 536 2 8644 709 15089 387 1278 82 1278 4 12545 2 109 2 12546 387 12547 2 15085 82 1278 4 1 2 4768 2 8590 82 471 2 663 2 15086 2 706 82 223 4 1864 2 177 2 58 2 13293 82 51 2 14411 2 6646 2 15090 2 37 2 15030 2 458 82 51 2 1913 2 536 2 2231 2 13458 2 65 2 151 82 51 2 13116 2 13092 2 130 2 13312 2 115 2 1571 82 51 2 15091 2 15092 2 15093 2 37 2 7258 2 15093 4 132 2 3747 2 1650 4 223 82 7859 2 2405 2 31 2 6873 2 25 2 151 2 7166 387 3020 2 13543 2 177 2 106 2 2015 2 188 2 15094 2997 13049 2 8515 709 8544 2 51 2 2005 2 2627 2 96 709 15095 2 96 2 65 2 463 2 825 2 6166 2997 3020 2 176 2 177 2 6646 2 5472 2 177 2 15096 2 15097 2997 13049 2 15098 709 8544 2 51 2 1928 2 6646 2 207 2 177 2 6873 82 223 4 13 2 10006 2 2472 2 15099 2 10387 2 9148 4 132 2 3383 2 2839 4 5094 2 15031 82 8704 82 3759 2 2880 2 5053 2 10142 2 1242 2 463 2 1539 82 15100 2 15101 2 15102 2 8736 2 5945 2 663 387 3759 2 10142 2 2285 2 5038 2 9258 2 139 2 463 2 15103 2 15104 387 15105 2 8736 2 5945 2 15106 709 15107 2 15108 387 15109 2997 8707 2 15110 387 8707 2 15110 247 3759 2 1472 2 8751 2 51 2 67 2 15111 82 8860 82 223 4 5094 2 14149 82 8704 82 3759 2 341 2 5055 2 10142 2 30 2 4506 2 5117 82 15100 2 15101 2 15102 2 8736 2 5945 2 663 387 3759 2 10142 2 9 2 14941 2 15112 2 11154 2 1656 2 463 2 2160 387 15113 2 3759 2 11 2 14777 2 14941 2 4967 2 15114 2997 8707 2 15110 247 3759 2 15115 2 545 387 8707 2 15110 247 3759 2 15116 2 3796 2 1244 82 8860 82 223 4 132 2 14983 2 2839 4 5094 2 15031 82 10988 82 1 2 2880 2 5053 2 10142 2 1242 2 463 2 1539 82 12276 2 15117 2 109 387 96 2 15118 2 15101 2 15119 2 109 709 1 2 10142 2 2285 2 5038 2 9258 2 139 2 463 2 15103 2 15104 709 15120 2 15121 17 15122 709 12324 2 663 2 15122 2 12325 2 15123 709 1 2 15124 2 6733 2 51 2 5038 2 45 2 15125 387 1278 82 1278 82 223 4 5094 2 14149 82 10988 82 1 2 341 2 5055 2 10142 2 30 2 4506 2 5117 82 12276 2 15117 2 109 387 96 2 15118 2 15101 2 15119 2 109 709 1 2 10142 2 9 2 14941 2 15112 2 11154 2 1656 2 463 2 2160 709 15126 2 15127 247 1 2 11 2 14777 2 14941 2 15114 17 15122 247 1 2 15115 2 545 709 12324 2 663 2 15122 2 12325 2 15123 247 1 2 15128 387 1278 82 1278 82 223 4 1864 2 177 2 58 2 13293 82 51 2 15129 2 6873 2 4963 2 1677 2 4316 2 463 2 15130 2 120 2 15131 2 15132 82 51 2 15133 2 25 2 15134 2 15135 2 1242 2 489 2 1656 82 51 2 1123 2 547 2 207 2 2166 2 1868 2 43 2 8446 2 15136 4 132 2 3747 2 1650 4 223 82 7859 2 15137 2 31 2 7241 387 8544 2 51 2 2005 2 14777 2 9152 2997 71 2 3020 2 682 2 1677 2 1678 2 194 2 9 2 2131 2 6873 2 15138 387 83 2 3020 2 176 2 177 2 463 2 5112 2 120 2 31 2 115 2 1701 2 1677 2 15139 387 93 2 3020 2 5063 2 49 2 8588 2 1567 2 110 2 177 2 463 2 15140 2997 13049 2 15103 2 120 2 1677 2 10648 709 10142 2 30 2 15141 2 5117 2 7879 2 489 2 15142 2 11068 709 15143 2 929 2 463 2 15144 2 139 2 11154 2 15145 2 1656 709 2008 2 9 2 15146 2 6873 2 9 2 463 2 15103 2 120 2997 13049 2 15147 2 110 2 463 2 15103 2 2518 709 1247 2 463 2 37 2 2131 2 1040 2 546 709 13449 2 110 2 1665 2 2160 2 25 2 2014 709 14185 2 2627 2 283 2 15137 2 30 2 9 2 2687 2 5117 2997 9490 2 15148 709 51 2 14073 2 14777 2 177 2 25 2 344 2 15135 709 51 2 9421 2 2201 2 344 2 15149 2 1555 2 14777 2 2919 709 51 2 15099 2 966 2 579 2 9 2 1906 2 13431 82 223 4 13 2 10006 2 2494 2 4909 2 9036 4 5094 2 15031 82 8704 82 3759 2 2880 2 5053 2 12262 2 14777 2 51 2 106 2 2314 2 112 2 46 2 112 2 754 82 8711 2 15150 2 292 2 663 387 3133 2 15151 387 12364 2 663 2 15152 2 15153 2 4444 2 15154 2 706 387 3759 2 3964 2 992 2 139 2 15155 2 458 2 8677 82 8858 4 3759 2 15156 2 1242 2 920 2 458 2 15157 2 15158 82 223 4 1864 2 177 2 58 2 13293 82 51 2 15159 2 2181 2 2202 2 9039 2 15160 2 51 2 44 2 106 2 15161 2 2314 2 112 2 2703 2 126 82 51 2 15162 2 458 2 1373 2 5112 2 120 2 2314 2 112 2 1821 2 15163 2 51 2 5904 2 2103 82 51 2 15164 2 510 2 67 2 795 2 15165 2 51 2 10142 2 15166 2 2131 2 5001 2 725 82 51 2 15167 2 15168 2 51 2 1123 2 14348 2 13205 2 126 2 2131 2 1656 4 5094 2 14104 2 1960 2 10142 2 9 2 3245 2 756 2 436 2 134 2 96 2 588 2 65 2 15169 2 183 2 3646 2 2314 2 228 2 13538 2 463 2 15170 4 5094 2 14149 82 8704 82 3759 2 341 2 5055 2 12984 2 2131 2 5001 2 1125 82 8711 2 15150 2 292 2 663 387 3133 2 15151 387 12364 2 663 2 15152 2 15153 2 4444 2 15154 2 684 387 15171 2 663 2 15172 2 15173 2 3482 2 15174 2 706 387 3759 2 287 2 2314 2 2131 2 5001 2 2878 82 8858 82 223 4 132 2 3747 2 1650 4 223 82 7859 2 1995 2 14777 2 15175 387 3809 2 682 2 2314 2 194 2 9 2 2131 2 5001 2 4992 2 15176 2997 15177 709 71 2 2308 2 489 2 5001 2 4992 2 77 2 15178 709 83 2 2001 2 3239 2 2314 2 52 2 2201 2 15179 2 15155 709 93 2 1254 2 14777 2 5495 2 2131 2 4992 2 916 2 5298 2997 15180 709 192 2 1454 2 1995 2 1007 2 15047 2 112 2 1501 2 1567 2 9 2 15181 2 436 709 12262 2 2181 2 3618 2 2253 2 920 2 458 2 15103 2 120 2 15182 2 2314 2997 192 2 15183 2 2001 2 86 2 1653 2 2314 82 223 4 13 2 10006 2 2522 2 5408 2 503 2 134 2 15184 4 5094 2 15031 82 223 82 341 2 3650 2 725 82 2880 2 150 2 550 2 545 82 8640 2 207 2 15185 82 223 4 1864 2 177 2 58 2 13293 82 51 2 1395 2 58 2 2720 2 115 2 14854 2 183 2 2113 2 3292 82 51 2 448 2 2013 2 904 2 2273 2 177 82 51 2 146 2 1648 2 725 2 966 2 550 4 5094 2 14149 82 223 82 448 2 15186 82 71 2 461 2 462 2 463 82 83 2 3573 2 25 2 510 82 93 2 466 82 104 2 14185 2 1648 2 725 82 223 4 13 2 1006 2 9036 2 15187 2 9129 2 1681 4 15188 2 15189 82 51 2 10142 2 4932 2 1720 2 1556 2 463 2 1539 82 51 2 15099 2 95 2 25 2 2344 2 463 2 510 82 51 2 9036 2 1879 2 6210 2 2131 2 3400 2 904 82 51 2 1123 2 1242 2 920 2 14777 2 1370 4 13088 2 57 2 13084 2 15190 2 5063 2 5489 2 754 2 25 2 344 2 1014 2 1007 2 14777 2 15191 4 15192 2 5408 2 550 2 37 2 2131 2 3400 2 1554 2 1604 2 1556 2 4459 2 2181 4 13 2 448 2 6441 2 3864 2 9998 4 1864 2 448 2 15193 82 71 2 3612 2 463 2 3613 2 193 2 14017 2 112 2 25 2 46 2 126 2 110 2 1454 2 1665 2 155 82 83 2 14317 2 96 2 15194 2 193 2 15195 2 463 2 550 2 2131 2 4416 2 183 2 2181 82 93 2 15196 2 15197 2 193 2 150 2 15030 2 6210 2 15198 2 65 82 104 2 15199 2 15200 2 193 2 44 2 488 2 110 2 9 2 463 2 1665 2 2160 2 274 2 15137 4 2620 2 1454 2 155 2 14777 2 4416 2 112 2 2324 2 15201 2 51 2 112 2 560 2 2181 2 966 2 15202 2 463 2 3618 2 1360 2 2131 2 458 2 3745 4 13 2 6429 2 4514 4 143 2 10006 2 143 2 2982 2 143 82 12500 82 143 2 10138 2 120 2 14777 2 3405 2 143 2 1123 2 2131 2 3823 2 43 2 15063 2 96 2 143 82 143 2 15203 2 6210 2 65 2 151 2 143 2 3238 2 25 2 463 2 825 2 143 82 143 2 10142 2 966 2 579 2 143 2 2464 2 4956 2 12213 2 14777 2 14370 2 143 82 143 2 4909 2 2181 2 143 2 12984 2 2131 2 5001 2 5298 2 143 82 143 2 503 2 134 2 15204 2 143 2 448 2 51 2 550 2 2579 2 143 82 143 2 15205 2 2181 2 143 2 1690 2 795 2 550 2 143 4 13 2 9490 2 9491 4 51 2 15206 2 1298 2 207 2 15207 2 463 2 12510 82 51 2 15065 2 106 2 13458 2 65 2 463 2 586 82 51 2 10142 2 4932 2 58 2 15208 2 115 2 463 82 51 2 1123 2 8446 2 920 2 112 2 3102 2 14777 82 51 2 146 2 2164 2 1617 2 14777 2 58 2 2279 82 51 2 15099 2 14954 2 25 2 344 2 15135 4 13 2 14 2 13212 2 13213 4 15209 2 186 2 3181 2 25 2 15024 2 183 2 13132 2 25 2 15210 4 192 2 448 2 9884 2 1454 2 155 2 14777 2 4416 2 5312 2 15211 2 15212 4 10346 2 1123 2 2131 2 1656 2 43 2 2477 2 1617 2 1454 2 15137 2 30 2 15213