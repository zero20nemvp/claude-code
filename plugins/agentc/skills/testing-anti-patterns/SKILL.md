---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
82 1 2 1318 2 9947 4 13 2 8533 4 503 2 1425 2 355 2 2061 2 4353 2 183 2 14011 2 14030 2 8985 2 186 2 929 2 6429 2 25 2 14261 2 183 2 9 2 2638 2 1990 2 14262 4 945 2 8617 2 1046 2 110 2 9 2 458 2 14263 2 183 2 110 2 9 2 2111 2 196 4 14264 2 998 2 448 2 2215 2 3439 2 14265 4 13 2 14 2 13335 2 14266 4 223 82 71 2 10161 2 463 2 14011 2 1581 82 83 2 10161 2 2558 2 14267 2 6157 2 25 2 151 2 3480 82 93 2 10161 2 14011 2 1882 2 579 2 4896 82 223 4 13 2 9955 2 1869 2 1318 2 10091 2 4191 4 132 2 3316 2 2770 4 5034 2 14268 82 8652 82 3693 2 2811 2 4993 2 1318 2 139 2 9 2 14011 2 588 82 10076 2 14269 2 8684 2 5892 2 663 387 14270 2 14271 387 14272 82 8809 82 223 4 5034 2 13380 82 8652 82 3693 2 341 2 4995 2 1046 2 2061 2 3757 2 43 2 125 2 14011 2 96 82 10076 2 14269 2 8684 2 5892 2 663 387 14270 2 14271 247 3693 2 1934 2 14011 2 14273 387 14274 82 8809 82 223 4 132 2 14218 2 2770 4 5034 2 14268 82 10936 82 1 2 2811 2 4993 2 1318 2 139 2 9 2 14275 2 588 82 11471 2 9830 2 109 387 96 2 14276 2 14277 2 109 709 14273 2 292 2 14278 709 14279 2 14280 17 10316 2 292 2 14281 709 14282 2 14283 247 1 2 1318 2 14284 2 183 2 14285 387 1201 82 1201 82 223 4 5034 2 13380 82 10936 82 1 2 341 2 4995 2 1046 2 2061 2 3757 2 43 2 125 2 14011 2 96 82 11471 2 9830 2 109 387 96 2 14276 2 14273 2 37 2 14286 2 109 709 10316 2 292 2 14281 247 1 2 1911 2 2061 2 14287 709 14288 2 14289 387 1201 82 1201 82 223 4 1791 2 177 2 58 2 12517 82 51 2 12884 2 9442 2 9 2 14011 2 14290 2 183 2 139 2 9 2 3757 2 1211 82 51 2 1046 2 547 2 920 2 14011 2 58 2 14291 2 8394 2 920 2 2199 2 183 82 51 2 14292 2 112 2 12427 2 126 2 2061 2 1581 4 12310 2 57 2 12306 2 14293 2 9002 2 5432 2 155 2 9 2 1581 2 115 2 929 2 14294 4 132 2 3681 2 1575 4 223 82 7803 2 14295 2 120 2 31 2 14011 2 14296 387 2951 2 14297 2 49 2 155 2 2061 2 3757 2 1581 2 43 2 3580 2 14011 2 14298 2928 12271 2 155 2 14011 2 14299 709 8492 2 51 2 3051 2 9 2 14246 2 43 2 14300 2 9 2 3757 2928 1046 2 2061 2 1581 2 6113 82 223 4 13 2 9955 2 1900 2 14301 2 14302 2 65 2 13643 4 132 2 3316 2 2770 4 5034 2 14268 82 8652 82 3693 2 2811 2 4993 2 14303 2 106 2 1944 2 65 2 550 82 6594 2 5418 2 663 387 8648 2 14303 2 663 247 3693 2 14304 2 62 2 151 2 14305 709 8655 2 14306 709 3693 2 22 2 3063 387 706 82 706 4 3693 2 4708 2 550 82 14307 2 5892 2 14308 82 223 4 5034 2 13380 82 8652 82 3693 2 341 2 4995 2 1046 2 825 2 5153 2 463 2 3063 82 3693 2 5418 2 2384 2 516 2 14303 2 51 2 2199 2 14309 2 65 2 151 4 3693 2 4708 2 14310 82 8786 2 8648 2 1314 2 14311 2 14312 2 663 387 8659 2 8592 2 292 2 14313 387 536 2 14314 2 663 709 8655 2 14315 387 706 82 706 4 3693 2 4708 2 550 82 14307 2 5892 2 14316 82 223 4 132 2 14218 2 2770 4 5034 2 14268 82 10936 82 1 2 2811 2 4993 2 14317 2 106 2 1944 2 65 2 550 82 6594 2 5418 2 357 2 7089 387 5841 2 14317 247 1 2 14304 2 62 2 151 2 14305 709 14318 709 14319 387 1201 82 1201 4 1 2 4708 2 8538 82 471 2 663 2 14320 2 706 82 223 4 5034 2 13380 82 10936 82 1 2 341 2 4995 2 1046 2 825 2 5153 2 463 2 3063 82 1 2 5418 2 2384 2 516 2 14317 2 51 2 2199 2 6313 4 1 2 4708 2 14321 82 1437 2 14322 387 5841 2 14323 709 8592 2 292 2 14324 709 14325 2 536 2 8592 709 14326 387 1201 82 1201 4 11760 2 109 2 11761 387 11762 2 14322 82 1201 4 1 2 4708 2 8538 82 471 2 663 2 14323 2 706 82 223 4 1791 2 177 2 58 2 12517 82 51 2 13643 2 6594 2 14327 2 37 2 14267 2 458 82 51 2 1840 2 536 2 2161 2 12683 2 65 2 151 82 51 2 12338 2 12314 2 130 2 12536 2 115 2 1495 82 51 2 14328 2 14329 2 14330 2 37 2 7207 2 14330 4 132 2 3681 2 1575 4 223 82 7803 2 2335 2 31 2 6821 2 25 2 151 2 7115 387 2951 2 12769 2 177 2 106 2 1944 2 188 2 14331 2928 12271 2 8463 709 8492 2 51 2 1934 2 2558 2 96 709 14332 2 96 2 65 2 463 2 825 2 6113 2928 2951 2 176 2 177 2 6594 2 5415 2 177 2 14333 2 14334 2928 12271 2 14335 709 8492 2 51 2 1855 2 6594 2 207 2 177 2 6821 82 223 4 13 2 9955 2 2402 2 14336 2 10335 2 9097 4 132 2 3316 2 2770 4 5034 2 14268 82 8652 82 3693 2 2811 2 4993 2 10091 2 1165 2 463 2 1463 82 14337 2 14338 2 14339 2 8684 2 5892 2 663 387 3693 2 10091 2 2215 2 4978 2 9207 2 139 2 463 2 14340 2 14341 387 14342 2 8684 2 5892 2 14343 709 14344 2 14345 387 14346 2928 8655 2 14347 387 8655 2 14347 247 3693 2 1396 2 8699 2 51 2 67 2 14348 82 8809 82 223 4 5034 2 13380 82 8652 82 3693 2 341 2 4995 2 10091 2 30 2 4443 2 5057 82 14337 2 14338 2 14339 2 8684 2 5892 2 663 387 3693 2 10091 2 9 2 14176 2 14349 2 11103 2 1581 2 463 2 2090 387 14350 2 3693 2 11 2 14011 2 14176 2 4907 2 14351 2928 8655 2 14347 247 3693 2 14352 2 545 387 8655 2 14347 247 3693 2 14353 2 3730 2 1167 82 8809 82 223 4 132 2 14218 2 2770 4 5034 2 14268 82 10936 82 1 2 2811 2 4993 2 10091 2 1165 2 463 2 1463 82 11471 2 14354 2 109 387 96 2 14355 2 14338 2 14356 2 109 709 1 2 10091 2 2215 2 4978 2 9207 2 139 2 463 2 14340 2 14341 709 14357 2 14358 17 14359 709 11519 2 663 2 14359 2 11520 2 14360 709 1 2 14361 2 6681 2 51 2 4978 2 45 2 14362 387 1201 82 1201 82 223 4 5034 2 13380 82 10936 82 1 2 341 2 4995 2 10091 2 30 2 4443 2 5057 82 11471 2 14354 2 109 387 96 2 14355 2 14338 2 14356 2 109 709 1 2 10091 2 9 2 14176 2 14349 2 11103 2 1581 2 463 2 2090 709 14363 2 14364 247 1 2 11 2 14011 2 14176 2 14351 17 14359 247 1 2 14352 2 545 709 11519 2 663 2 14359 2 11520 2 14360 247 1 2 14365 387 1201 82 1201 82 223 4 1791 2 177 2 58 2 12517 82 51 2 14366 2 6821 2 4903 2 1602 2 4253 2 463 2 14367 2 120 2 14368 2 14369 82 51 2 14370 2 25 2 14371 2 14372 2 1165 2 489 2 1581 82 51 2 1046 2 547 2 207 2 2096 2 1795 2 43 2 8394 2 14373 4 132 2 3681 2 1575 4 223 82 7803 2 14374 2 31 2 7190 387 8492 2 51 2 1934 2 14011 2 9101 2928 71 2 2951 2 682 2 1602 2 1603 2 194 2 9 2 2061 2 6821 2 14375 387 83 2 2951 2 176 2 177 2 463 2 5052 2 120 2 31 2 115 2 1626 2 1602 2 14376 387 93 2 2951 2 5003 2 49 2 8536 2 1491 2 110 2 177 2 463 2 14377 2928 12271 2 14340 2 120 2 1602 2 10596 709 10091 2 30 2 14378 2 5057 2 7823 2 489 2 14379 2 11016 709 14380 2 1734 2 463 2 14381 2 139 2 11103 2 14382 2 1581 709 1937 2 9 2 14383 2 6821 2 9 2 463 2 14340 2 120 2928 12271 2 14384 2 110 2 463 2 14340 2 2448 709 1170 2 463 2 37 2 2061 2 938 2 546 709 12674 2 110 2 1590 2 2090 2 25 2 1943 709 13416 2 2558 2 283 2 14374 2 30 2 9 2 2618 2 5057 2928 9439 2 14385 709 51 2 13304 2 14011 2 177 2 25 2 344 2 14372 709 51 2 9370 2 2131 2 344 2 14386 2 1479 2 14011 2 2850 709 51 2 14336 2 1882 2 579 2 9 2 1833 2 12656 82 223 4 13 2 9955 2 2424 2 4849 2 8985 4 5034 2 14268 82 8652 82 3693 2 2811 2 4993 2 11457 2 14011 2 51 2 106 2 2244 2 112 2 46 2 112 2 754 82 8659 2 14387 2 292 2 663 387 3065 2 14388 387 11562 2 663 2 14389 2 14390 2 4381 2 14391 2 706 387 3693 2 3899 2 7833 2 139 2 14392 2 458 2 8625 82 8807 4 3693 2 14393 2 1165 2 920 2 458 2 14394 2 14395 82 223 4 1791 2 177 2 58 2 12517 82 51 2 14396 2 2111 2 2132 2 8988 2 14397 2 51 2 44 2 106 2 14398 2 2244 2 112 2 2634 2 126 82 51 2 14399 2 458 2 1296 2 5052 2 120 2 2244 2 112 2 1748 2 14400 2 51 2 5851 2 2033 82 51 2 14401 2 510 2 67 2 795 2 14402 2 51 2 10091 2 14403 2 2061 2 4941 2 725 82 51 2 14404 2 14405 2 51 2 1046 2 13580 2 12427 2 126 2 2061 2 1581 4 5034 2 13335 2 1888 2 10091 2 9 2 3178 2 756 2 436 2 134 2 96 2 588 2 65 2 14406 2 183 2 3580 2 2244 2 228 2 12764 2 463 2 14407 4 5034 2 13380 82 8652 82 3693 2 341 2 4995 2 12205 2 2061 2 4941 2 1048 82 8659 2 14387 2 292 2 663 387 3065 2 14388 387 11562 2 663 2 14389 2 14390 2 4381 2 14391 2 684 387 14408 2 663 2 14409 2 14410 2 3415 2 14411 2 706 387 3693 2 287 2 2244 2 2061 2 4941 2 2809 82 8807 82 223 4 132 2 3681 2 1575 4 223 82 7803 2 1924 2 14011 2 14412 387 3743 2 682 2 2244 2 194 2 9 2 2061 2 4941 2 4932 2 14413 2928 14414 709 71 2 2238 2 489 2 4941 2 4932 2 77 2 14415 709 83 2 1930 2 3172 2 2244 2 52 2 2131 2 14416 2 14392 709 93 2 1177 2 14011 2 5438 2 2061 2 4932 2 916 2 5241 2928 14417 709 192 2 1377 2 1924 2 929 2 14284 2 112 2 1425 2 1491 2 9 2 14418 2 436 709 11457 2 2111 2 3552 2 2183 2 920 2 458 2 14340 2 120 2 14419 2 2244 2928 192 2 14420 2 1930 2 86 2 1578 2 2244 82 223 4 13 2 9955 2 2452 2 5351 2 503 2 134 2 14421 4 5034 2 14268 82 223 82 341 2 3584 2 725 82 2811 2 150 2 550 2 545 82 8588 2 207 2 14422 82 223 4 1791 2 177 2 58 2 12517 82 51 2 1318 2 58 2 2651 2 115 2 14088 2 183 2 2043 2 3225 82 51 2 448 2 1942 2 904 2 2203 2 177 82 51 2 146 2 1573 2 725 2 1882 2 550 4 5034 2 13380 82 223 82 448 2 14423 82 71 2 461 2 462 2 463 82 83 2 3507 2 25 2 510 82 93 2 466 82 104 2 13416 2 1573 2 725 82 223 4 13 2 928 2 8985 2 14424 2 9078 2 1606 4 14425 2 14426 82 51 2 10091 2 4872 2 1645 2 1480 2 463 2 1463 82 51 2 14336 2 95 2 25 2 2274 2 463 2 510 82 51 2 8985 2 1806 2 6157 2 2061 2 3333 2 904 82 51 2 1046 2 1165 2 920 2 14011 2 1293 4 12310 2 57 2 12306 2 14427 2 5003 2 5432 2 754 2 25 2 344 2 3128 2 929 2 14011 2 14428 4 14429 2 5351 2 550 2 37 2 2061 2 3333 2 1478 2 1529 2 1480 2 4396 2 2111 4 13 2 448 2 6389 2 3798 2 9947 4 1791 2 448 2 14430 82 71 2 3546 2 463 2 3547 2 193 2 13248 2 112 2 25 2 46 2 126 2 110 2 1377 2 1590 2 155 82 83 2 13549 2 96 2 14431 2 193 2 14432 2 463 2 550 2 2061 2 4353 2 183 2 2111 82 93 2 14433 2 14434 2 193 2 150 2 14267 2 6157 2 14435 2 65 82 104 2 14436 2 14437 2 193 2 44 2 488 2 110 2 9 2 463 2 1590 2 2090 2 274 2 14374 4 2550 2 1377 2 155 2 14011 2 4353 2 112 2 2254 2 14438 2 51 2 112 2 560 2 2111 2 1882 2 14439 2 463 2 3552 2 1283 2 2061 2 458 2 3679 4 13 2 6377 2 4451 4 143 2 9955 2 143 2 2913 2 143 82 11712 82 143 2 10087 2 120 2 14011 2 3338 2 143 2 1046 2 2061 2 3757 2 43 2 14300 2 96 2 143 82 143 2 14440 2 6157 2 65 2 151 2 143 2 3171 2 25 2 463 2 825 2 143 82 143 2 10091 2 1882 2 579 2 143 2 2394 2 4896 2 11407 2 14011 2 13602 2 143 82 143 2 4849 2 2111 2 143 2 12205 2 2061 2 4941 2 5241 2 143 82 143 2 503 2 134 2 14441 2 143 2 448 2 51 2 550 2 2509 2 143 82 143 2 14442 2 2111 2 143 2 1615 2 795 2 550 2 143 4 13 2 9439 2 9440 4 51 2 14443 2 1221 2 207 2 14444 2 463 2 11723 82 51 2 14302 2 106 2 12683 2 65 2 463 2 586 82 51 2 10091 2 4872 2 58 2 14445 2 115 2 463 82 51 2 1046 2 8394 2 920 2 112 2 3033 2 14011 82 51 2 146 2 2094 2 1542 2 14011 2 58 2 2209 82 51 2 14336 2 14189 2 25 2 344 2 14372 4 13 2 14 2 12434 2 12435 4 14446 2 186 2 3113 2 25 2 14261 2 183 2 12354 2 25 2 14447 4 192 2 448 2 9833 2 1377 2 155 2 14011 2 4353 2 5255 2 14448 2 14449 4 10294 2 1046 2 2061 2 1581 2 43 2 2407 2 1542 2 1377 2 14374 2 30 2 14450