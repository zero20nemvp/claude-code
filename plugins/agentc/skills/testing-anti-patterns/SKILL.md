---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
82 1 2 1158 2 7632 4 13 2 6148 4 338 2 1269 2 3137 2 1916 2 3894 2 183 2 10863 2 10882 2 6628 2 186 2 1080 2 5400 2 25 2 11120 2 183 2 9 2 2501 2 1844 2 11121 4 771 2 6239 2 876 2 110 2 9 2 287 2 11122 2 183 2 110 2 9 2 1968 2 196 4 11123 2 827 2 277 2 2072 2 3082 2 11124 4 13 2 14 2 10175 2 11125 4 221 82 71 2 7853 2 292 2 10863 2 1426 82 83 2 7853 2 2417 2 11126 2 5105 2 25 2 151 2 7745 82 93 2 7853 2 10863 2 1735 2 1377 2 4318 82 221 4 13 2 7640 2 1721 2 1158 2 7780 2 3729 4 132 2 2957 2 4017 4 4470 2 11127 82 6276 82 3280 2 6277 2 4426 2 1158 2 139 2 9 2 10863 2 2217 82 7765 2 11128 2 6311 2 6282 2 407 506 11129 2 11130 506 11131 82 6441 82 221 4 4470 2 10201 82 6276 82 3280 2 6288 2 4429 2 876 2 1916 2 3346 2 43 2 125 2 10863 2 96 82 7765 2 11128 2 6311 2 6282 2 407 506 11129 2 11130 2684 3280 2 1787 2 10863 2 11132 506 11133 82 6441 82 221 4 132 2 11076 2 4017 4 4470 2 11127 82 8191 82 1 2 6277 2 4426 2 1158 2 139 2 9 2 11134 2 2217 82 8193 2 7514 2 109 506 96 2 11135 2 11136 2 109 453 11132 2 1100 2 11137 453 11138 2 11139 17 8178 2 1100 2 11140 453 11141 2 11142 2684 1 2 1158 2 11143 2 183 2 11144 506 1034 82 1034 82 221 4 4470 2 10201 82 8191 82 1 2 6288 2 4429 2 876 2 1916 2 3346 2 43 2 125 2 10863 2 96 82 8193 2 7514 2 109 506 96 2 11135 2 11132 2 37 2 11145 2 109 453 8178 2 1100 2 11140 2684 1 2 1764 2 1916 2 11146 453 11147 2 11148 506 1034 82 1034 82 221 4 1643 2 177 2 58 2 9307 82 51 2 9697 2 7112 2 9 2 10863 2 11149 2 183 2 139 2 9 2 3346 2 1046 82 51 2 876 2 383 2 658 2 10863 2 58 2 11150 2 6841 2 658 2 2055 2 183 82 51 2 11151 2 112 2 9213 2 126 2 1916 2 1426 4 9091 2 57 2 9087 2 11152 2 6646 2 5217 2 155 2 9 2 1426 2 115 2 1080 2 11153 4 132 2 3268 2 1420 4 221 82 6485 2 11154 2 120 2 31 2 10863 2 11155 506 4024 2 11156 2 49 2 155 2 1916 2 3346 2 1426 2 43 2 3168 2 10863 2 11157 5491 9051 2 155 2 10863 2 11158 453 9053 2 51 2 2688 2 9 2 11104 2 43 2 11159 2 9 2 3346 5491 876 2 1916 2 1426 2 5055 82 221 4 13 2 7640 2 1753 2 11160 2 11161 2 65 2 10476 4 132 2 2957 2 4017 4 4470 2 11127 82 6276 82 3280 2 6277 2 4426 2 11162 2 106 2 1797 2 65 2 386 82 8345 2 6599 2 407 506 6272 2 11162 2 407 2684 3280 2 11163 2 62 2 151 2 11164 453 6280 2 11165 453 3280 2 22 2 2699 506 450 82 450 4 3280 2 6562 2 386 82 11166 2 6282 2 11167 82 221 4 4470 2 10201 82 6276 82 3280 2 6288 2 4429 2 876 2 560 2 4591 2 292 2 2699 82 3280 2 6599 2 2242 2 352 2 11162 2 51 2 2055 2 11168 2 65 2 151 4 3280 2 6562 2 11169 82 6417 2 6272 2 1154 2 11170 2 11171 2 407 506 6285 2 6213 2 1100 2 11172 506 372 2 11173 2 407 453 6280 2 11174 506 450 82 450 4 3280 2 6562 2 386 82 11166 2 6282 2 11175 82 221 4 132 2 11076 2 4017 4 4470 2 11127 82 8191 82 1 2 6277 2 4426 2 11176 2 106 2 1797 2 65 2 386 82 8345 2 6599 2 4168 2 8346 506 4958 2 11176 2684 1 2 11163 2 62 2 151 2 11164 453 11177 453 11178 506 1034 82 1034 4 1 2 6562 2 6154 82 302 2 407 2 11179 2 450 82 221 4 4470 2 10201 82 8191 82 1 2 6288 2 4429 2 876 2 560 2 4591 2 292 2 2699 82 1 2 6599 2 2242 2 352 2 11176 2 51 2 2055 2 5271 4 1 2 6562 2 11180 82 1281 2 11181 506 4958 2 11182 453 6213 2 1100 2 11183 453 11184 2 372 2 6213 453 11185 506 1034 82 1034 4 8507 2 109 2 8508 506 8509 2 11181 82 1034 4 1 2 6562 2 6154 82 302 2 407 2 11182 2 450 82 221 4 1643 2 177 2 58 2 9307 82 51 2 10476 2 8345 2 11186 2 37 2 11126 2 287 82 51 2 1692 2 372 2 2017 2 9488 2 65 2 151 82 51 2 9122 2 9095 2 130 2 9329 2 115 2 1339 82 51 2 11187 2 11188 2 11189 2 37 2 11190 2 11189 4 132 2 3268 2 1420 4 221 82 6485 2 2195 2 31 2 11191 2 25 2 151 2 11192 506 4024 2 9575 2 177 2 106 2 1797 2 188 2 11193 5491 9051 2 7085 453 9053 2 51 2 1787 2 2417 2 96 453 11194 2 96 2 65 2 292 2 560 2 5055 5491 4024 2 176 2 177 2 8345 2 7842 2 177 2 11195 2 11196 5491 9051 2 11197 453 9053 2 51 2 1707 2 8345 2 207 2 177 2 11191 82 221 4 13 2 7640 2 2261 2 11198 2 11199 2 6745 4 132 2 2957 2 4017 4 4470 2 11127 82 6276 82 3280 2 6277 2 4426 2 7780 2 1001 2 292 2 1307 82 11200 2 11201 2 11202 2 6311 2 6282 2 407 506 3280 2 7780 2 2072 2 4410 2 6863 2 139 2 292 2 11203 2 11204 506 11205 2 6311 2 6282 2 11206 453 11207 2 11208 506 11209 5491 6280 2 11210 506 6280 2 11210 2684 3280 2 1239 2 6326 2 51 2 67 2 11211 82 6441 82 221 4 4470 2 10201 82 6276 82 3280 2 6288 2 4429 2 7780 2 30 2 3985 2 4493 82 11200 2 11201 2 11202 2 6311 2 6282 2 407 506 3280 2 7780 2 9 2 11034 2 11212 2 11213 2 1426 2 292 2 1946 506 11214 2 3280 2 11 2 10863 2 11034 2 4329 2 11215 5491 6280 2 11210 2684 3280 2 11216 2 381 506 6280 2 11210 2684 3280 2 11217 2 3318 2 1003 82 6441 82 221 4 132 2 11076 2 4017 4 4470 2 11127 82 8191 82 1 2 6277 2 4426 2 7780 2 1001 2 292 2 1307 82 8193 2 11218 2 109 506 96 2 11219 2 11201 2 11220 2 109 453 1 2 7780 2 2072 2 4410 2 6863 2 139 2 292 2 11203 2 11204 453 11221 2 11222 17 11223 453 8244 2 407 2 11223 2 8245 2 11224 453 1 2 11225 2 11226 2 51 2 4410 2 45 2 11227 506 1034 82 1034 82 221 4 4470 2 10201 82 8191 82 1 2 6288 2 4429 2 7780 2 30 2 3985 2 4493 82 8193 2 11218 2 109 506 96 2 11219 2 11201 2 11220 2 109 453 1 2 7780 2 9 2 11034 2 11212 2 11213 2 1426 2 292 2 1946 453 11228 2 11229 2684 1 2 11 2 10863 2 11034 2 11215 17 11223 2684 1 2 11216 2 381 453 8244 2 407 2 11223 2 8245 2 11224 2684 1 2 11230 506 1034 82 1034 82 221 4 1643 2 177 2 58 2 9307 82 51 2 11231 2 11191 2 4325 2 1447 2 3793 2 292 2 11232 2 120 2 11233 2 11234 82 51 2 11235 2 25 2 11236 2 11237 2 1001 2 322 2 1426 82 51 2 876 2 383 2 207 2 1952 2 1647 2 43 2 6841 2 11238 4 132 2 3268 2 1420 4 221 82 6485 2 11239 2 31 2 8448 506 9053 2 51 2 1787 2 10863 2 6749 5491 71 2 4024 2 426 2 1447 2 1448 2 194 2 9 2 1916 2 11191 2 11240 506 83 2 4024 2 176 2 177 2 292 2 4488 2 120 2 31 2 115 2 1472 2 1447 2 11241 506 93 2 4024 2 4439 2 49 2 6152 2 1335 2 110 2 177 2 292 2 11242 5491 9051 2 11203 2 120 2 1447 2 11243 453 7780 2 30 2 11244 2 4493 2 7412 2 322 2 11245 2 11246 453 11247 2 1586 2 292 2 11248 2 139 2 11213 2 11249 2 1426 453 1790 2 9 2 11250 2 11191 2 9 2 292 2 11203 2 120 5491 9051 2 11251 2 110 2 292 2 11203 2 2307 453 1006 2 292 2 37 2 1916 2 790 2 382 453 9479 2 110 2 1435 2 1946 2 25 2 1796 453 10238 2 2417 2 295 2 11239 2 30 2 9 2 2480 2 4493 5491 7109 2 11252 453 51 2 10143 2 10863 2 177 2 25 2 1485 2 11237 453 51 2 7036 2 1988 2 1485 2 11253 2 1323 2 10863 2 6739 453 51 2 11198 2 1735 2 1377 2 9 2 1685 2 9460 82 221 4 13 2 7640 2 2283 2 4270 2 6628 4 4470 2 11127 82 6276 82 3280 2 6277 2 4426 2 8177 2 10863 2 51 2 106 2 2103 2 112 2 46 2 112 2 488 82 6285 2 11254 2 1100 2 407 506 2701 2 11255 506 8291 2 407 2 11256 2 11257 2 3923 2 11258 2 450 506 3280 2 3493 2 11259 2 139 2 11260 2 287 2 6249 82 6439 4 3280 2 11261 2 1001 2 658 2 287 2 11262 2 11263 82 221 4 1643 2 177 2 58 2 9307 82 51 2 11264 2 1968 2 1989 2 6631 2 11265 2 51 2 44 2 106 2 11266 2 2103 2 112 2 2497 2 126 82 51 2 11267 2 287 2 1135 2 4488 2 120 2 2103 2 112 2 1600 2 11268 2 51 2 5950 2 1889 82 51 2 11269 2 345 2 67 2 530 2 11270 2 51 2 7780 2 11271 2 1916 2 4367 2 1389 82 51 2 11272 2 11273 2 51 2 876 2 10409 2 9213 2 126 2 1916 2 1426 4 4470 2 10175 2 1741 2 7780 2 9 2 2812 2 490 2 264 2 134 2 96 2 2217 2 65 2 11274 2 183 2 3168 2 2103 2 1086 2 9570 2 292 2 11275 4 4470 2 10201 82 6276 82 3280 2 6288 2 4429 2 8981 2 1916 2 4367 2 878 82 6285 2 11254 2 1100 2 407 506 2701 2 11255 506 8291 2 407 2 11256 2 11257 2 3923 2 11258 2 428 506 11276 2 407 2 11277 2 11278 2 3056 2 11279 2 450 506 3280 2 387 2 2103 2 1916 2 4367 2 3231 82 6439 82 221 4 132 2 3268 2 1420 4 221 82 6485 2 1777 2 10863 2 11280 506 3332 2 426 2 2103 2 194 2 9 2 1916 2 4367 2 4357 2 11281 5491 11282 453 71 2 2096 2 322 2 4367 2 4357 2 77 2 11283 453 83 2 1783 2 2806 2 2103 2 52 2 1988 2 11284 2 11260 453 93 2 1013 2 10863 2 5222 2 1916 2 4357 2 652 2 4683 5491 11285 453 192 2 1218 2 1777 2 1080 2 11143 2 112 2 1269 2 1335 2 9 2 11286 2 264 453 8177 2 1968 2 3140 2 2039 2 658 2 287 2 11203 2 120 2 11287 2 2103 5491 192 2 11288 2 1783 2 86 2 1423 2 2103 82 221 4 13 2 7640 2 2311 2 4795 2 338 2 134 2 11289 4 4470 2 11127 82 221 82 6288 2 3172 2 1389 82 6277 2 150 2 386 2 381 82 6209 2 207 2 11290 82 221 4 1643 2 177 2 58 2 9307 82 51 2 1158 2 58 2 2514 2 115 2 10945 2 183 2 1899 2 2863 82 51 2 277 2 1795 2 640 2 2059 2 177 82 51 2 146 2 1418 2 1389 2 1735 2 386 4 4470 2 10201 82 221 82 277 2 11291 82 71 2 290 2 291 2 292 82 83 2 3366 2 25 2 345 82 93 2 297 82 104 2 10238 2 1418 2 1389 82 221 4 13 2 2093 2 6628 2 11292 2 6724 2 1451 4 11293 2 11294 82 51 2 7780 2 4294 2 1494 2 1324 2 292 2 1307 82 51 2 11198 2 95 2 25 2 2134 2 292 2 345 82 51 2 6628 2 1658 2 5105 2 1916 2 2974 2 640 82 51 2 876 2 1001 2 658 2 10863 2 1132 4 9091 2 57 2 9087 2 11295 2 4439 2 5217 2 488 2 25 2 1485 2 2762 2 1080 2 10863 2 11296 4 11297 2 4795 2 386 2 37 2 1916 2 2974 2 1322 2 1372 2 1324 2 3938 2 1968 4 13 2 277 2 5354 2 3390 2 7632 4 1643 2 277 2 11298 82 71 2 3133 2 292 2 3134 2 193 2 10083 2 112 2 25 2 46 2 126 2 110 2 1218 2 1435 2 155 82 83 2 10378 2 96 2 11299 2 193 2 11300 2 292 2 386 2 1916 2 3894 2 183 2 1968 82 93 2 11301 2 11302 2 193 2 150 2 11126 2 5105 2 11303 2 65 82 104 2 11304 2 11305 2 193 2 44 2 321 2 110 2 9 2 292 2 1435 2 1946 2 312 2 11239 4 2409 2 1218 2 155 2 10863 2 3894 2 112 2 2114 2 11306 2 51 2 112 2 397 2 1968 2 1735 2 11307 2 292 2 3140 2 1122 2 1916 2 287 2 3266 4 13 2 686 2 3993 4 143 2 7640 2 143 2 3234 2 143 82 8455 82 143 2 7776 2 120 2 10863 2 2979 2 143 2 876 2 1916 2 3346 2 43 2 11159 2 96 2 143 82 143 2 11308 2 5105 2 65 2 151 2 143 2 2805 2 25 2 292 2 560 2 143 82 143 2 7780 2 1735 2 1377 2 143 2 2252 2 4318 2 8127 2 10863 2 10432 2 143 82 143 2 4270 2 1968 2 143 2 8981 2 1916 2 4367 2 4683 2 143 82 143 2 338 2 134 2 11309 2 143 2 277 2 51 2 386 2 2367 2 143 82 143 2 11310 2 1968 2 143 2 1460 2 530 2 386 2 143 4 13 2 7109 2 7110 4 51 2 11311 2 1056 2 207 2 11312 2 292 2 8468 82 51 2 11161 2 106 2 9488 2 65 2 292 2 1138 82 51 2 7780 2 4294 2 58 2 11313 2 115 2 292 82 51 2 876 2 6841 2 658 2 112 2 2669 2 10863 82 51 2 146 2 1950 2 1386 2 10863 2 58 2 2066 82 51 2 11198 2 11047 2 25 2 1485 2 11237 4 13 2 14 2 9220 2 9221 4 11314 2 186 2 2748 2 25 2 11120 2 183 2 9138 2 25 2 11315 4 192 2 277 2 7517 2 1218 2 155 2 10863 2 3894 2 4697 2 11316 2 11317 4 9425 2 876 2 1916 2 1426 2 43 2 2266 2 1386 2 1218 2 11239 2 30 2 11318