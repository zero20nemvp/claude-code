---
name: testing-anti-patterns
description: Use when writing or changing tests, adding mocks, or tempted to add test-only methods to production code - prevents testing mock behavior, production pollution with test-only methods, and mocking without understanding dependencies
---
82 1 2 1235 2 8616 4 13 2 7178 4 503 2 1344 2 355 2 1985 2 4235 2 183 2 11780 2 11799 2 7640 2 186 2 836 2 6118 2 25 2 12033 2 183 2 9 2 2568 2 1912 2 12034 4 854 2 7267 2 956 2 110 2 9 2 458 2 12035 2 183 2 110 2 9 2 2035 2 196 4 12036 2 907 2 448 2 2140 2 3373 2 12037 4 13 2 14 2 11104 2 12038 4 223 82 71 2 8833 2 463 2 11780 2 1501 82 83 2 8833 2 2486 2 12039 2 5843 2 25 2 151 2 8728 82 93 2 8833 2 11780 2 1804 2 1453 2 4758 82 223 4 13 2 8624 2 1791 2 1235 2 8763 2 4071 4 132 2 3249 2 2700 4 4898 2 12040 82 7302 82 3571 2 2741 2 4857 2 1235 2 139 2 9 2 11780 2 2283 82 8748 2 12041 2 7335 2 7307 2 570 387 12042 2 12043 387 12044 82 7462 82 223 4 4898 2 11130 82 7302 82 3571 2 341 2 4859 2 956 2 1985 2 3635 2 43 2 125 2 11780 2 96 82 8748 2 12041 2 7335 2 7307 2 570 387 12042 2 12043 247 3571 2 1856 2 11780 2 12045 387 12046 82 7462 82 223 4 132 2 11989 2 2700 4 4898 2 12040 82 9161 82 1 2 2741 2 4857 2 1235 2 139 2 9 2 12047 2 2283 82 9163 2 8499 2 109 387 96 2 12048 2 12049 2 109 616 12045 2 292 2 12050 616 12051 2 12052 17 9148 2 292 2 12053 616 12054 2 12055 247 1 2 1235 2 12056 2 183 2 12057 387 1116 82 1116 82 223 4 4898 2 11130 82 9161 82 1 2 341 2 4859 2 956 2 1985 2 3635 2 43 2 125 2 11780 2 96 82 9163 2 8499 2 109 387 96 2 12048 2 12045 2 37 2 12058 2 109 616 9148 2 292 2 12053 247 1 2 1833 2 1985 2 12059 616 12060 2 12061 387 1116 82 1116 82 223 4 1713 2 177 2 58 2 10260 82 51 2 10641 2 8106 2 9 2 11780 2 12062 2 183 2 139 2 9 2 3635 2 1126 82 51 2 956 2 547 2 827 2 11780 2 58 2 12063 2 7038 2 827 2 2123 2 183 82 51 2 12064 2 112 2 10168 2 126 2 1985 2 1501 4 10049 2 57 2 10045 2 12065 2 7657 2 5298 2 155 2 9 2 1501 2 115 2 836 2 12066 4 132 2 3559 2 1495 4 223 82 6426 2 12067 2 120 2 31 2 11780 2 12068 387 2881 2 12069 2 49 2 155 2 1985 2 3635 2 1501 2 43 2 3458 2 11780 2 12070 2858 10010 2 155 2 11780 2 12071 616 7137 2 51 2 2982 2 9 2 12017 2 43 2 12072 2 9 2 3635 2858 956 2 1985 2 1501 2 5798 82 223 4 13 2 8624 2 1822 2 12073 2 12074 2 65 2 11401 4 132 2 3249 2 2700 4 4898 2 12040 82 7302 82 3571 2 2741 2 4857 2 12075 2 106 2 1866 2 65 2 550 82 9313 2 5284 2 570 387 7298 2 12075 2 570 247 3571 2 12076 2 62 2 151 2 12077 616 7305 2 12078 616 3571 2 22 2 2994 387 613 82 613 4 3571 2 4567 2 550 82 12079 2 7307 2 12080 82 223 4 4898 2 11130 82 7302 82 3571 2 341 2 4859 2 956 2 732 2 5017 2 463 2 2994 82 3571 2 5284 2 2311 2 516 2 12075 2 51 2 2123 2 12081 2 65 2 151 4 3571 2 4567 2 12082 82 7439 2 7298 2 1231 2 12083 2 12084 2 570 387 7310 2 7242 2 292 2 12085 387 536 2 12086 2 570 616 7305 2 12087 387 613 82 613 4 3571 2 4567 2 550 82 12079 2 7307 2 12088 82 223 4 132 2 11989 2 2700 4 4898 2 12040 82 9161 82 1 2 2741 2 4857 2 12089 2 106 2 1866 2 65 2 550 82 9313 2 5284 2 357 2 9314 387 5704 2 12089 247 1 2 12076 2 62 2 151 2 12077 616 12090 616 12091 387 1116 82 1116 4 1 2 4567 2 7184 82 471 2 570 2 12092 2 613 82 223 4 4898 2 11130 82 9161 82 1 2 341 2 4859 2 956 2 732 2 5017 2 463 2 2994 82 1 2 5284 2 2311 2 516 2 12089 2 51 2 2123 2 6000 4 1 2 4567 2 12093 82 1356 2 12094 387 5704 2 12095 616 7242 2 292 2 12096 616 12097 2 536 2 7242 616 12098 387 1116 82 1116 4 9471 2 109 2 9472 387 9473 2 12094 82 1116 4 1 2 4567 2 7184 82 471 2 570 2 12095 2 613 82 223 4 1713 2 177 2 58 2 10260 82 51 2 11401 2 9313 2 12099 2 37 2 12039 2 458 82 51 2 1762 2 536 2 2085 2 10432 2 65 2 151 82 51 2 10079 2 10053 2 130 2 10280 2 115 2 1414 82 51 2 12100 2 12101 2 12102 2 37 2 12103 2 12102 4 132 2 3559 2 1495 4 223 82 6426 2 2261 2 31 2 12104 2 25 2 151 2 12105 387 2881 2 10520 2 177 2 106 2 1866 2 188 2 12106 2858 10010 2 7108 616 7137 2 51 2 1856 2 2486 2 96 616 12107 2 96 2 65 2 463 2 732 2 5798 2858 2881 2 176 2 177 2 9313 2 5281 2 177 2 12108 2 12109 2858 10010 2 12110 616 7137 2 51 2 1777 2 9313 2 207 2 177 2 12104 82 223 4 13 2 8624 2 2330 2 12111 2 12112 2 7752 4 132 2 3249 2 2700 4 4898 2 12040 82 7302 82 3571 2 2741 2 4857 2 8763 2 1079 2 463 2 1382 82 12113 2 12114 2 12115 2 7335 2 7307 2 570 387 3571 2 8763 2 2140 2 4842 2 7864 2 139 2 463 2 12116 2 12117 387 12118 2 7335 2 7307 2 12119 616 12120 2 12121 387 12122 2858 7305 2 12123 387 7305 2 12123 247 3571 2 1314 2 7350 2 51 2 67 2 12124 82 7462 82 223 4 4898 2 11130 82 7302 82 3571 2 341 2 4859 2 8763 2 30 2 4325 2 4921 82 12113 2 12114 2 12115 2 7335 2 7307 2 570 387 3571 2 8763 2 9 2 11947 2 12125 2 12126 2 1501 2 463 2 2014 387 12127 2 3571 2 11 2 11780 2 11947 2 4769 2 12128 2858 7305 2 12123 247 3571 2 12129 2 545 387 7305 2 12123 247 3571 2 12130 2 3608 2 1081 82 7462 82 223 4 132 2 11989 2 2700 4 4898 2 12040 82 9161 82 1 2 2741 2 4857 2 8763 2 1079 2 463 2 1382 82 9163 2 12131 2 109 387 96 2 12132 2 12114 2 12133 2 109 616 1 2 8763 2 2140 2 4842 2 7864 2 139 2 463 2 12116 2 12117 616 12134 2 12135 17 12136 616 9214 2 570 2 12136 2 9215 2 12137 616 1 2 12138 2 12139 2 51 2 4842 2 45 2 12140 387 1116 82 1116 82 223 4 4898 2 11130 82 9161 82 1 2 341 2 4859 2 8763 2 30 2 4325 2 4921 82 9163 2 12131 2 109 387 96 2 12132 2 12114 2 12133 2 109 616 1 2 8763 2 9 2 11947 2 12125 2 12126 2 1501 2 463 2 2014 616 12141 2 12142 247 1 2 11 2 11780 2 11947 2 12128 17 12136 247 1 2 12129 2 545 616 9214 2 570 2 12136 2 9215 2 12137 247 1 2 12143 387 1116 82 1116 82 223 4 1713 2 177 2 58 2 10260 82 51 2 12144 2 12104 2 4765 2 1522 2 4134 2 463 2 12145 2 120 2 12146 2 12147 82 51 2 12148 2 25 2 12149 2 12150 2 1079 2 489 2 1501 82 51 2 956 2 547 2 207 2 2020 2 1717 2 43 2 7038 2 12151 4 132 2 3559 2 1495 4 223 82 6426 2 12152 2 31 2 9414 387 7137 2 51 2 1856 2 11780 2 7756 2858 71 2 2881 2 589 2 1522 2 1523 2 194 2 9 2 1985 2 12104 2 12153 387 83 2 2881 2 176 2 177 2 463 2 4916 2 120 2 31 2 115 2 1546 2 1522 2 12154 387 93 2 2881 2 4867 2 49 2 7182 2 1410 2 110 2 177 2 463 2 12155 2858 10010 2 12116 2 120 2 1522 2 12156 616 8763 2 30 2 12157 2 4921 2 6446 2 489 2 12158 2 12159 616 12160 2 1656 2 463 2 12161 2 139 2 12126 2 12162 2 1501 616 1859 2 9 2 12163 2 12104 2 9 2 463 2 12116 2 120 2858 10010 2 12164 2 110 2 463 2 12116 2 2376 616 1084 2 463 2 37 2 1985 2 847 2 546 616 10423 2 110 2 1510 2 2014 2 25 2 1865 616 11167 2 2486 2 283 2 12152 2 30 2 9 2 2548 2 4921 2858 8103 2 12165 616 51 2 11073 2 11780 2 177 2 25 2 344 2 12150 616 51 2 8034 2 2055 2 344 2 12166 2 1398 2 11780 2 2780 616 51 2 12111 2 1804 2 1453 2 9 2 1755 2 10405 82 223 4 13 2 8624 2 2352 2 4711 2 7640 4 4898 2 12040 82 7302 82 3571 2 2741 2 4857 2 9147 2 11780 2 51 2 106 2 2170 2 112 2 46 2 112 2 661 82 7310 2 12167 2 292 2 570 387 2996 2 12168 387 9259 2 570 2 12169 2 12170 2 4263 2 12171 2 613 387 3571 2 3778 2 6457 2 139 2 12172 2 458 2 7275 82 7460 4 3571 2 12173 2 1079 2 827 2 458 2 12174 2 12175 82 223 4 1713 2 177 2 58 2 10260 82 51 2 12176 2 2035 2 2056 2 7643 2 12177 2 51 2 44 2 106 2 12178 2 2170 2 112 2 2564 2 126 82 51 2 12179 2 458 2 1212 2 4916 2 120 2 2170 2 112 2 1670 2 12180 2 51 2 6816 2 1957 82 51 2 12181 2 510 2 67 2 702 2 12182 2 51 2 8763 2 12183 2 1985 2 4805 2 632 82 51 2 12184 2 12185 2 51 2 956 2 11335 2 10168 2 126 2 1985 2 1501 4 4898 2 11104 2 1810 2 8763 2 9 2 3110 2 663 2 436 2 134 2 96 2 2283 2 65 2 12186 2 183 2 3458 2 2170 2 228 2 10515 2 463 2 12187 4 4898 2 11130 82 7302 82 3571 2 341 2 4859 2 9941 2 1985 2 4805 2 958 82 7310 2 12167 2 292 2 570 387 2996 2 12168 387 9259 2 570 2 12169 2 12170 2 4263 2 12171 2 591 387 12188 2 570 2 12189 2 12190 2 3348 2 12191 2 613 387 3571 2 287 2 2170 2 1985 2 4805 2 2739 82 7460 82 223 4 132 2 3559 2 1495 4 223 82 6426 2 1846 2 11780 2 12192 387 3621 2 589 2 2170 2 194 2 9 2 1985 2 4805 2 4795 2 12193 2858 12194 616 71 2 2163 2 489 2 4805 2 4795 2 77 2 12195 616 83 2 1852 2 3104 2 2170 2 52 2 2055 2 12196 2 12172 616 93 2 1091 2 11780 2 5304 2 1985 2 4795 2 823 2 5105 2858 12197 616 192 2 1295 2 1846 2 836 2 12056 2 112 2 1344 2 1410 2 9 2 12198 2 436 616 9147 2 2035 2 3430 2 2107 2 827 2 458 2 12116 2 120 2 12199 2 2170 2858 192 2 12200 2 1852 2 86 2 1498 2 2170 82 223 4 13 2 8624 2 2380 2 5217 2 503 2 134 2 12201 4 4898 2 12040 82 223 82 341 2 3462 2 632 82 2741 2 150 2 550 2 545 82 7238 2 207 2 12202 82 223 4 1713 2 177 2 58 2 10260 82 51 2 1235 2 58 2 2581 2 115 2 11858 2 183 2 1967 2 3157 82 51 2 448 2 1864 2 811 2 2127 2 177 82 51 2 146 2 1493 2 632 2 1804 2 550 4 4898 2 11130 82 223 82 448 2 12203 82 71 2 461 2 462 2 463 82 83 2 3654 2 25 2 510 82 93 2 466 82 104 2 11167 2 1493 2 632 82 223 4 13 2 835 2 7640 2 12204 2 7733 2 1526 4 12205 2 12206 82 51 2 8763 2 4734 2 1565 2 1399 2 463 2 1382 82 51 2 12111 2 95 2 25 2 2200 2 463 2 510 82 51 2 7640 2 1728 2 5843 2 1985 2 3266 2 811 82 51 2 956 2 1079 2 827 2 11780 2 1209 4 10049 2 57 2 10045 2 12207 2 4867 2 5298 2 661 2 25 2 344 2 3060 2 836 2 11780 2 12208 4 12209 2 5217 2 550 2 37 2 1985 2 3266 2 1397 2 1448 2 1399 2 4278 2 2035 4 13 2 448 2 6078 2 3677 2 8616 4 1713 2 448 2 12210 82 71 2 3424 2 463 2 3425 2 193 2 11015 2 112 2 25 2 46 2 126 2 110 2 1295 2 1510 2 155 82 83 2 11304 2 96 2 12211 2 193 2 12212 2 463 2 550 2 1985 2 4235 2 183 2 2035 82 93 2 12213 2 12214 2 193 2 150 2 12039 2 5843 2 12215 2 65 82 104 2 12216 2 12217 2 193 2 44 2 488 2 110 2 9 2 463 2 1510 2 2014 2 274 2 12152 4 2478 2 1295 2 155 2 11780 2 4235 2 112 2 2180 2 12218 2 51 2 112 2 560 2 2035 2 1804 2 12219 2 463 2 3430 2 1199 2 1985 2 458 2 3557 4 13 2 6066 2 4333 4 143 2 8624 2 143 2 2843 2 143 82 9421 82 143 2 8759 2 120 2 11780 2 3271 2 143 2 956 2 1985 2 3635 2 43 2 12072 2 96 2 143 82 143 2 12220 2 5843 2 65 2 151 2 143 2 3103 2 25 2 463 2 732 2 143 82 143 2 8763 2 1804 2 1453 2 143 2 2321 2 4758 2 9097 2 11780 2 11358 2 143 82 143 2 4711 2 2035 2 143 2 9941 2 1985 2 4805 2 5105 2 143 82 143 2 503 2 134 2 12221 2 143 2 448 2 51 2 550 2 2437 2 143 82 143 2 12222 2 2035 2 143 2 1535 2 702 2 550 2 143 4 13 2 8103 2 8104 4 51 2 12223 2 1136 2 207 2 12224 2 463 2 9434 82 51 2 12074 2 106 2 10432 2 65 2 463 2 1214 82 51 2 8763 2 4734 2 58 2 12225 2 115 2 463 82 51 2 956 2 7038 2 827 2 112 2 2964 2 11780 82 51 2 146 2 2018 2 1462 2 11780 2 58 2 2134 82 51 2 12111 2 11960 2 25 2 344 2 12150 4 13 2 14 2 10175 2 10176 4 12226 2 186 2 3045 2 25 2 12033 2 183 2 10095 2 25 2 12227 4 192 2 448 2 8502 2 1295 2 155 2 11780 2 4235 2 5119 2 12228 2 12229 4 10370 2 956 2 1985 2 1501 2 43 2 2335 2 1462 2 1295 2 12152 2 30 2 12230